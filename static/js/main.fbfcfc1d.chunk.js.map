{"version":3,"sources":["constants/theme.js","constants/style.js","components/Header/Nav.js","components/Loader.js","components/Img.js","webAPI/productAPI.js","features/cart/cartSlice.js","hooks/useCart.js","components/Header/Cart.js","assets/logo.png","components/Logo.js","components/Header/Header.js","components/Header/index.js","components/Footer/Footer.js","components/Footer/index.js","pages/HomePage/Carousel.js","hooks/useCarousel.js","assets/arrival_female.jpeg","assets/arrival_male.jpeg","pages/HomePage/Arrival.js","components/Feed.js","components/TestProductCards.js","features/general/generalSlice.js","features/product/productSlice.js","hooks/useProduct.js","components/ProductItem.js","pages/HomePage/Trend.js","pages/HomePage/HomePage.js","constants/mapping.js","components/CrumbNav.js","hooks/usePriceFilter.js","pages/ListPage/Filter.js","components/Trend.js","components/Aside.js","pages/ListPage/Sort.js","pages/ListPage/Pagination.js","pages/ListPage/ProductList.js","pages/ProductPage/CartPopup.js","components/LoginPopup.js","hooks/useAdminProduct.js","pages/AdminPages/AdminProductPage/AddProduct.js","pages/AdminPages/AdminProductPage/InfoPopup.js","components/Popup.js","pages/ListPage/ListPage.js","pages/ProductPage/Image.js","components/QtySelector.js","pages/ProductPage/Content.js","pages/ProductPage/Detail.js","pages/ProductPage/ProductPage.js","components/CheckoutFlow.js","pages/CartPage/CartItem.js","pages/CartPage/CartPage.js","pages/AdminPages/AdminProductPage/Information.js","pages/AdminPages/AdminProductPage/Quantity.js","pages/AdminPages/AdminProductPage/Price.js","pages/AdminPages/AdminProductPage/AdminProductPage.js","pages/AdminPages/AdminPage.js","App.js","app/store.js","index.js"],"names":["theme","fontSize","bannerLarge","bannerMedium","svgLarge","h2","svg","btn","h3","h4","bodyLarge","body","bodySmall","fontWeight","xxl","xl","l","m","s","xs","color","lightGrey","grey","black","white","light_primary","alert","success","brown","yellow","MEDIA_QUERY","LinkedTag","styled","Link","fontTheme","css","h5","p","span","H2","H3","H4","P","Span","H5","Btn","button","TextBtn","props","$active","$white","PageWrapper","div","PageContainer","MenuNav","nav","Menu","ul","SubMenu","SubMenuListFlex","SubMenuListBlock","MenuLink","$small","$large","$medium","SubMenuLink","SubMenuTitle","MobileMenuNav","MobileMenu","MobileLink","ToggleBtn","$size","ToggleInput","input","CheckBox","id","type","htmlFor","icon","faChevronDown","MobileNav","to","Nav","spin_loader","keyframes","LoaderBase","FullPageLoader","ImgLoader","Mask","Loader","Img","image","useState","isLoading","setIsLoading","src","alt","onLoad","url","baseURL","getProductsAPI","pathname","search","Arr","URLSearchParams","gender","category","push","men","women","has","sizes","get","split","map","size","colors","prices","order","page","is_on","is_sale","query","fetch","then","res","msg","status","Error","statusText","console","log","json","data","ok","message","catch","e","getProductAPI","updateProductAPI","product","method","headers","JSON","stringify","cartSlice","createSlice","name","initialState","cart","errorMessage","reducers","setCart","state","action","payload","setCartQty","find","item","pattern_id","qty","deleteCart","filter","index","addCart","setErrorMessage","actions","getProductInfo","result","error","itemPattern","patterns","pattern","group","Category","slice","Color","total","price_standard","price_sale","mainImg","Images","img","is_main","setCartStorage","items","dispatch","Promise","all","a","useCart","useDispatch","handleDeleteCart","cartLocal","parse","localStorage","getItem","i","setItem","handleQtyChange","target","value","parseInt","handleBtnClick","direction","getTotal","length","reduce","acc","cur","hasError","some","err","MenuBtn","CartContainer","CartCard","li","CartImage","CartInfo","ToCartBtn","Cover","label","Cart","useSelector","cartDOM","useRef","useLocation","useEffect","cartItem","current","checked","faShoppingCart","ref","onClick","faTrashAlt","LogoContainer","h1","Logo","logo","height","HeaderWrapper","HeaderContainer","HeaderLeft","HeaderRight","BurgerBtn","BurgerInput","MenuBtnGroup","ToAdminBtn","Header","navDOM","style","position","zIndex","faBars","faUser","faHeart","FooterWrapper","FooterContainer","BottomWrapper","BottomContainer","FooterLeft","FooterRight","LinkBtn","LinkBtnGroup","LinkedList","ListTitle","ListItem","Footer","BannerWrapper","BannerContainer","LeftBtn","RightBtn","Dot","DotContainer","ArrowContainer","BannerImage","handleClick","link","Carousel","W","setW","currentPage","setCurrentPage","isDragging","setIsDragging","isClicked","setIsClicked","isHovered","setIsHovered","X","banner","timeoutID","setTimeout","transition","transform","clearTimeout","handleTransform","pageX","handleMouseDown","preventDefault","handleMouseMove","handleMouseUp","handleMouseLeave","handleMouseOver","handleButtonClick","handleRadioChange","handleRadioClick","useCarousel","onMouseLeave","onMouseOver","onChange","onMouseDown","onMouseMove","onMouseUp","ArrivalWrapper","ArrivalContainer","ArrivalItem","TitleWrapper","TitleContainer","Arrival","arrival_female_img","arrival_male_img","FeedWrapper","FeedContainer","Feed","feeds","setFeeds","process","topics","orientation","count","toString","desc","description","urls","small","feed","rel","href","ProductCard","section","ImageContainer","ImageMask","ProductPrice","ProductReminder","ProductReminderSale","ProductReminderNew","TestProductCards","faCartPlus","fasHeart","generalSlice","isOpened","popupCode","setIsOpened","setPopupCode","productSlice","unfilteredProducts","products","spec","setUnfilteredProducts","setProducts","setProduct","setError","setSize","setColor","setQty","getProducts","useProduct","isChecked","setIsChecked","setMainImg","scaledImg","size_Initialized","addCommaToPrice","price","arr","reverse","join","offsetX","nativeEvent","offsetY","offsetWidth","perX","perY","left","top","handleImgClick","tagName","handleCheckedChange","handleSizeChange","handleColorChange","isNull","handleAddToCart","newItem","WriteToLocalStorage","handleAddToWishList","handleClosePopup","BtnContainer","ProductItem","TrendingWrapper","TrendingContainer","Subtitle","ProductContainer","Trend","male","female","trends","setTrends","trend","defaultChecked","HomePage","crumbMap","collection","admin","user","tops","shirts","knit","one_piece","outer","bottoms","skirts","general","information","quantity","new","sizeMap","Size_top","sleeve_length","body_length","body_width","Size_bottom","waist","hip","rise","inseam","Size_skirt","CrumbWrapper","CrumbContainer","CrumbNav","pathArr","faHome","path","usePriceFilter","useContext","LocationContext","minInitailizer","Math","min","maxInitailizer","max","getUnfilteredProducts","minimum","maximum","setMin","setMax","WR","WL","perLeft","perRight","bar","barSelected","knobLeft","knobRight","priceParam","minTemp","maxTemp","right","history","useHistory","isNaN","per","Number","toFixed","offsetLeft","newSearch","set","append","delete","priceURL","ControllerBtn","AsideBlock","FilterContainer","SizeFilter","ColorFilter","ColorSpan","$border","$color","PriceFilter","PriceTag","PriceBar","PriceKnob","ClearBtn","SizeSelect","param","faSquare","includes","faCheckSquare","newParam","ColorSelect","border","PriceSelect","$left","$right","Filter","faFilter","TrendContainer","TrendCard","TrendImage","TrendInfo","TrendPrice","TrendItem","PictureContainer","AsideContainer","aside","Controller","Aside","SortContainer","GalleryBtnGroup","GalleryBtn","$four","GalleryRadio","$two","$three","MenuContainer","SortSelect","sortMap","SortMenu","currentOrder","sortMenuDOM","sold_desc","price_desc","price_asc","title","Object","keys","Sort","faThLarge","faTh","faAlignJustify","rotate","PageBtn","$selected","Result","PageSelect","selected","Page","page_count","n","Pagination","per_page","number_start","number_end","IndexContainer","ProductList","window","scrollTo","rows","PopupItem","PopupBtnGroup","PopupBtn","$checked","CartPopup","PopupContent","LoginPopup","useAdminProduct","step","setStep","productToAdd","setProductToAdd","setName","setGender","setCategory","setDesc","material","setMaterial","washing","setWashing","Array","fill","images","setImages","setSizes","setColors","setPatterns","isOn","setIsOn","isSale","setIsSale","priceStandard","setPriceStandard","priceSale","setPriceSale","Colors","isSubmitted","setIsSubmitted","addProductAPI","lastProduct","checkForm","every","Set","saveProduct","handleInputChange","toUpperCase","toLowerCase","handleSetStep","searchProductAPI","handleFormSubmit","stepName","scrollIntoView","go","handleAddPattern","obj","ele","code","handleDeletePattern","currentTarget","handleUploadImage","StepContainer","FirstStepContainer","SecondStepContainer","$step","ThirdStepContainer","MainContainer","main","LeftContainer","RightContainer","FlowNode","FlowText","$fixed","FlowContent","InputBlock","UploadBtn","AddBtn","ImgInput","CheckInput","InputTitle","SizeInput","ColorInput","PatternInput","PriceInput","FirstStepInputs","files","file","FormData","uploadImageAPI","disabled","required","placeholder","accept","FirstStep","SecondStepInputs","sizesLength","colorsLength","entries","j","faTimes","SecondStep","getGroup","useCallback","ThirdStepInputs","ThirdStep","onSubmit","AddProduct","unblock","block","confirm","TableContainer","SizePopup","element","measure","word","ColorPopup","EditPopup","DeletePopup","PopupCover","$isOpened","PopupWrapper","PopupContainer","$type","PopupHeader","$cart","PopupTitle","Popup","faCheck","createContext","ListPage","currentPath","currentTitle","previousPath","Provider","ImageMain","$isLoading","ImageCarousel","Image","Qty","QtySelector","ContentContainer","SpecContainer","ColorSelector","Msg","SizeSelector","ColorLabel","$isNull","PriceIsSale","QtyAndAdd","WishList","Content","DetailContainer","DetailTag","TagBtn","DetailContent","InfoContainer","SizeContainer","Detail","ItemContainer","OffMessage","BreadCrumb","setPath","ProductPage","useParams","getProduct","FlowMobile","FlowContainer","CheckoutFlow","NameNote","Price","SellingPrice","ErrorMsg","MobileItem","ItemTitle","ItemContent","ItemImage","ItemName","CartItem","subtotal","MobileCartItem","ADDSTYLE","TotalContainer","MobileCartContainer","CartPage","ToDetailBtn","Item","info","setInfo","handleIsOpened","faPen","Information","handleSelectChange","faPlus","FilterBtn","Input","Form","td","$isError","Total","$safe","$caution","$danger","SubItem","setType","isEditing","setIsEditing","handleIsEditing","updatePatternAPI","updatedAt","Quantity","SortBtn","BooleanSvg","FontAwesomeIcon","NaN","sold","setOrder","handleSort","AdminProductPage","useRouteMatch","AsideContent","AdminPage","subPath","library","add","fab","Layout","App","exact","store","configureStore","reducer","productReducer","generalReducer","cartReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fbfcfc1d.chunk.js","sourcesContent":["export const theme = {\n    fontSize: {\n        bannerLarge: \"64px\",\n        bannerMedium: \"48px\",\n        svgLarge: \"40px\",\n        h2: \"32px\",\n        svg: \"28px\",\n        btn: \"24px\",\n        h3: \"22px\",\n        h4: \"18px\",\n        bodyLarge: \"16px\",\n        body: \"14px\",\n        bodySmall: \"12px\",\n    },\n    fontWeight: {\n        xxl: \"900\",\n        xl: \"700\",\n        l: \"500\",\n        m: \"400\",\n        s: \"300\",\n        xs: \"100\",\n    },\n    color: {\n        lightGrey: \"#aaa\",\n        grey: \"#555\",\n        black: \"#333\",\n        white: \"#fff\",\n        light_primary: \"#eee\",\n        alert: \"#e83927\",\n        success: \"#40a85f\",\n        brown: \"#918481\",\n        yellow: \"#d4ad54\",\n    },\n}","import { Link } from \"react-router-dom\"\nimport styled, { css } from \"styled-components\"\nimport { theme } from \"./theme\"\n\nexport const MEDIA_QUERY = {\n    l: \"@media (max-width: 1366px)\",\n    main: \"@media (max-width: 1024px)\",\n    m: \"@media (max-width: 768px)\",\n    s: \"@media (max-width: 512px)\",\n    xs: \"@media (max-width: 256px)\",\n}\n\nexport const LinkedTag = styled(Link)`\n    &::after {\n        content: '';\n        display: block;\n        width: 0%;\n        height: 2px;\n        background-color: ${theme.color.black};\n        transition: width .4s;\n    }\n    &:hover {\n        &::after {\n            width: 100%\n        }\n    }\n`\n\nexport const fontTheme = {\n    h2: css`\n        font-size: ${theme.fontSize.h2};\n        font-weight: ${theme.fontWeight.xl};\n        line-height: 2em;\n    `,\n    h3: css`\n        font-size: ${theme.fontSize.h3};\n        font-weight: ${theme.fontWeight.xl};\n        line-height: 1.5em;\n    `,\n    h4: css`\n        font-size: ${theme.fontSize.h4};\n        font-weight: ${theme.fontWeight.l};\n        line-height: 1.5em;\n    `, \n    h5: css`\n        font-size: ${theme.fontSize.bodySmall};\n        font-weight: ${theme.fontWeight.s};\n        line-height: 1.5em;\n    `,\n    p: css`\n        font-size: ${theme.fontSize.bodyLarge};\n        font-weight: ${theme.fontWeight.l};\n        line-height: 1.5em;\n    `,\n    span: css`\n        font-size: ${theme.fontSize.body};\n        font-weight: ${theme.fontWeight.m};\n        line-height: 1.5em;\n    `\n}\n\nexport const H2 = styled.h2`\n    ${fontTheme.h2}\n    color: ${theme.color.black};\n`\n\nexport const H3 = styled.h3`\n    ${fontTheme.h3}\n    color: ${theme.color.black};\n`\n\nexport const H4 = styled.h4`\n    ${fontTheme.h4}\n    color: ${theme.color.black};\n`\n\nexport const P = styled.p`\n    ${fontTheme.p}\n    color: ${theme.color.black};\n`\n\nexport const Span = styled.span`\n    ${fontTheme.span}\n    color: ${theme.color.black};\n`\n\nexport const H5 = styled.h5`\n    ${fontTheme.h5}\n    color: ${theme.color.black};\n`\n\n\nexport const Btn = styled.button`\n    & svg {\n        font-size: ${theme.fontSize.svg};\n        color: ${theme.color.lightGrey};\n        transition: .2s;\n    }\n    &:hover svg {\n        cursor: pointer;\n        color: ${theme.color.grey};\n    }\n`\n\nexport const TextBtn = styled.button`\n    padding: 5px 15px;\n    border-radius: .25em;\n    transition: .2s;\n    \n    ${fontTheme.span}\n    font-weight: ${props => props.theme.fontWeight.l};\n    \n    border: 1px solid ${props => props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n    background-color: ${props => (props.$white && props.$active) ? props.theme.color.white : props.$white ? props.theme.color.light_primary : props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n    color: ${props => !props.$white ? props.theme.color.white : props.$active ? props.theme.color.black : props.theme.color.grey};\n    &:hover {\n        border-color: ${props => props.$white && props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n        background-color: ${props => !props.$white ? props.theme.color.lightGrey : props.$active ? props.theme.color.black : props.theme.color.light_primary};\n        color: ${props => (props.$white && !props.$active) ? props.theme.color.grey : props.theme.color.white};\n    }\n    cursor: ${props => props.$active ? 'pointer' : 'not-allowed'};\n`\n\nexport const PageWrapper = styled.div``\nexport const PageContainer = styled.div`\n    width: 90%;\n    ${MEDIA_QUERY.s} {\n        width: 100%;\n    }\n    margin: 0 auto;\n    display: flex;\n    align-items: flex-start;\n`\n","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\";\nimport { fontTheme, MEDIA_QUERY, Btn, LinkedTag } from \"../../constants/style\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\n\nconst MenuNav = styled.nav`\n  ${MEDIA_QUERY.main} {\n    display: none;\n  }\n`\n\nconst Menu = styled.ul`\n  margin: 0 20px;\n  display: flex;\n\n  & > li {\n    & > a {\n      display: block;\n    }\n    margin: 0 5px;\n    padding: 16px 0;\n    position: relative;\n    & > div {\n      display: none;\n      position: absolute;\n    }\n    &:hover > div {\n      display: flex;\n    }\n  }\n`\n\nconst SubMenu = styled.div`\n  top: 71px;\n  box-shadow: 1px 1px 5px #aaa;\n  background-color: #fff;\n  & > div {\n    margin: 20px 30px;\n  }\n  & li > a {\n    display: block;\n  }\n`\n\nconst SubMenuListFlex = styled.div`\n  width: 240px;\n  & ul {\n    height: 150px;\n    padding: 10px 0;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    flex-wrap: wrap;\n  }\n`\n\nconst SubMenuListBlock = styled.div`\n  width: 180px;\n  & ul {\n    text-align: center;\n    & li {\n      display: inline-block;\n    }\n  }\n`\n\nconst MenuLink = styled(LinkedTag)`\n  ${fontTheme.h4};\n  ${props => props.$small && fontTheme.p};\n  padding: 0 20px;\n  ${props => !props.$small && 'line-height: 2em'};\n  color: ${props => props.theme.color.black};\n\n  ${MEDIA_QUERY.main} {\n    height: ${props => props.$large && '60px'};\n    height: ${props => props.$medium && '50px'};\n    height: ${props => props.$small && '40px'};\n    display: table-cell;\n    vertical-align: middle;\n  }\n`\n\nconst SubMenuLink = styled(LinkedTag)`\n  ${fontTheme.p}\n  color: ${props => props.theme.color.black};\n  padding: 5px 5px;\n`\n\nconst SubMenuTitle = styled(MenuLink)`\n  display: inline-block;\n  padding-bottom: 10px;\n  font-weight: ${props => props.theme.fontWeight.xl};\n  padding: 5px 5px;\n  & + ul {\n    border-top: 1px solid #ddd;\n  }\n`\n\nconst MobileMenuNav = styled.nav`\n  display: none;\n  ${MEDIA_QUERY.main} {\n    display: block;\n  }\n`\n\nconst MobileMenu = styled.ul`\n\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 20;\n  width: 75%;\n  max-width: 360px;\n  height: 100vh;\n  padding: 0 10px;\n  background-color: #fff;\n  box-shadow: 1px 0px 5px #aaa;\n  overflow-y: auto;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  & li {\n    position: relative;\n  }\n\n  & > div {\n    & > li {\n      width: 100%;\n      display: block;\n      & > ul {\n        margin-left: 30px;\n        display: none;\n        & > li {\n          & > ul {\n            display: none; \n            margin-left: 30px;\n          }\n        }\n      }\n    }\n  }\n`\n\nconst MobileLink = styled(Link)`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n`\n\nconst ToggleBtn = styled(Btn)`\n  width: 60px;\n  height: ${props => props.$size === 'large' ? '60px' : '50px'};\n  position: absolute;\n  right: 0;\n  z-index: 21;\n  & label {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n  & svg {\n    font-size: ${props => props.theme.fontSize.h4};\n  }\n`\n\n\nconst ToggleInput = styled.input`\n  position: absolute;\n  right: 0;\n  opacity: 0;\n  z-index: -1;\n  &:checked ~ ul {\n    display: block;\n  }\n  &:checked + button {\n    & svg {\n      color: ${props => props.theme.color.grey};\n      transform: rotate(0.5turn);\n    }\n  }\n`\n\nconst CheckBox = ({id, $size}) => {\n  return (\n    <>\n      <ToggleInput id={id} type=\"checkbox\"/>\n      <ToggleBtn {...{$size}}>\n        <label htmlFor={id}>\n            <FontAwesomeIcon icon={faChevronDown}/>\n        </label>\n      </ToggleBtn>\n    </>\n  )\n}\n\nexport const MobileNav = () => {\n  return (\n    <MobileMenuNav>\n      <MobileMenu>\n        <div>\n          <li>\n            <MenuLink to=\"#\" $large>新品上市</MenuLink>\n            <MobileLink to=\"#\" />\n          </li>\n          <li>\n            <CheckBox id=\"collection\" $size='large' />\n            <MenuLink to=\"/collection\" $large>商品一覽</MenuLink>\n            <MobileLink to=\"/collection\" />\n            <ul>\n              <li>\n                <CheckBox id=\"collection-men\" />\n                <MenuLink to=\"/collection/men\" $medium>男裝</MenuLink>\n                <MobileLink to=\"/collection/men\" />\n                <ul>\n                  <li>\n                    <MenuLink to=\"/collection/men/tops\" $small>上衣類</MenuLink>\n                    <MobileLink to=\"/collection/men/tops\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/men/shirts\" $small>襯衫類</MenuLink>\n                    <MobileLink to=\"/collection/men/shirts\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/men/knit\" $small>針織衫 / 毛衣</MenuLink>\n                    <MobileLink to=\"/collection/men/knit\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/men/bottoms\" $small>褲裝類</MenuLink>\n                    <MobileLink to=\"/collection/men/bottoms\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/men/outer\" $small>外套類</MenuLink>\n                    <MobileLink to=\"/collection/men/outer\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/men/general\" $small>配件類</MenuLink>\n                    <MobileLink to=\"/collection/men/general\" />\n                  </li>\n                </ul>\n              </li>\n              <li>\n                <CheckBox id=\"collection-women\" />\n                <MenuLink to=\"/collection/women\" $medium>女裝</MenuLink>\n                <MobileLink to=\"/collection/women\" />\n                <ul>\n                  <li>\n                    <MenuLink to=\"/collection/women/tops\" $small>上衣 / 襯衫</MenuLink>\n                    <MobileLink to=\"/collection/women/tops\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/women/knit\" $small>針織衫 / 毛衣</MenuLink>\n                    <MobileLink to=\"/collection/women/knit\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/women/bottoms\" $small>褲裝類</MenuLink>\n                    <MobileLink to=\"/collection/women/bottoms\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/women/skirts\" $small>裙子類</MenuLink>\n                    <MobileLink to=\"/collection/women/skirts\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/women/one_piece\" $small>洋裝類</MenuLink>\n                    <MobileLink to=\"/collection/women/one_piece\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/women/outer\" $small>外套類</MenuLink>\n                    <MobileLink to=\"/collection/women/outer\" />\n                  </li>\n                  <li>\n                    <MenuLink to=\"/collection/women/general\" $small>配件類</MenuLink>\n                    <MobileLink to=\"/collection/women/general\" />\n                  </li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li>\n            <CheckBox id=\"on-sale\" $size='large' />\n            <MenuLink to=\"#\" $large>特價專區</MenuLink>\n            <MobileLink to=\"#\" />\n            <ul>\n              <li>\n                <MenuLink to=\"#\" $medium>秋冬女裝新品_7折起</MenuLink>\n                <MobileLink to=\"#\" />\n              </li>\n              <li>\n                <MenuLink to=\"#\" $medium>秋冬男裝新品_7折起</MenuLink>\n                <MobileLink to=\"#\" />\n              </li>\n              <li>\n                <MenuLink to=\"#\" $medium>春夏商品出清_3折起</MenuLink>\n                <MobileLink to=\"#\" />\n              </li>\n            </ul>\n          </li>\n          <li>\n            <MenuLink to=\"#\" $large>關於我們</MenuLink>\n            <MobileLink to=\"#\" />\n          </li>\n        </div>\n        <div>\n          <li>\n            <MenuLink to=\"#\" $large>登入</MenuLink>\n            <MobileLink to=\"#\" />\n          </li>\n          <li>\n            <MenuLink to=\"#\" $large>願望清單</MenuLink>\n            <MobileLink to=\"#\" />\n          </li>\n        </div>\n      </MobileMenu>\n    </MobileMenuNav>\n  );\n}\n\nexport const Nav = () => {\n  return (\n    <MenuNav>\n      <Menu>\n        <li>\n          <MenuLink to=\"#\">新品上市</MenuLink>\n        </li>\n        <li>\n          <MenuLink to=\"/collection\">商品一覽</MenuLink>\n          <SubMenu>\n            <SubMenuListFlex>\n              <SubMenuTitle to=\"/collection/men\">男裝</SubMenuTitle>\n              <ul>\n                <li>\n                  <SubMenuLink to=\"/collection/men/tops\">上衣類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/men/shirts\">襯衫類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/men/knit\">針織衫 / 毛衣</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/men/bottoms\">褲裝類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/men/outer\">外套類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/men/general\">配件類</SubMenuLink>\n                </li>\n              </ul>\n            </SubMenuListFlex>\n            <SubMenuListFlex>\n              <SubMenuTitle to=\"/collection/women\">女裝</SubMenuTitle>\n              <ul>\n                <li>\n                  <SubMenuLink to=\"/collection/women/tops\">上衣 / 襯衫</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/women/knit\">針織衫 / 毛衣</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/women/bottoms\">褲裝類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/women/skirts\">裙子類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/women/one_piece\">洋裝類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/women/outer\">外套類</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"/collection/women/general\">配件類</SubMenuLink>\n                </li>\n              </ul>\n            </SubMenuListFlex>\n          </SubMenu>\n        </li>\n        <li>\n          <MenuLink to=\"#\">特價專區</MenuLink>\n          <SubMenu>\n            <SubMenuListBlock>\n              <ul>\n                <li>\n                  <SubMenuLink to=\"#\">秋冬女裝新品_7折起</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"#\">秋冬男裝新品_7折起</SubMenuLink>\n                </li>\n                <li>\n                  <SubMenuLink to=\"#\">春夏商品出清_3折起</SubMenuLink>\n                </li>\n              </ul>\n            </SubMenuListBlock>\n          </SubMenu>\n        </li>\n        <li>\n          <MenuLink to=\"#\">關於我們</MenuLink>\n        </li>\n      </Menu>\n    </MenuNav>\n  );\n}","import styled, { keyframes } from \"styled-components\";\n\nconst spin_loader = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst LoaderBase = styled.div`\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  margin: auto;\n  border: solid #f3f3f3;\n  border-top-color: #aaa;\n  border-radius: 50%;\n  width: 10%;\n  height: 10%;\n  animation: ${spin_loader} 1s linear infinite;\n`\n\nexport const FullPageLoader = styled(LoaderBase)`\n  position: fixed;\n  border-width: 8px;\n`\n\nexport const ImgLoader = styled(LoaderBase)`\n  position: absolute;\n  border-width: 4px;\n`\n\nconst Mask = styled.div`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 10;\n    background-color: ${props => props.theme.color.lightGrey}5;\n`\n\nexport const Loader = () => {\n\n    return (\n        <Mask>\n            <FullPageLoader />\n        </Mask>\n    )\n}\n","import { useState } from \"react\"\nimport { ImgLoader } from \"./Loader\";\n\nexport const Img = ({image}) => {\n\n    const [isLoading, setIsLoading] = useState(true)\n  \n    const handleImgLoad = () => {\n        setIsLoading(false)\n    }\n  \n    return (\n        <>\n            {isLoading && (\n              <ImgLoader />\n            )}\n            <img src={image.src} alt={image.alt} onLoad={handleImgLoad}/>\n        </>\n    )\n}\n","const baseURL = process.env.NODE_ENV === 'production' ? 'https://erika-backend.herokuapp.com' : 'http://localhost:5000'\nconst url = baseURL + '/api/v1'\n\nconst getProductsAPI = (pathname, search) => {\n\n    const Arr = [];\n    search = new URLSearchParams(search);\n    const gender = pathname[0]\n    const category = pathname[1]\n    const genderObj = {\n        men: 'M',\n        women: 'F',\n    }\n\n    if(gender){\n        Arr.push(['_gender', genderObj[gender]])\n    }\n    if(category){\n        Arr.push(['_category', category])\n    }\n\n    if(search.has('size')){\n        const sizes = search.get('size').split(' ').map(size => (\n            ['_size[]', size]\n        ))\n        Arr.push(...sizes)\n    }\n\n    if(search.has('color')){\n        const colors = search.get('color').split(' ').map(size => (\n            ['_color[]', size]\n        ))\n        Arr.push(...colors)\n    }\n\n    if(search.has('price')){\n        const prices = search.get('price').split('-')\n        Arr.push(['_min', prices[0]], ['_max', prices[1]])\n    }\n\n    if(search.has('order')){\n        const order = search.get('order')\n        Arr.push(['_order', order])\n    }\n\n    if(search.has('page')){\n        const page = search.get('page')\n        Arr.push(['_page', page])\n    }\n\n    if(search.has('is_on')){\n        const is_on = search.get('is_on')\n        Arr.push(['_is_on', is_on])\n    }\n\n    if(search.has('is_sale')){\n        const is_sale = search.get('is_sale')\n        Arr.push(['_is_sale', is_sale])\n    }\n\n    const query = new URLSearchParams(Arr);\n\n    return fetch(`${url}/products?${query}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 200){\n            msg = \"取得商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst getProductAPI = id => {\n    return fetch(url + `/products/${id}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 404) {\n            msg = \"無此id對應的商品\";\n        } else if (res.status === 200){\n            msg = \"取得商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst addProductAPI = product => {\n    return fetch(`${url}/products`, {\n        method: 'POST',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(product)\n    })\n    .then(res => {\n        let msg = null;\n        if (res.status === 403) {\n            msg = '缺少必要欄位'\n        } else if (res.status === 409) {\n            msg = \"商品名稱重複\";\n        } else if (res.status === 201){\n            msg = \"新增商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst updateProductAPI = (id, product) => {\n    return fetch(`${url}/products/${id}`, {\n        method: 'PATCH',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(product)\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 200: {\n                msg = \"更新商品成功\";\n                break\n            }\n            case 404: {\n                msg = \"無此id對應的商品\";\n                break\n            }\n            case 409: {\n                msg = \"商品名稱重複\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst deleteProductAPI = id => {\n    return fetch(`${url}/products/${id}`, {\n        method: 'DELETE',\n        headers: {\n            'content-type': 'application/json'\n        }\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 204: {\n                msg = \"刪除商品成功\";\n                return {ok: res.ok, message: msg}\n            }\n            case 404: {\n                msg = \"無此id對應的商品\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })    \n}\n\nconst searchProductAPI = arr => {\n\n    const query = new URLSearchParams(arr);\n\n    return fetch(url + `/product/search?${query}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 404) {\n            msg = \"目前暫無商品\";\n        } else if (res.status === 200){\n            msg = \"搜尋商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst updatePatternAPI = (id, pattern) => {\n    return fetch(`${url}/product/patterns/${id}`, {\n        method: 'PATCH',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(pattern)\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 200: {\n                msg = \"更新存貨數量成功\";\n                return {ok: res.ok, message: msg}\n            }\n            case 403: {\n                msg = \"存貨數量不可為負\";\n                break\n            }\n            case 404: {\n                msg = \"無此id對應的存貨\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })    \n}\n\nconst getFeedImagesAPI = () => {\n    return fetch('https://api.unsplash.com/topics/fashion', {\n        method: 'GET',\n        headers: {\n            'Accept-Version': 'v1',\n            'Authorization': `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n        },\n    })\n    .then(res => res.json())\n    .then(data => {\n        const query = new URLSearchParams({\n            topics: data.id,\n            orientation: 'squarish',\n            count: 6,\n        }).toString()\n        return fetch('https://api.unsplash.com/photos/random?' + query, {\n            method: 'GET',\n            headers: {\n                'Accept-Version': 'v1',\n                'Authorization': `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n            },\n        })\n        .then(res => res.json())\n    })\n}\n\nconst uploadImageAPI = file => {\n    const data = new FormData()\n    data.append('image', file)\n    return fetch('https://api.imgur.com/3/image', {\n        method: 'POST',\n        headers: {\n            'Authorization': `Client-ID ${process.env.REACT_APP_IMGUR_KEY}`\n        },\n        body: data\n    }).then(res => res.json())\n}\n\nexport { getProductsAPI, getProductAPI, addProductAPI, updateProductAPI, deleteProductAPI, searchProductAPI, updatePatternAPI, getFeedImagesAPI, uploadImageAPI };","import { createSlice } from '@reduxjs/toolkit'\nimport { getProductAPI } from '../../webAPI/productAPI';\n\nconst initialState = {\n  cart: null, \n  errorMessage: '',\n}\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    setCart: (state, action) => {\n      state.cart = action.payload;\n    },\n    setCartQty: (state, action) => {\n      state.cart.find(item => \n        item.pattern_id === action.payload.pattern_id\n      ).qty = action.payload.qty\n    },\n    deleteCart: (state, action) => {\n      state.cart = state.cart.filter((item, index) => index !== action.payload)\n    },\n    addCart: (state, action) => {\n      state.cart.push(action.payload);\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n  },\n})\n\nexport const { \n  setCart,\n  setCartQty,\n  addCart,\n  deleteCart,\n  setErrorMessage\n} = cartSlice.actions\n\n\nexport const getCartStorage = () => dispatch => {\n  const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n  dispatch(setCartStorage(cartItem))\n}\n\nconst getProductInfo = item => {\n  return getProductAPI(item.id)\n    .then(result => {\n      if(!result.ok) {\n        item.error = true;\n        const msg = result.message === '無此id對應的商品' ? 'localStorage 的 cart 裡面包含已被管理者刪除的商品' : result.message\n        throw new Error(msg)\n      }\n      return result.data\n    })\n    .then(product => {\n      item.name = product.product.name;\n      const itemPattern = product.patterns.find(pattern => (pattern.id === item.pattern_id))\n      const group = product.product.Category.group.slice(0, -1)\n      item.size = itemPattern[group].size;\n      item.color = itemPattern.Color.name;\n      item.total = itemPattern.total;\n      item.price_standard = product.product.price_standard;\n      item.price_sale = product.product.price_sale;\n      item.is_on = product.product.is_on;\n      item.is_sale = product.product.is_sale;\n      const mainImg = product.product.Images.find(img => img.is_main)\n      item.src = mainImg.src;\n      item.alt = mainImg.alt;\n    })\n    .catch(e => console.log(e.message))\n}\n\nexport const setCartStorage = items => dispatch => {\n  Promise.all(\n    items.map(async item => {\n        await getProductInfo(item)\n        return item\n    })\n  ).then(items => {\n    dispatch(setCart(items.filter(item => !item.error)))\n  })\n}\n\nexport const addCartStorage = item => dispatch => {\n  getProductInfo(item)\n    .then(() => dispatch(addCart(item)))\n}\n\nexport default cartSlice.reducer","import { useDispatch } from \"react-redux\";\nimport { deleteCart, setCartQty } from \"../features/cart/cartSlice\";\n\nexport default function useCart (item) {\n\n    const dispatch = useDispatch()\n\n    const handleDeleteCart = index => () => {\n        dispatch(deleteCart(index))\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        cartLocal = cartLocal.filter((item, i) => i !== index)\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const handleQtyChange = e => {\n        if(!e.target.value) return\n        dispatch(setCartQty({pattern_id: item.pattern_id, qty: parseInt(e.target.value)}))\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        cartLocal = cartLocal.map(i => {\n            if(i.pattern_id === item.pattern_id){\n                i.qty = parseInt(e.target.value)\n            }\n            return i\n        })\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const handleBtnClick = (direction) => {\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        if(direction === 'inc') {\n            dispatch(setCartQty({pattern_id: item.pattern_id, qty: item.qty+1}))\n            cartLocal = cartLocal.map(i => {\n                if(i.pattern_id === item.pattern_id){\n                    i.qty += 1\n                }\n                return i\n            })\n        }\n        if(direction === 'dec') {\n            if(item.qty<=1) return \n            dispatch(setCartQty({pattern_id: item.pattern_id, qty: item.qty-1}))\n            cartLocal = cartLocal.map(i => {\n                if(i.pattern_id === item.pattern_id){\n                    i.qty -= 1\n                }\n                return i\n            })\n        }\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const getTotal = cart => {\n        if(cart.length === 0) return\n        return cart.map(item => \n            (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n        ).reduce((acc, cur) => acc + cur)\n    }\n\n    const hasError = errorMessage => {\n        if(!errorMessage.length) return false\n        return errorMessage.some(err => err)\n    }\n\n    return {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick,\n        getTotal,\n        hasError\n    }\n}","import styled from \"styled-components\"\n\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faShoppingCart, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\n\nimport { Span, H4, Btn, fontTheme, TextBtn } from \"../../constants/style\"\n\nimport { Img } from \"../Img\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { setCartStorage } from \"../../features/cart/cartSlice\";\nimport useCart from \"../../hooks/useCart\";\nimport { useRef } from \"react\";\n\n\nconst MenuBtn = styled.div`\n  position: relative;\n  & > input {\n    display: none;\n    &:checked {\n        & ~ div {\n            display: flex;\n        }\n        & + label {\n            display: block;\n        }\n    }\n  }\n  & > button {\n    &:hover span {\n      cursor: pointer;\n    }\n    & span {\n      position: absolute;\n      width: 15px;\n      line-height: 15px;\n      vertical-align: middle;\n      top: -5px;\n      right: -5px;\n      font-size: ${props => props.theme.fontSize.bodySmall};\n      background-color: ${props => props.theme.color.black};\n      color: ${props => props.theme.color.white};\n      border-radius: 50%;\n    }\n  }\n`\n\nconst CartContainer = styled.div`\n  position: absolute;\n  top: calc(35px + calc(28.5px/2));\n  right: 0;\n  width: 50vw;\n  max-width: 300px;\n  background-color: #fff;\n  border: 1px solid #aaa;\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  & > ul {\n    max-height: 240px;\n    overflow: auto;\n  }\n  & > h4 {\n    padding: 20px;\n  }\n`\n\nconst CartCard = styled.li`\n  display: flex;\n  align-items: flex-start;\n  text-align: left;\n  & > button {\n    padding: 5px;\n    & svg {\n      font-size: ${props => props.theme.fontSize.body};\n      color: ${props => props.theme.color.black};\n    }\n  }\n`\n\nconst CartImage = styled.div`\n  margin: 5px;\n  width: 30%;\n  position: relative;\n  & img {\n    width: 100%;\n  }\n`\nconst CartInfo = styled.div`\n  padding: 5px;\n  width: 70%;\n  ${fontTheme.span}\n  font-weight: ${props => props.theme.fontWeight.l};\n  & p {\n    font-size: ${props => props.theme.fontSize.bodySmall};\n    font-weight: ${props => props.theme.fontWeight.m};\n  }\n  & > span {\n    color: ${props => props.theme.color.alert};\n    font-weight: ${props => props.theme.fontWeight.l};\n    & > span {\n      text-decoration: line-through;\n      color: ${props => props.theme.color.grey};\n      margin-right: 3px;\n    }\n  }\n`\n\nconst ToCartBtn = styled(TextBtn)`\n  margin: 10px;\n`\n\nconst Cover = styled.label`\n  z-index: 0;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  display: none;\n  // background-color: #aaaa;\n`\n\nexport const Cart = () => {\n\n    const dispatch = useDispatch()\n    const cart = useSelector(state => state.cart.cart)\n\n    const cartDOM = useRef()\n    const { pathname, search } = useLocation()\n\n    useEffect(() => {\n      const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n      dispatch(setCartStorage(cartItem))\n    }, [dispatch])\n\n    useEffect(() => {\n      cartDOM.current.checked = false\n    }, [pathname, search])\n  \n    const {\n      handleDeleteCart\n    } = useCart()\n\n  \n    return (\n      <MenuBtn>\n        <Btn>\n          <label htmlFor=\"cart\">\n            <FontAwesomeIcon icon={faShoppingCart} />\n            {cart && cart.length > 0 && (\n              <Span>{cart.reduce(((acc, cur) => acc + cur.qty), 0)}</Span>\n            )}\n          </label>\n        </Btn>\n        <input type=\"checkbox\" id=\"cart\" ref={cartDOM} />\n        <Cover htmlFor=\"cart\" />\n        <CartContainer>\n          {cart ? (\n            <>\n              {cart.length > 0 ? (\n                <ul>\n                  {cart.map((item, i) => {\n                    const url = `/product/${item.id}`\n                    return (\n                      <CartCard key={item.pattern_id}>\n                        <CartImage>\n                          <Link to={url}>\n                            <Img image={{src: item.src, alt: item.alt}} />\n                          </Link>\n                        </CartImage>\n                        <CartInfo>\n                          {item.qty} x {item.name}\n                          <p>尺寸: {item.size}, 顏色: {item.color}</p>\n                          {item.is_sale ? (\n                            <Span>\n                              <Span>${item.price_standard}</Span>\n                              ${item.price_sale}\n                            </Span>\n                            ) : (\n                            <>${item.price_standard}</>\n                          )}\n                        </CartInfo>\n                        <button onClick={handleDeleteCart(i)}>\n                          <FontAwesomeIcon icon={faTrashAlt}/>\n                        </button>\n                      </CartCard>\n                    )\n                  })}\n                </ul>\n              ) : (\n                <H4>購物車內目前沒有商品</H4>\n              )}\n              {cart.length > 0 ? (\n                <Link to=\"/cart\">\n                    <ToCartBtn $active={true}>\n                        前往結帳\n                    </ToCartBtn>\n                </Link>\n              ) : (\n                <ToCartBtn $active={false}>\n                    前往結帳\n                </ToCartBtn>\n              )}\n            </>\n          ) : (\n            <H4>商品載入中...</H4>\n          )}\n        </CartContainer>\n      </MenuBtn>\n    )\n  }","export default __webpack_public_path__ + \"static/media/logo.2f43df1d.png\";","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\nimport logo from '../assets/logo.png'\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nconst LogoContainer = styled.h1`\n  display: block;\n  height: 70px;\n  text-align: center;\n  ${MEDIA_QUERY.xs} {\n    display: none;\n  }\n`\n\nexport const Logo = () => {\n    return (\n      <LogoContainer>\n        <Link to=\"/\">\n          <img src={logo} height=\"70px\" alt=\"logo\"/>\n        </Link>\n      </LogoContainer>\n    )\n}","import styled from \"styled-components\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars, faUser, faHeart } from '@fortawesome/free-solid-svg-icons';\n\nimport { Btn, TextBtn } from \"../../constants/style\";\nimport { MEDIA_QUERY } from \"../../constants/style\";\n\nimport { Nav, MobileNav } from './Nav';\nimport { Cart } from \"./Cart\";\nimport { Logo } from '../Logo';\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\n\nconst HeaderWrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background-color: ${props => props.theme.color.white};\n  box-shadow: 1px 0px 5px #aaa;\n`\n\nconst HeaderContainer = styled.div`\n  height: 70px;\n  width: 90%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  & > h1 {\n    display: none;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    ${MEDIA_QUERY.main} {\n      display: block;\n    }\n    ${MEDIA_QUERY.xs} {\n      display: none;\n    }\n  }\n`\n\nconst HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n  ${MEDIA_QUERY.main} {\n    & > h1 {\n      display: none;\n    }\n  }\n`\n\nconst HeaderRight = styled.div`\n  display: flex;\n  align-items: center;\n  & > a {\n    margin-right: 30px;\n    ${MEDIA_QUERY.main} {\n      display: none;\n    }\n  }\n`\n\nconst BurgerBtn = styled(Btn)`\n  display: none;\n  ${MEDIA_QUERY.main} {\n    display: block;\n  }\n`\n\nconst BurgerInput = styled.input`\n  ${MEDIA_QUERY.main} {\n    display: block;\n  }\n  position: absolute;\n  left: 0;\n  display: none;\n  opacity: 0;\n  z-index: -1;\n  & ~ nav {\n    & > ul {\n      left: -380px;\n      transition: .25s;\n    }\n  }\n  :checked ~ nav {\n    & > ul {\n      left: 0;\n    }\n  }\n  :checked + button {\n    & label::after {\n      display: none;\n      content: '';\n      width: 100%;\n      height: 100vh;\n      position: fixed;\n      left: 0;\n      top: 0;\n      z-index: 11;\n      background: rgba(0,0,0,0.7);\n      ${MEDIA_QUERY.main} {\n        display: block;\n      }\n    }\n  }\n`\n\nconst MenuBtnGroup = styled.div`\n  display: flex;\n  & > div {\n    ${MEDIA_QUERY.main} {\n      &:nth-child(-n+2){\n        display: none;\n      }\n    }\n    & + div {\n      margin-left: 30px;\n    }\n  }\n`\n\nconst ToAdminBtn = styled(TextBtn)`\n`\n\n\nexport default function Header() {\n\n  const navDOM = useRef()\n  const { pathname, search } = useLocation()\n\n  const style = {\n    height: \"70px\",\n    position: \"relative\",\n    zIndex: \"10\"\n  }\n\n  useEffect(() => {\n    navDOM.current.checked = false\n  }, [pathname, search])\n\n  return (\n    <header style={style}>\n      <HeaderWrapper>\n        <HeaderContainer>\n          <HeaderLeft>\n            <BurgerInput id=\"nav\" type=\"checkbox\" ref={navDOM} />\n            <BurgerBtn>\n              <label htmlFor=\"nav\">\n                  <FontAwesomeIcon icon={faBars}/>\n              </label>\n            </BurgerBtn>\n            <MobileNav/>\n            <Logo/>\n            <Nav/>\n          </HeaderLeft>\n          <Logo/>\n          <HeaderRight>\n            <Link to=\"/admin/product\">\n              <ToAdminBtn $white $active>\n                管理後台\n              </ToAdminBtn>\n            </Link>\n            <MenuBtnGroup>\n              <div>\n                <Btn>\n                  <Link to=\"#\"><FontAwesomeIcon icon={faUser}/></Link>\n                </Btn>\n              </div>\n              <div>\n                <Btn>\n                  <Link to=\"#\"><FontAwesomeIcon icon={faHeart}/></Link>\n                </Btn>\n              </div>\n              <Cart />\n            </MenuBtnGroup>\n          </HeaderRight>\n        </HeaderContainer>\n      </HeaderWrapper>\n    </header>\n  );\n}","import Header from './Header'\nexport default Header","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { MEDIA_QUERY, Btn, H5, fontTheme, LinkedTag } from \"../../constants/style\"\n\nimport { Logo } from '../Logo'\n\n\nconst FooterWrapper = styled.div`\n  background-color: #eee5;\n`\n\nconst FooterContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  padding: 20px 0;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n  ${MEDIA_QUERY.s} {\n    display: block;\n  }\n`\n\nconst BottomWrapper = styled.div`\n  background-color: #222;\n`\n\nconst BottomContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  & h5 {\n    text-align: center;\n    color: ${props => props.theme.color.white};\n    padding: 10px 0;\n  }\n`\n\nconst FooterLeft = styled.ul`\n  display: flex;\n  justify-content: center;\n  ${MEDIA_QUERY.xs} {\n    display: block;\n  }\n`\n\nconst FooterRight = styled.div``\n\nconst LinkBtn = styled(Btn)``\n\nconst LinkBtnGroup = styled.div`\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  & button + button {\n    margin-left: 20px;\n  }\n`\n\nconst LinkedList = styled.li`\n  & + li {\n    margin-left: 40px;\n  }\n  ${MEDIA_QUERY.xs} {\n    & + li {\n      margin: 0;\n    }\n  }\n\n  & > ul {\n    padding: 10px 0;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    flex-wrap: wrap;\n  }\n\n  & a {\n    color: ${props => props.theme.color.black};\n  }\n`\n\nconst ListTitle = styled(LinkedTag)`\n  ${fontTheme.h4}\n  font-weight: ${props => props.theme.fontWeight.xl};\n  display: inline-block;\n  padding: 15px 5px;\n  border-bottom: 1px solid #ddd;\n`\n\nconst ListItem = styled(LinkedTag)`\n  ${fontTheme.p}\n  display: inline-block;\n  padding: 5px 5px;\n`\n\n\nexport default function Footer() {\n\n  return (\n    <footer>\n      <FooterWrapper>\n        <FooterContainer>\n          <FooterRight>\n            <Logo/>\n            <LinkBtnGroup>\n              <LinkBtn>\n                <Link to=\"#\">\n                  <FontAwesomeIcon icon={['fab', 'facebook']}/>\n                </Link>\n              </LinkBtn>\n              <LinkBtn>\n                <Link to=\"#\">\n                  <FontAwesomeIcon icon={['fab', 'instagram']}/>\n                </Link>\n              </LinkBtn>\n              <LinkBtn>\n                <Link to=\"#\">\n                  <FontAwesomeIcon icon={['fab', 'twitter']}/>\n                </Link>\n              </LinkBtn>\n            </LinkBtnGroup>\n          </FooterRight>\n          <FooterLeft>\n            <LinkedList>\n              <ListTitle to=\"#\">會員中心</ListTitle>\n              <ul>\n                <li>\n                  <ListItem to=\"#\">會員資料管理</ListItem>\n                </li>\n                <li>\n                  <ListItem to=\"#\">歷史訂單</ListItem>\n                </li>\n                <li>\n                  <ListItem to=\"#\">願望清單</ListItem>\n                </li>\n              </ul>\n            </LinkedList>\n            <LinkedList>\n              <ListTitle to=\"#\">關於我們</ListTitle>\n              <ul>\n                <li>\n                  <ListItem to=\"#\">隱私權條款</ListItem>\n                </li>\n                <li>\n                  <ListItem to=\"#\">免責聲明</ListItem>\n                </li>\n                <li>\n                  <ListItem to=\"#\">退貨政策</ListItem>\n                </li>\n                <li>\n                  <ListItem to=\"#\">FAQ</ListItem>\n                </li>\n              </ul>\n            </LinkedList>\n          </FooterLeft>\n        </FooterContainer>\n      </FooterWrapper>\n      <BottomWrapper>\n        <BottomContainer>\n          <H5>Copyright © 2021 TPdidilong All Rights Reserved</H5>\n        </BottomContainer>\n      </BottomWrapper>\n    </footer>\n  );\n}","import Footer from './Footer'\nexport default Footer","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\nimport useCarousel from \"../../hooks/useCarousel\";\n\nconst BannerWrapper = styled.div`\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n`\n\nconst BannerContainer = styled.div`\n  display: flex;\n  & img {\n    width: 100vw;\n  }\n`\n\nconst Btn = styled.button`\n  height: 50px;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto 0;\n  z-index: 1;\n  & svg {\n    padding: 5px 10px;\n    font-size: ${props => props.theme.fontSize.svgLarge};\n    color: ${props => props.theme.color.light_primary}4;\n    transition: .2s;\n    filter: drop-shadow(0px 0px 0.75rem ${props => props.theme.color.black});\n    &:hover {\n      color: ${props => props.theme.color.light_primary}6;\n    }\n    &:active ~ div {\n      transition: .25s;\n      transform: translateX(-400vw);\n    }\n  }\n`\n\nconst LeftBtn = styled(Btn)`\n  left: 2.5%;\n  & svg {\n    transform: rotate(90deg);\n  }\n`\n\nconst RightBtn = styled(Btn)`\n  right: 2.5%;\n  & svg {\n    transform: rotate(270deg);\n  }\n`\n\nconst Dot = styled.button`\n  width: 12px;\n  height: 12px;\n  background-color: ${props => props.theme.color.light_primary}6;\n  display: block;\n  border-radius: 50%;\n  position: relative;\n  transition: .25s;\n`\n\nconst DotContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  z-index: 1;\n  width: 50px;\n  & ul {\n    margin: 0 10px 10px;\n    display: flex;\n    justify-content: space-between;\n  }\n  & input {\n    display: none;\n    &:checked + button {\n      background-color: ${props => props.theme.color.light_primary}d;\n    }\n  }\n`\n\nconst ArrowContainer = styled.div``\n\nconst BannerImage = ({page, handleClick}) => {\n  const link = `#${page}`\n  const src = `https://picsum.photos/970/250?random=${page}`\n  const alt = `BannerImage${page}`\n  return (\n    <Link to={link} onClick={handleClick}>\n      <img src={src} alt={alt} />\n    </Link>\n  )\n}\n\nexport const Carousel = () => {\n\n  const {\n    banner,\n    currentPage,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n    handleMouseOver,\n    handleClick,\n    handleButtonClick,\n    handleRadioChange,\n    handleRadioClick\n  } = useCarousel();\n  \n  const bannerStyle = {\n    transform: \"translateX(-200vw)\",\n    transition: \"0s\"\n  }\n\n  return (\n    <BannerWrapper onMouseLeave={handleMouseLeave} onMouseOver={handleMouseOver}>\n      <DotContainer>\n        <ul>\n          <li>\n            <label>\n              <input \n                type=\"radio\" \n                name=\"banner\" \n                value=\"page1\" \n                checked={currentPage === \"page1\"} \n                onChange={handleRadioChange} \n              />\n              <Dot onClick={handleRadioClick(1)}/>\n            </label>\n          </li>\n          <li>\n            <label>\n              <input \n                type=\"radio\" \n                name=\"banner\" \n                value=\"page2\" \n                checked={currentPage === \"page2\"} \n                onChange={handleRadioChange} \n              />\n              <Dot onClick={handleRadioClick(2)}/>\n            </label>\n          </li>\n        </ul>\n      </DotContainer>\n      <ArrowContainer>\n        <LeftBtn onClick={handleButtonClick('backward')}>\n          <FontAwesomeIcon icon={faChevronDown}/>\n        </LeftBtn>\n        <RightBtn onClick={handleButtonClick('forward')}>\n          <FontAwesomeIcon icon={faChevronDown}/>\n        </RightBtn>\n      </ArrowContainer>\n      <BannerContainer \n        ref={banner} \n        style={bannerStyle} \n        onMouseDown={handleMouseDown} \n        onMouseMove={handleMouseMove} \n        onMouseUp={handleMouseUp}\n      >\n        <BannerImage page={1} handleClick={handleClick}/>\n        <BannerImage page={2} handleClick={handleClick}/>\n        <BannerImage page={1} handleClick={handleClick}/>\n        <BannerImage page={2} handleClick={handleClick}/>\n        <BannerImage page={1} handleClick={handleClick}/>\n        <BannerImage page={2} handleClick={handleClick}/>\n      </BannerContainer>\n    </BannerWrapper>\n  );\n}","import { useState, useEffect, useRef } from \"react\";\n\nexport default function useCarousel() {\n  \n  const [W, setW] = useState(0)\n  const [currentPage, setCurrentPage] = useState('page1')\n  const [isDragging, setIsDragging] = useState(false)\n  const [isClicked, setIsClicked] = useState(false)\n  const [isHovered, setIsHovered] = useState(false)\n\n  const X = useRef(null);\n  const banner = useRef(null);\n  const timeoutID = useRef(null);\n\n  useEffect(() => {\n    W % 2 ? setCurrentPage('page2') : setCurrentPage('page1')\n  }, [W, setCurrentPage])\n\n  useEffect(() => {\n    if(!isHovered){\n      timeoutID.current = setTimeout(() => {\n        banner.current.style.transition = '0s'\n        banner.current.style.transform = `translateX(${-100 * (W%2+3) + 100}vw)`\n        setTimeout(() => {\n          banner.current.style.transition = '.5s'\n          banner.current.style.transform = `translateX(${-100 * (W%2+3)}vw)`\n          setW(W%2+1)\n        })\n      }, 5000)\n    }\n    if(isHovered) clearTimeout(timeoutID.current)\n    return () => clearTimeout(timeoutID.current)\n  }, [banner, W, isHovered])\n\n  const handleMouseDown = e => {\n    e.preventDefault();\n    X.current = e.pageX;\n    setIsDragging(true)\n    setIsClicked(true)\n  }\n  const handleMouseMove = e => {\n    e.preventDefault();\n    setIsClicked(false)\n    if(isDragging) banner.current.style.transition = '0s'\n    if(X.current && isDragging && e.pageX - X.current < 0){\n      banner.current.style.transform = `translateX(calc(${-100 * (W%2+3) + 100}vw + ${e.pageX-X.current}px))`\n    }\n    if(X.current && isDragging && e.pageX - X.current > 0){\n      banner.current.style.transform = `translateX(calc(${-100 * (W%2+3) - 100}vw + ${e.pageX-X.current}px))`\n    }\n  }\n  const handleMouseUp = e => {\n    if(!isClicked && isDragging) handleTransform(e)\n    setIsDragging(false)\n  }\n  const handleMouseLeave = e => {\n    setIsHovered(false)\n    if(isDragging) handleTransform(e)\n    setIsDragging(false)\n  }\n\n  const handleTransform = e => {\n    banner.current.style.transition = '.25s'\n    if(e.pageX-X.current < 0 && e.pageX-X.current >= -100){\n      return banner.current.style.transform = `translateX(${-100 * (W%2+3) + 100}vw)`\n    }\n    if(e.pageX-X.current > 0 && e.pageX-X.current <= 100){\n      return banner.current.style.transform = `translateX(${-100 * (W%2+3) - 100}vw)`\n    }\n    banner.current.style.transform = `translateX(${-100 * (W%2+3)}vw)`\n    if(e.pageX-X.current < -100) return setW(W%2+1)\n    if(e.pageX-X.current > 100) return setW(W%2-1)\n  }\n\n  const handleMouseOver = e => {\n    setIsHovered(true)\n  }\n\n  const handleClick = e => {\n    if(!isClicked) e.preventDefault()\n  }\n\n  const handleButtonClick = direction => () => {\n    banner.current.style.transition = '0s'\n    if(direction === 'backward') {\n      banner.current.style.transform = `translateX(${-100 * (W%2+3) - 100}vw)`\n    }\n    if(direction === 'forward') {\n      banner.current.style.transform = `translateX(${-100 * (W%2+3) + 100}vw)`\n    }\n    setTimeout(() => {\n      banner.current.style.transition = '.25s'\n      banner.current.style.transform = `translateX(${-100 * (W%2+3)}vw)`\n      if(direction === 'forward') return setW(W%2+1)\n      if(direction === 'backward') return setW(W%2-1)\n    })\n  }\n\n  const handleRadioChange = e => {\n    setCurrentPage(e.target.value)\n  }\n\n  const handleRadioClick = page => () => {\n    banner.current.style.transition = '0s'\n    if(page === 1 && currentPage === \"page2\"){\n      banner.current.style.transform = `translateX(-300vw)`\n    }\n    if(page === 2 && currentPage === \"page1\"){\n      banner.current.style.transform = `translateX(-200vw)`\n    }\n    setTimeout(() => {\n      banner.current.style.transition = '.25s'\n      if(page === 1 && currentPage === \"page2\"){\n        banner.current.style.transform = `translateX(-200vw)`\n        setW(W%2-1)\n      }\n      if(page === 2 && currentPage === \"page1\"){\n        banner.current.style.transform = `translateX(-300vw)`\n        setW(W%2+1)\n      }\n    })\n  }\n\n  return {\n\n    currentPage,\n    banner,\n\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n    handleMouseOver,\n    handleClick,\n    handleButtonClick,\n    handleRadioChange,\n    handleRadioClick,\n\n  };\n}","export default __webpack_public_path__ + \"static/media/arrival_female.82ff7752.jpeg\";","export default __webpack_public_path__ + \"static/media/arrival_male.2de499ab.jpeg\";","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport arrival_female_img from '../../assets/arrival_female.jpeg'\nimport arrival_male_img from '../../assets/arrival_male.jpeg'\nimport { MEDIA_QUERY } from \"../../constants/style\"\n\nconst ArrivalWrapper = styled.div`\n`\nconst ArrivalContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  padding-top: 40px;\n  display: flex;\n  justify-content: space-between;\n  ${MEDIA_QUERY.s} {\n    flex-direction: column;\n    & > div {\n      margin: 10px 0;\n    }\n  }\n`\n\nconst ArrivalItem = styled.div`\n  width: 50%;\n  box-sizing: border-box;\n  margin: 10px;\n  background-color: #aaa;\n  box-shadow: 1px 1px 5px ${props => props.theme.color.lightGrey};\n  position: relative;\n  overflow: hidden;\n\n  &:hover img{\n    transform: scale(1.1);\n  }\n  & img {\n    width: 100%;\n    transition: .5s;\n  }\n  ${MEDIA_QUERY.s} {\n    width: 100%;\n  }\n`\n\nconst TitleWrapper = styled.div`\n  position: absolute;\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n`\n\nconst TitleContainer = styled.div`\n  text-align: center;\n  & hr {\n    margin: 15px 0;\n    border: 1px solid ${props => props.theme.color.lightGrey};\n  }\n  & h4 {\n    font-size: ${props => props.theme.fontSize.bannerLarge};\n    font-family: impact;\n    color: ${props => props.theme.color.black};\n  }\n  & p {\n    font-size: ${props => props.theme.fontSize.svgLarge};\n    font-weight: ${props => props.theme.fontWeight.xxl};\n    color: ${props => props.theme.color.black};\n    line-height: 1.5em;\n  }\n  ${MEDIA_QUERY.main} {\n    & hr {\n      margin: 7px 0;\n    }\n    & h4 {\n      font-size: ${props => props.theme.fontSize.bannerMedium};\n    }\n    & p {\n      font-size: ${props => props.theme.fontSize.svg};\n    }\n  }\n  ${MEDIA_QUERY.m} {\n    & hr {\n      margin: 5px 0;\n    }\n    & h4 {\n      font-size: ${props => props.theme.fontSize.h2};\n    }\n    & p {\n      font-size: ${props => props.theme.fontSize.h3};\n    }\n  }\n  ${MEDIA_QUERY.xs} {\n    & hr {\n      margin: 5px 0;\n    }\n    & h4 {\n      font-size: ${props => props.theme.fontSize.h3};\n    }\n    & p {\n      font-size: ${props => props.theme.fontSize.body};\n    }\n  }\n`\n\n\nexport const Arrival = () => {\n  return (\n    <ArrivalWrapper>\n      <ArrivalContainer>\n        <ArrivalItem>\n          <Link to=\"#\">\n            <TitleWrapper>\n              <TitleContainer>\n                <div>\n                  <h4>New</h4>\n                  <h4>Arrival</h4>\n                </div>\n                <hr/>\n                <p>女裝新品</p>\n              </TitleContainer>\n            </TitleWrapper>\n            <img src={arrival_female_img} alt=\"arrival_female_img\"/>\n          </Link>\n        </ArrivalItem>\n        <ArrivalItem>\n          <Link to=\"#\">\n            <TitleWrapper>\n              <TitleContainer>\n                <div>\n                  <h4>New</h4>\n                  <h4>Arrival</h4>\n                </div>\n                <hr/>\n                <p>男裝新品</p>\n              </TitleContainer>\n            </TitleWrapper>\n            <img src={arrival_male_img} alt=\"arrival_male_img\"/>\n          </Link>\n        </ArrivalItem>\n      </ArrivalContainer>\n    </ArrivalWrapper>\n  )\n}","import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport { getFeedImagesAPI } from \"../webAPI/productAPI\";\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nconst FeedWrapper = styled.div`\n`\nconst FeedContainer = styled.div`\n  padding: 40px 0 0;\n  display: flex;\n  overflow: hidden;\n  & div {\n    width: calc(100%/6);\n    ${MEDIA_QUERY.m} {\n      width: calc(100%/4);\n    }\n    ${MEDIA_QUERY.s} {\n      width: calc(100%/3);\n    }\n    ${MEDIA_QUERY.xs} {\n      width: calc(100%/2);\n    }\n    flex-shrink: 0;\n    & img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n`\n\nexport const Feed = () => {\n\n  const [feeds, setFeeds] = useState()\n  useEffect(() => {\n    getFeedImagesAPI()\n      .then(data => {\n        setFeeds(\n          data.map(img => (\n            {id: img.id, desc: img.description, url: img.urls.small}\n          ))\n        )\n      })\n  }, [])\n\n  return (\n    <FeedWrapper>\n      <FeedContainer>\n        {\n          feeds && feeds.map(feed => (\n            <div key={feed.id}>\n              <a target=\"_blank\" rel=\"noreferrer\" href={feed.url}>\n                <img src={feed.url} alt={feed.desc}/>\n              </a>\n            </div>\n          ))\n        }\n      </FeedContainer>\n    </FeedWrapper>\n  );\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { H2, H3, H4, P } from \"../constants/style\"\nimport { faCartPlus, faShoppingCart, faHeart as fasHeart} from '@fortawesome/free-solid-svg-icons'\nimport { faHeart } from '@fortawesome/free-regular-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { MEDIA_QUERY } from \"../constants/style\"\n\n\nconst ProductCard = styled.section`\n  padding: 10px;\n  box-sizing: border-box;\n  & a {\n    text-decoration: none;\n  }\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n  & h4 {\n    padding: 10px 0;\n  }\n`\n\nconst ImageContainer = styled.div`\n  position: relative;\n  aspect-ratio: 1;\n  & a {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n  &:hover > div:last-child {\n    background-color: ${props => props.theme.color.black}5;\n    & > button {\n      &:nth-child(1) {\n        left: -80px;\n      }\n      &:nth-child(2) {\n        right: -80px;\n      }\n    }\n  }\n`\n\nconst ImageMask = styled.div`\n  background-color: transparent;\n  transition: background-color .3s;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  & > button {\n    z-index: 2;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    &:nth-child(1) {\n      left: -400px;\n      transition: left .3s;\n    }\n    &:nth-child(2) {\n      right: -400px;\n      transition: right .3s .05s;\n    }\n  }\n`\n\nconst Btn = styled.button`\n  width: 60px;\n  height: 60px;\n  background-color: ${props => props.theme.color.lightGrey}a;\n  border-radius: 50%;\n  display: block;\n\n  &:hover {\n    bottom: 4px;\n  }\n  &:active {\n    top: 2px;\n  }\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & svg {\n    font-size: ${props => props.theme.fontSize.svgLarge};\n    color: ${props => props.theme.color.grey};\n  }\n`\n\nconst ProductPrice = styled(P)`\n  & span {\n    padding: 0 5px;\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      font-size: ${props => props.theme.fontSize.body};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n    }\n  }\n`\n\nconst ProductReminder = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  & span {\n    display: inline-block;\n    width: 50px;\n    color: ${props => props.theme.color.white};\n    font-weight: ${props => props.theme.fontWeight.xl};\n    font-size: ${props => props.theme.fontSize.body};\n    border-radius: 5px;\n    & + span {\n      margin-left: 5px;\n    }\n    ${MEDIA_QUERY.s} {\n      width: 40px;\n      font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n  }\n`\n\nconst ProductReminderSale = styled.span`\n  background-color: ${props => props.theme.color.alert};\n`\nconst ProductReminderNew = styled.span`\n  background-color: ${props => props.theme.color.black};\n`\n\nexport const TestProductCards = () => {\n    return (\n        <>\n            <ProductCard>\n                <div>\n                    <ImageContainer>\n                    <Link to=\"#\"/>\n                    <img src=\"https://picsum.photos/280/280?random=1\" alt=\"001\"/>\n                    <ProductReminder>\n                        <ProductReminderSale>SALE</ProductReminderSale>\n                        <ProductReminderNew>NEW</ProductReminderNew>\n                    </ProductReminder>\n                    <ImageMask>\n                        <Btn>\n                        <FontAwesomeIcon icon={faCartPlus}/>\n                        </Btn>\n                        <Btn>\n                        <FontAwesomeIcon icon={fasHeart}/>\n                        </Btn>\n                    </ImageMask>\n                    </ImageContainer>\n                    <Link to=\"#\">\n                    <H4>商品001</H4>\n                    </Link>\n                </div>\n                <ProductPrice>\n                    <span>NT $1,450</span>\n                    <span>NT $1,150</span>\n                </ProductPrice>\n            </ProductCard>\n            <ProductCard>\n                <div>\n                    <ImageContainer>\n                    <Link to=\"#\"/>\n                    <img src=\"https://picsum.photos/280/280?random=1\" alt=\"001\"/>\n                    <ImageMask>\n                        <Btn>\n                        <FontAwesomeIcon icon={faShoppingCart}/>\n                        </Btn>\n                        <Btn>\n                        <FontAwesomeIcon icon={faHeart}/>\n                        </Btn>\n                    </ImageMask>\n                    </ImageContainer>\n                    <Link to=\"#\">\n                    <H4>商品001</H4>\n                    </Link>\n                </div>\n                <P>NT $1,450</P>\n            </ProductCard>\n        </>\n    )\n}","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  isOpened: false,\n  errorMessage: '',\n  popupCode: '',\n}\n\nexport const generalSlice = createSlice({\n  name: 'general',\n  initialState,\n  reducers: {\n    setIsOpened: (state, action) => {\n      state.isOpened = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setPopupCode: (state, action) => {\n      state.popupCode = action.payload;\n    },\n  },\n})\n\nexport const { \n  setIsOpened,\n  setErrorMessage,\n  setPopupCode,\n} = generalSlice.actions\n\nexport default generalSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\nimport { getProductsAPI, getProductAPI } from '../../webAPI/productAPI';\n\nconst initialState = {\n  unfilteredProducts: null,\n  products: null,\n  product: null,\n  error: null,\n  spec: {size: '', color: '', qty: ''},\n}\n\nexport const productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    setUnfilteredProducts: (state, action) => {\n      state.unfilteredProducts = action.payload;\n    },\n    setProducts: (state, action) => {\n      state.products = action.payload;\n    },\n    setProduct: (state, action) => {\n      state.product = action.payload;\n    },\n    setError: (state, action) => {\n      state.error = action.payload;\n    },\n    setSize: (state, action) => {\n      state.spec.size = action.payload;\n    },\n    setColor: (state, action) => {\n      state.spec.color = action.payload;\n    },\n    setQty: (state, action) => {\n      state.spec.qty = action.payload;\n    },\n  },\n})\n\nexport const { \n  setUnfilteredProducts,\n  setProducts,\n  setProduct,\n  setError,\n  setSize,\n  setColor,\n  setQty,\n} = productSlice.actions\n\nexport const getUnfilteredProducts = pathname => dispatch => {\n  getProductsAPI(pathname, '')\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setUnfilteredProducts(''))\n      }\n      dispatch(setUnfilteredProducts(result.data))\n    })\n}\n\nexport const getProducts = (pathname, search) => dispatch => {\n  getProductsAPI(pathname, search)\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setProducts(''))\n        return dispatch(setError(result.message))\n      }\n      dispatch(setProducts(result.data))\n      dispatch(setError(null))\n    })\n}\n\nexport const getProduct = id => dispatch => {\n  getProductAPI(id)\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setProduct(''))\n        return dispatch(setError(result.message))\n      }\n      dispatch(setProduct(result.data))\n      dispatch(setError(null))\n    })\n}\n\nexport default productSlice.reducer","import { useEffect, useRef, useState } from \"react\";\nimport { useDispatch } from 'react-redux'\nimport { addCartStorage, setCartQty } from \"../features/cart/cartSlice\";\nimport { setPopupCode, setErrorMessage, setIsOpened } from \"../features/general/generalSlice\";\nimport { setColor, setProduct, setQty, setSize } from \"../features/product/productSlice\";\n\nexport default function useProduct (spec, product, group, isOpened) {\n\n  const [isChecked, setIsChecked] = useState(true)\n  const [mainImg, setMainImg] = useState({src: '', alt: ''})\n\n  const scaledImg = useRef()\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(isOpened) return;\n    if (!group || !product) return;\n    const size_Initialized = product ? product.product[`${group}s`][0].size : ''\n    dispatch(setSize(size_Initialized))\n    dispatch(setColor(''))\n    dispatch(setQty(1))\n  }, [product, group, dispatch, isOpened])\n\n  const handleClosePopup = type => () => {\n    dispatch(setIsOpened(false))\n    if(type === 'size' || type === 'color' || type === 'edit' || type === 'delete'){\n      dispatch(setProduct(''))\n    }\n    dispatch(setPopupCode(''))\n    dispatch(setErrorMessage(''))\n  }\n\n  const handleSizeChange = e => {\n    dispatch(setSize(e.target.value))\n    dispatch(setColor(''))\n  }\n  const handleColorChange = isNull => e => {\n    if(isNull) return;\n    dispatch(setColor(e.target.value))\n  }\n  const handleQtyChange = e => {\n    dispatch(setQty(parseInt(e.target.value)))\n  }\n  const handleBtnClick = direction => {\n    if(direction === 'inc') return dispatch(setQty(spec.qty+1))\n    if(direction === 'dec') {\n      if(spec.qty<=1) return \n      dispatch(setQty(spec.qty-1))\n    }\n  }\n\n  const handleMouseMove = e => {\n    e.preventDefault();\n    const offsetX = e.nativeEvent.offsetX > 0 ? e.nativeEvent.offsetX : 0\n    const offsetY = e.nativeEvent.offsetY > 0 ? e.nativeEvent.offsetY : 0\n    const offsetWidth = e.target.offsetWidth\n    const perX = offsetX / offsetWidth\n    const perY = offsetY / offsetWidth\n    scaledImg.current.style.left = `-${perX*100}%`\n    scaledImg.current.style.top = `-${perY*100}%`\n  }\n\n  const handleImgClick = e => {\n    if(e.target.tagName === 'IMG'){\n      setMainImg({src: e.target.src, alt: e.target.alt})\n    }\n  }\n\n  const handleCheckedChange = () => {\n    setIsChecked(!isChecked)\n  }\n\n  const handleAddToCart = () => {\n    if(!spec.size || !spec.color) return dispatch(setErrorMessage('請選擇尺寸或顏色'))\n    const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n    WriteToLocalStorage(cartItem)\n    dispatch(setIsOpened(true))\n  }\n\n  const handleAddToWishList = () => {\n    dispatch(setPopupCode('login'))\n    dispatch(setIsOpened(true))\n  }\n\n  function WriteToLocalStorage (cartItem) {\n    const pattern_id = product.patterns.find(pattern => (pattern.Color.name === spec.color) && (pattern[group].size === spec.size)).id\n    const newItem = {\n      pattern_id,\n      qty: spec.qty,\n    }\n    const getItem = cartItem.find(item => \n      item.pattern_id === newItem.pattern_id\n    )\n    if (getItem) {\n      getItem.qty += spec.qty\n      newItem.qty = getItem.qty\n      dispatch(setCartQty(newItem))\n    } else {\n      newItem.id = product.product.id\n      cartItem.push(newItem)\n      dispatch(addCartStorage(newItem))\n    }\n    return localStorage.setItem('cart', JSON.stringify(cartItem))\n  }\n\n  function addCommaToPrice (price) {\n    let p = price\n    const arr = []\n    while (parseInt(p/1000) > 0) {\n      const a = []\n      for(let i=0; i<3; i++){\n        a.push(parseInt(p%(10**(i+1))/(10**i)))\n      }\n      arr.push(a.reverse().join(''))\n      p = parseInt(p/1000)\n    }\n    arr.push(p)\n    return arr.reverse().join(',')\n  }\n\n  return {\n    addCommaToPrice,\n    mainImg,\n    setMainImg,\n    scaledImg,\n    handleMouseMove,\n    handleImgClick,\n    isChecked,\n    handleCheckedChange,\n    handleBtnClick,\n    handleSizeChange,\n    handleColorChange,\n    handleQtyChange,\n    handleAddToCart,\n    handleAddToWishList,\n    handleClosePopup,\n  };\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { H4, P } from \"../constants/style\"\nimport { faCartPlus, faShoppingCart, faHeart as fasHeart} from '@fortawesome/free-solid-svg-icons'\nimport { faHeart } from '@fortawesome/free-regular-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { MEDIA_QUERY } from \"../constants/style\"\nimport useProduct from \"../hooks/useProduct\";\nimport { Img } from \"./Img\";\nimport { useDispatch } from \"react-redux\";\n\n\nconst ProductCard = styled.section`\n  padding: 10px;\n  box-sizing: border-box;\n  & a {\n    text-decoration: none;\n  }\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n  & h4 {\n    padding: 10px 0;\n  }\n`\n\nconst ImageContainer = styled.div`\n  position: relative;\n  aspect-ratio: 1;\n  & > a {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n  &:hover > div:last-child {\n    background-color: ${props => props.theme.color.grey}5;\n    & button {\n      right: 0px;\n    }\n  }\n`\n\nconst ImageMask = styled.div`\n  background-color: transparent;\n  transition: background-color .3s;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n`\n\nconst BtnContainer = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 10px;\n  & > button {\n    margin-top: 5px;\n  }\n`\n\nconst Btn = styled.button`\n  width: 40px;\n  height: 40px;\n  display: block;\n  background-color: ${props => props.theme.color.lightGrey}a;\n  border-radius: 50%;\n  z-index: 2;\n  position: relative;\n  right: -60px;\n  &:nth-child(1) {\n    transition: .3s;\n  }\n  &:nth-child(2) {\n    transition: .3s .1s;\n  }\n  &:hover {\n    background-color: ${props => props.theme.color.white}a;\n  }\n\n  & svg {\n    font-size: ${props => props.theme.fontSize.btn};\n    color: ${props => props.theme.color.grey};\n  }\n`\n\nconst ProductPrice = styled(P)`\n  & span {\n    padding: 0 5px;\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      font-size: ${props => props.theme.fontSize.body};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n    }\n  }\n`\n\nconst ProductReminder = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  & span {\n    display: inline-block;\n    width: 50px;\n    color: ${props => props.theme.color.white};\n    font-weight: ${props => props.theme.fontWeight.xl};\n    font-size: ${props => props.theme.fontSize.body};\n    border-radius: 5px;\n    & + span {\n      margin-left: 5px;\n    }\n    ${MEDIA_QUERY.s} {\n      width: 40px;\n      font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n  }\n`\n\nconst ProductReminderSale = styled.span`\n  background-color: ${props => props.theme.color.alert};\n`\nconst ProductReminderNew = styled.span`\n  background-color: ${props => props.theme.color.black};\n`\n\nexport const ProductItem = ({product}) => {\n\n  const { \n    addCommaToPrice, \n    handleAddToWishList\n  } = useProduct();\n\n  const url = `/product/${product.id}`\n\n  return (\n    <ProductCard>\n      <div>\n        <ImageContainer>\n          <Link to={url}/>\n          <Img image={product.Images[0]} />\n          <ProductReminder>\n            {product.is_sale && (\n              <ProductReminderSale>SALE</ProductReminderSale>\n            )}\n            <ProductReminderNew>NEW</ProductReminderNew>\n          </ProductReminder>\n          <ImageMask>\n            <BtnContainer>\n              <Link to={url}>\n                <Btn>\n                  <FontAwesomeIcon icon={faShoppingCart}/>\n                </Btn>\n              </Link>\n              <Btn onClick={handleAddToWishList}>\n                <FontAwesomeIcon icon={faHeart}/>\n              </Btn>\n            </BtnContainer>\n          </ImageMask>\n        </ImageContainer>\n        <Link to={url}>\n          <H4>{product.name}</H4>\n        </Link>\n      </div>\n      {\n        product.is_sale ? (\n          <ProductPrice>\n            <span>NT ${addCommaToPrice(product.price_standard)}</span>\n            <span>NT ${addCommaToPrice(product.price_sale)}</span>\n          </ProductPrice>\n        ) : (\n          <P>NT ${addCommaToPrice(product.price_standard)}</P>\n        )\n      }\n    </ProductCard>\n  )\n}\n","import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\n\nimport { H2, H3, P } from \"../../constants/style\"\nimport { getProductsAPI } from \"../../webAPI/productAPI\";\nimport { MEDIA_QUERY } from \"../../constants/style\"\nimport { TestProductCards } from \"../../components/TestProductCards\";\nimport { ProductItem } from \"../../components/ProductItem\";\n\nconst TrendingWrapper = styled.div`\n`\nconst TrendingContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  padding: 40px 0;\n  text-align: center;\n  ${MEDIA_QUERY.s} {\n    width: 100%;\n  }\n  & h2, div {\n    text-align: center;\n  }\n  & input {\n    display: none;\n    &:checked + div {\n      display: flex;\n    }\n  }\n  & > p {\n    padding: 20px;\n  }\n`\n\nconst Subtitle = styled(H3)`\n  display: flex;\n  justify-content: center;\n  padding: 10px 0;\n  & span::after {\n    content: '';\n    display: block;\n    width: 0%;\n    height: 2px;\n    background-color: ${props => props.theme.color.black};\n    transition: width .4s;\n  }\n  & label {\n    padding: 0 5px;\n    &:hover {\n      cursor: pointer;\n      & span::after {\n        width: 100%;\n      }\n    }\n  }\n`\n\nconst ProductContainer = styled.div`\n  display: none;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  & > section {\n    width: calc(100%/4);\n    &:nth-child(n+9) {\n      display: none;\n    }\n    ${MEDIA_QUERY.main} {\n      width: calc(100%/3);\n      &:nth-child(n+7) {\n        display: none;\n      }\n    }\n    ${MEDIA_QUERY.m} {\n      width: 50%;\n      &:nth-child(n+5) {\n        display: none;\n      }\n    }\n    ${MEDIA_QUERY.xs} {\n      width: 100%;\n    }\n  }\n`\n\nexport const Trend = () => {\n\n  const [trends, setTrends] = useState({male: '', female: ''})\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    const search = '?is_on=1&order=sold_desc'\n    getProductsAPI('', search)\n    .then(result => {\n      if(!result.ok) return setError(result.message)\n      setTrends({\n        male: result.data.filter(trend => trend.gender === 'M'), \n        female: result.data.filter(trend => trend.gender === 'F')\n      })\n    })\n  }, [])\n\n  return (\n    <TrendingWrapper>\n      <TrendingContainer>\n        <H2>熱賣商品</H2>\n        <Subtitle>\n          <label htmlFor=\"female\"><span>女裝</span></label>\n          /\n          <label htmlFor=\"male\"><span>男裝</span></label>\n        </Subtitle>\n        {!trends.male && !trends.female && (\n          error ? (\n            <P>{error}</P>\n          ) : (\n            <P>商品載入中...</P>\n          )\n        )}\n        {trends.male && trends.female && !error && (\n          <div>\n            <input id=\"female\" type=\"radio\" name=\"subtitle\" defaultChecked/>\n            {trends.female.length > 0 ? (\n              <ProductContainer>\n                {\n                  trends.female && trends.female.map(trend => {\n                    return (\n                      <ProductItem key={trend.id} product={trend} />\n                    )\n                  })\n                }\n                <TestProductCards />\n              </ProductContainer>\n            ) : (\n              <ProductContainer>\n                <P>查無商品</P>\n              </ProductContainer>\n            )}\n            <input id=\"male\" type=\"radio\" name=\"subtitle\"/>\n            {trends.male.length > 0 ? (\n              <ProductContainer>\n                {\n                  trends.male && trends.male.map(trend => {\n                    return (\n                      <ProductItem key={trend.id} product={trend} />\n                    )\n                  })\n                }\n                <TestProductCards />\n              </ProductContainer>\n            ) : (\n              <ProductContainer>\n                <P>查無商品</P>\n              </ProductContainer>\n            )}\n          </div>\n        )}\n      </TrendingContainer>\n    </TrendingWrapper>\n  );\n}","import { Carousel } from './Carousel'\nimport { Arrival } from './Arrival'\nimport { Feed } from '../../components/Feed'\nimport { Trend } from './Trend'\n\nexport default function HomePage() {\n  return (\n    <main>\n      <Carousel />\n      <Arrival />\n      <Trend />\n      {process.env.NODE_ENV === 'production' && (\n        <Feed />\n      )}\n    </main>\n  );\n}","export const crumbMap = [\n    {\n        collection: '商品一覽',\n        admin: '管理後台'\n    },\n    {\n        men: '男裝',\n        women: '女裝',\n        product: '商品管理',\n        order: '訂單管理',\n        user: '用戶管理'\n    },\n    {\n        tops: '上衣類',\n        shirts: '襯衫類',\n        knit: '針織衫 / 毛衣',\n        one_piece: '洋裝類',\n        outer: '外套類',\n        bottoms: '褲裝類',\n        skirts: '裙子類',\n        general: '配件類',\n        information: '新增及管理產品資訊',\n        quantity: '管理存貨數量與紀錄',\n        price: '管理商品價格與紀錄',\n        new: '新增產品'\n    }\n]\n\nexport const sizeMap = {\n    Size_top: {\n      sleeve_length: '袖長',\n      body_length: '衣長',\n      body_width: '胸寬'\n    },\n    Size_bottom: {\n      waist: '腰圍',\n      hip: '臀圍',\n      rise: '褲檔',\n      inseam: '褲內檔長'\n    },\n    Size_skirt: {\n      waist: '腰圍',\n      hip: '臀圍',\n      length: '裙長'\n    }\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { crumbMap } from \"../constants/mapping\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHome } from '@fortawesome/free-solid-svg-icons'\nimport { MEDIA_QUERY } from \"../constants/style\";\n\n\n\nconst CrumbWrapper = styled.nav`\n  ${MEDIA_QUERY.xs} {\n    display: none;\n  }\n`\nconst CrumbContainer = styled.div`\n  width: 90%;\n  margin: 20px auto 10px;\n  & ol {\n    display: flex;\n    flex-wrap: wrap;\n    & li {\n      & a {\n        font-size: ${props => props.theme.fontSize.bodyLarge};\n        font-weight: ${props => props.theme.fontWeight.l};\n        color: ${props => props.theme.color.black};\n        line-height: 1.5em;\n        &:last-child {\n          font-weight: ${props => props.theme.fontWeight.xl};\n        }\n      }\n      & + li {\n        margin-left: 5px;\n        &::before {\n          content: '>';\n          margin-right: 5px;\n        }\n      }\n    }\n  }\n  & li {\n    z-index: 1;\n  }\n`\n\n\n\nexport const CrumbNav = ({pathArr, name}) => {\n  \n    return (\n      <CrumbWrapper>\n        <CrumbContainer>\n          <ol>\n            <li>\n              <Link to=\"/\">\n                <FontAwesomeIcon icon={faHome}/>\n              </Link>\n            </li>\n            {pathArr.slice(1).map((path, index) => {\n              return (\n                <li key={index}>\n                  <Link to={pathArr.slice(0, index+2).join('/')}>\n                    <span>{crumbMap[index][path]}</span>\n                  </Link>\n                </li>\n              )\n            })}\n            {name && (\n              <li>\n                <Link to=\"#\">\n                  <span>{name}</span>\n                </Link>\n              </li>\n            )}\n          </ol>\n        </CrumbContainer>\n      </CrumbWrapper>\n    )\n  }","import { useState, useEffect, useContext, useRef } from \"react\";\nimport { useHistory } from \"react-router\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUnfilteredProducts } from \"../features/product/productSlice\";\n\nimport { LocationContext } from \"../pages/ListPage/ListPage\";\n\nexport default function usePriceFilter() {\n\n  const { pathname, search } = useContext(LocationContext);\n  \n  const unfilteredProducts = useSelector(state => state.product.unfilteredProducts)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getUnfilteredProducts(pathname.split('/').slice(2, 4)))\n  }, [pathname, dispatch])\n\n  function minInitailizer () {\n    if(!unfilteredProducts) return 300\n    const arr = unfilteredProducts.map(product => product.is_sale ? product.price_sale : product.price_standard)\n    return Math.min(...arr)\n  }\n  function maxInitailizer () {\n    if(!unfilteredProducts) return 1200\n    const arr = unfilteredProducts.map(product => product.is_sale ? product.price_sale : product.price_standard)\n    return Math.max(...arr)\n  }\n\n  const minimum = minInitailizer() || 300\n  const maximum = maxInitailizer() || 1200\n\n  const [min, setMin] = useState(() => minInitailizer());\n  const [max, setMax] = useState(() => maxInitailizer());\n  const [isDragging, setIsDragging] = useState(false)\n\n  const X = useRef(null);\n  const direction = useRef(null);\n\n  const WR = useRef(null);\n  const WL = useRef(null);\n  const perLeft = useRef(100);\n  const perRight = useRef(100);\n\n  const bar = useRef();\n  const barSelected = useRef();\n  const knobLeft = useRef();\n  const knobRight = useRef();\n\n  let newSearch = new URLSearchParams(search);\n  const priceParam = newSearch.get('price') || `${minimum}-${maximum}`\n  useEffect(() => {\n    const minTemp = parseInt(priceParam.split('-')[0])\n    const maxTemp = parseInt(priceParam.split('-')[1])\n    setMin(minTemp)\n    setMax(maxTemp)\n    perLeft.current = 100 - (100*(maximum-maxTemp)/(maximum-minimum))\n    perRight.current = 100 - (100*(minTemp-minimum)/(maximum-minimum))\n    WR.current = perLeft.current * bar.current.offsetWidth / 100\n    WL.current = perRight.current * bar.current.offsetWidth / 100\n    barSelected.current.style.right = `${100 - perLeft.current}%`;\n    barSelected.current.style.left = `${100 - perRight.current}%`;\n    knobLeft.current.style.right = `${perRight.current}%`;\n    knobRight.current.style.left = `${perLeft.current}%`;\n  }, [priceParam, maximum, minimum])\n\n  const history = useHistory()\n\n  const handleMouseDown = e => {\n    console.log(WR)\n    console.log(WL)\n    console.log(perLeft)\n    console.log(perRight)\n    if(isNaN(WR.current) || isNaN(WL.current) || isNaN(perLeft.current) || isNaN(perRight.current)){\n      return setIsDragging(false)\n    }\n    X.current = e.pageX;\n    if(e.target === knobRight.current){\n      direction.current = 'R';\n    } else if(e.target === knobLeft.current){\n      direction.current = 'L';\n    }\n    if(WR.current === null){\n      WR.current = bar.current.offsetWidth;\n    }\n    if(WL.current === null){\n      WL.current = bar.current.offsetWidth;\n    }\n    setIsDragging(true)\n  }\n\n  const handleMouseMove = e => {\n    if(X.current && isDragging){\n      e.preventDefault();\n      if(direction.current === 'R'){\n        let per = ((WR.current - X.current + e.pageX)/bar.current.offsetWidth * 100);\n        if(per > 100) per = 100;\n        if(per < 100 - perRight.current) per = 100 - perRight.current;\n        knobRight.current.style.left = `${per}%`;\n        barSelected.current.style.right = `${100 - per}%`;\n        perLeft.current = per;\n        setMax(Number((maximum - (maximum - minimum) * (100 - per) / 100).toFixed(0)));\n      }\n      if(direction.current === 'L'){\n        let per = ((WL.current + X.current - e.pageX)/bar.current.offsetWidth * 100);\n        if(per > 100) per = 100;\n        if(per < 100 - perLeft.current) per = 100 - perLeft.current;\n        knobLeft.current.style.right = `${per}%`;\n        barSelected.current.style.left = `${100 - per}%`;\n        perRight.current = per;\n        setMin(Number((minimum + (maximum - minimum) * (100 - per) / 100).toFixed(0)));\n      }\n    }\n  }\n\n  const handleMouseUp = e => {\n    if(isDragging) {\n      if(direction.current === 'R'){\n        if(!barSelected.current.offsetWidth){\n          WR.current = knobRight.current.offsetLeft\n        }else{\n          WR.current = WR.current - X.current + e.pageX;\n        }\n        if(WR.current > bar.current.offsetWidth){\n          WR.current = bar.current.offsetWidth\n        }\n      }\n      if(direction.current === 'L'){\n        if(!barSelected.current.offsetWidth){\n          WL.current = bar.current.offsetWidth - knobRight.current.offsetLeft\n        }else{\n          WL.current = WL.current + X.current - e.pageX;\n        }\n        if(WL.current > bar.current.offsetWidth){\n          WL.current = bar.current.offsetWidth\n        }\n      }\n      setIsDragging(false)\n\n      let newSearch = new URLSearchParams(search);\n      const priceParam = newSearch.get('price');\n    \n      if (priceParam) {\n        newSearch.set('price', `${min}-${max}`)\n      } else {\n        newSearch.append('price', `${min}-${max}`)\n      }\n\n      if (newSearch.has('page')) {\n        newSearch.delete('page')\n      }\n    \n      const priceURL = `${pathname}?${newSearch}`\n\n      history.push(priceURL)\n    }\n  }\n\n  const handleMouseLeave = e => {\n    if(isDragging) {\n      if(direction.current === 'R'){\n        if(!barSelected.current.offsetWidth){\n          WR.current = knobRight.current.offsetLeft\n        }else{\n          WR.current = WR.current - X.current + e.pageX;\n        }\n        if(WR.current > bar.current.offsetWidth){\n          WR.current = bar.current.offsetWidth\n        }\n      }\n      if(direction.current === 'L'){\n        if(!barSelected.current.offsetWidth){\n          WL.current = bar.current.offsetWidth - knobRight.current.offsetLeft\n        }else{\n          WL.current = WL.current + X.current - e.pageX;\n        }\n        if(WL.current > bar.current.offsetWidth){\n          WL.current = bar.current.offsetWidth\n        }\n      }\n      setIsDragging(false)\n\n      let newSearch = new URLSearchParams(search);\n      const priceParam = newSearch.get('price');\n    \n      if (priceParam) {\n        newSearch.set('price', `${min}-${max}`)\n      } else {\n        newSearch.append('price', `${min}-${max}`)\n      }\n\n      if (newSearch.has('page')) {\n        newSearch.delete('page')\n      }\n    \n      const priceURL = `${pathname}?${newSearch}`\n\n      history.push(priceURL)\n    }\n  }\n\n  return {\n    bar,\n    barSelected,\n    knobLeft,\n    knobRight,\n\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n\n    min,\n    max,\n    isDragging\n  };\n}","import { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSquare, faCheckSquare } from '@fortawesome/free-regular-svg-icons'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons'\n\nimport { H4, P } from \"../../constants/style\"\nimport { MEDIA_QUERY, Btn } from \"../../constants/style\"\n\nimport useProduct from \"../../hooks/useProduct\";\nimport usePriceFilter from \"../../hooks/usePriceFilter\";\n\nimport { LocationContext } from \"./ListPage\";\n\n\nconst ControllerBtn = styled(Btn)`\n  display: none;\n  height: 40px;\n  padding-left: 20px;\n  border-radius: 5px;\n  background-color: #eee;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  & svg {\n    padding: 10px;\n    font-size: ${props => props.theme.fontSize.h3};\n  }\n  ${MEDIA_QUERY.main} {\n    display: block;\n    position: absolute;\n    right: -30px;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n  }\n`\n\nconst AsideBlock = styled.div`\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  & > h4 {\n    padding: 10px 15px;\n    font-weight: ${props => props.theme.fontWeight.xl};\n    background-color: #eee;\n  }\n  & a {\n    color: ${props => props.theme.color.black};\n  }\n`\n\nconst FilterContainer = styled(AsideBlock)`\n  ${MEDIA_QUERY.main} {\n    position: relative;\n    border: none;\n    box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  }\n  & section {\n    padding: 10px 15px 0;\n    &:last-child {\n      padding-bottom: 10px;\n    }\n    & ul {\n      padding: 5px 10px;\n    }\n  }\n`\n\nconst SizeFilter = styled.section`\n  & li {\n    display: flex;\n  }\n  & a {\n    z-index: 1;\n    width: 100%;\n    & > svg {\n      font-size: ${props => props.theme.fontSize.h4};\n      color: ${props => props.theme.color.grey};\n    }\n    & > span {\n      padding: 0 5px;\n      line-height: 2em;\n    }\n  }\n`\n\nconst ColorFilter = styled.section`\n  & ul {\n    display: flex;\n    & li {\n      z-index: 1;\n      & + li {\n        margin-left: 5px;\n      }\n    }\n  }\n`\n\nconst ColorSpan = styled.span`\n  display: block;\n  box-sizing: border-box;\n  border: 1px solid #aaa8;\n  border: ${props => (props.$border || (props.$color === 'black')) && 'thin solid #333'};\n  border: ${props => (props.$border && (props.$color === 'black')) && 'medium double #eee'};\n  width: 30px;\n  height: 30px;\n  background-color: ${props => props.theme.color[props.$color]};\n`\n\nconst PriceFilter = styled.section`\n`\n\nconst PriceTag = styled(P)`\n  font-weight: ${props => props.theme.fontWeight.m};\n  & span {\n    &:last-child {\n      &::before {\n        content: '-';\n        margin: 0 5px;\n      }\n    }\n  }\n`\n\nconst PriceBar = styled.div`\n  margin: 10px auto;\n  padding: 0 15px;\n  background-color: ${props => props.theme.color.lightGrey};\n  & > div {\n    z-index: 1;\n    width: 100%;\n    height: 5px;\n    position: relative;\n    & > div {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      background-color: ${props => props.theme.color.grey};\n    }\n  }\n`\n\nconst PriceKnob = styled.span`\n  display: block;\n  width: 15px;\n  height: 15px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid ${props => props.theme.color.grey};\n  background-color: ${props => props.theme.color.light_primary};\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto 0;\n`\n\nconst Cover = styled.label`\n  z-index: 2;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n`\n\nconst ClearBtn = styled(Btn)`\n  background-color: ${props => props.theme.color.black};\n  padding: 3px 10px;\n  margin: 10px 15px 0;\n  border-radius: 1em;\n  & span {\n    color: ${props => props.theme.color.white};\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n`\n\n\nconst SizeSelect = ({size}) => {\n\n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n  const param = newSearch.get('size');\n  let icon = faSquare;\n\n  if (param) {\n    if (!param.includes(size)) {\n      newSearch.set('size', `${param} ${size}`)\n    } else if (param === size) {\n      newSearch.delete('size')\n      icon = faCheckSquare;\n    } else {\n      const newParam = param.split(' ' + size).join('').split(size + ' ').join('')\n      newSearch.set('size', newParam)\n      icon = faCheckSquare;\n    }\n  } else {\n    newSearch.append('size', size)\n  }\n\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n\n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <FontAwesomeIcon icon={icon}/>\n      <span>{size}</span>\n    </Link>\n  )\n}\n\nconst ColorSelect = ({color}) => {\n\n  const colors = {\n    white: 'light_primary',\n    black: 'black',\n    grey: 'lightGrey',\n    yellow: 'yellow',\n    brown: 'brown',\n  }\n  \n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n  const param = newSearch.get('color');\n  let border = false;\n\n  if (param) {\n    if (!param.includes(color)) {\n      newSearch.set('color', `${param} ${color}`)\n    } else if (param === color) {\n      newSearch.delete('color')\n      border = true;\n    } else {\n      const newParam = param.split(' ' + color).join('').split(color + ' ').join('')\n      newSearch.set('color', newParam)\n      border = true;\n    }\n  } else {\n    newSearch.append('color', color)\n  }\n\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n\n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <ColorSpan $border={border} $color={colors[color]}/>\n    </Link>\n  )\n}\n\nconst PriceSelect = () => {\n\n  const rightStyle = {\n    left: \"100%\"\n  }\n  const leftStyle = {\n    right: \"100%\"\n  }\n  const barStyle = {\n    left: \"0%\",\n    right: \"0%\"\n  }\n\n  const { addCommaToPrice } = useProduct()\n  \n  const {\n    bar,\n    barSelected,\n    knobLeft,\n    knobRight,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n    min,\n    max,\n    isDragging\n  } = usePriceFilter();\n\n  return (\n    <div>\n      <PriceTag>\n        <span>${addCommaToPrice(min)}</span>\n        <span>${addCommaToPrice(max)}</span>\n      </PriceTag>\n      <PriceBar>\n        <div ref={bar}>\n          <div ref={barSelected} style={barStyle} />\n            <PriceKnob ref={knobLeft} $left style={leftStyle} onMouseDown={handleMouseDown} />\n            <PriceKnob ref={knobRight} $right style={rightStyle} onMouseDown={handleMouseDown} />\n        </div>\n      </PriceBar>\n      {isDragging && (\n        <Cover\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseLeave}\n        />\n      )}\n    </div>\n  )\n}\n\nexport const Filter = () => {\n  \n  const sizes = ['S', 'M', 'L']\n  const colors = ['brown', 'yellow', 'white', 'grey', 'black']\n\n  const { pathname, search } = useContext(LocationContext);\n  \n  return (\n    <>\n      <ControllerBtn>\n        <label htmlFor=\"filter\">\n          <FontAwesomeIcon icon={faFilter}/>\n        </label>\n      </ControllerBtn>\n      <FilterContainer>\n        <H4>商品篩選</H4>\n        {search && !search.includes('page') && (\n          <ClearBtn>\n            <Link to={pathname}>\n              <span>清除篩選</span>\n            </Link>\n          </ClearBtn>\n        )}\n        <SizeFilter>\n          <P>尺寸</P>\n          <ul>\n            {sizes.map(size => (\n              <li key={size}>\n                <SizeSelect {...{size}} />\n              </li>\n            ))}\n          </ul>\n        </SizeFilter>\n        <ColorFilter>\n          <P>顏色</P>\n          <ul>\n            {colors.map(color => (\n              <li key={color}>\n                <ColorSelect {...{color}} />\n              </li>\n            ))}\n          </ul>\n        </ColorFilter>\n        <PriceFilter>\n          <P>價格</P>\n          <PriceSelect />\n        </PriceFilter>\n      </FilterContainer>\n    </>\n  )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { H4, P, Span } from \"../constants/style\"\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nimport useProduct from \"../hooks/useProduct\";\nimport { getProductsAPI } from \"../webAPI/productAPI\";\nimport { Img } from \"./Img\";\n\n\nconst AsideBlock = styled.div`\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  & > h4 {\n    padding: 10px 15px;\n    font-weight: ${props => props.theme.fontWeight.xl};\n    background-color: #eee;\n  }\n  & a {\n    color: ${props => props.theme.color.black};\n  }\n`\n\nconst TrendContainer = styled(AsideBlock)`\n  ${MEDIA_QUERY.main} {\n    display: none;\n  }\n  & > p {\n    text-align: center;\n    padding: 20px;\n  }\n`\n\nconst TrendCard = styled.section`\n  padding: 10px 0;\n  display: flex;\n  & > div {\n      padding: 0 10px;\n  }\n`\n\nconst TrendImage = styled.div`\n  z-index: 1;\n  width: 60%;\n  display: flex;\n  align-items: center;\n  position: relative;\n  & img {\n    width: 100%;\n  }\n`\n\nconst TrendInfo = styled.div`\n  width: 40%;\n  & p {\n    padding: 5px 0;\n  }\n  & span {\n    display: block;\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n`\n\nconst TrendPrice = styled.div`\n  & span {\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n    }\n  }\n`\n\nconst TrendItem = ({trend}) => {\n\n  const { addCommaToPrice } = useProduct()\n\n  return (\n    <TrendCard>\n      <TrendImage>\n        <Link to=\"/products\">\n          <Img image={trend.Images[0]} />\n          {/* <img src={trend.Images[0].src} alt={trend.Images[0].alt} /> */}\n        </Link>\n      </TrendImage>\n      <TrendInfo>\n        <Link to=\"/products\">\n          <P>{trend.name}</P>\n        </Link>\n        {\n          trend.is_sale ? (\n            <TrendPrice>\n              <Span>NT ${addCommaToPrice(trend.price_standard)}</Span>\n              <Span>NT ${addCommaToPrice(trend.price_sale)}</Span>\n            </TrendPrice>\n          ) : (\n            <Span>NT ${addCommaToPrice(trend.price_standard)}</Span>\n          )\n        }\n      </TrendInfo>\n    </TrendCard>\n  )\n}\n\nexport const Trend = () => {\n\n  const [trends, setTrends] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    const search = '?is_on=1&order=sold_desc'\n    getProductsAPI('', search)\n    .then(result => {\n      if(!result.ok) return setError(result.message)\n      setTrends(result.data.slice(0, 4))\n    })\n  }, [])\n\n  return (\n    <TrendContainer>\n      <H4>熱賣商品</H4>\n      {!trends && (\n        error ? (\n          <P>{error}</P>\n        ) : (\n          <P>商品載入中...</P>\n        )\n      )}\n      {trends && !error && (\n        trends.length > 0 ? (\n          trends.map(trend => (\n            <TrendItem key={trend.id} trend={trend} />\n          ))\n        ) : (\n          <P>查無商品</P>\n        )\n      )}\n    </TrendContainer>\n  )\n}","import { Link } from \"react-router-dom\";\n\nimport styled from \"styled-components\"\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nimport { Filter } from \"../pages/ListPage/Filter\"\nimport { Trend } from \"./Trend\"\n\n\nconst Cover = styled.label`\n  z-index: 0;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  display: none;\n  // background-color: #aaaa;\n`\n\nconst PictureContainer = styled.div`\n  & img {\n    width: 100%;\n  }\n  ${MEDIA_QUERY.main} {\n    display: none;\n  }\n`\n\nconst AsideContainer = styled.aside`\n  width: 20%;\n  min-width: 250px;\n  & > div {\n    z-index: 1;\n    margin: 10px;\n    background-color: ${props => props.theme.color.white};\n  }\n  ${MEDIA_QUERY.main} {\n    position: fixed;\n    left: -240px;\n    z-index: 200;\n    transition: .3s;\n  }\n`\n\nconst Controller = styled.input`\n  display: none;\n  &:checked {\n    & ~ aside {\n      left: -10px;\n    }\n    & + label {\n      display: block;\n    }\n  }\n`\n\nexport const Aside = ({filter}) => {\n\n  return (\n      <>\n        {filter && (\n          <>\n            <Controller id=\"filter\" type=\"checkbox\" />\n            <Cover htmlFor=\"filter\" />\n          </>\n        )}\n        <AsideContainer>\n          <PictureContainer>\n            <Link to=\"/products\">\n              <img src=\"https://picsum.photos/200/250\" alt=\"aside_img\" />\n            </Link>\n          </PictureContainer>\n          {filter && (\n            <Filter />\n          )}\n          <Trend />\n        </AsideContainer>\n      </>\n  )\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\nimport { useEffect, useContext } from \"react\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTh, faThLarge, faChevronDown, faAlignJustify } from '@fortawesome/free-solid-svg-icons'\n\nimport { LocationContext } from \"./ListPage\";\n\nimport { Span } from \"../../constants/style\"\nimport { MEDIA_QUERY, Btn } from \"../../constants/style\"\nimport { useRef } from \"react\";\n\nconst SortContainer = styled.div`\n  margin: 0 10px;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ${props => props.theme.color.lightGrey}3;\n`\n\nconst GalleryBtnGroup = styled.div`\n  z-index: 1;\n  ${MEDIA_QUERY.s} {\n    display: none;\n  }\n`\n\nconst GalleryBtn = styled(Btn)`\n  padding: 5px;\n  & svg {\n    font-size: ${props => props.theme.fontSize.btn};\n  }\n  ${MEDIA_QUERY.m} {\n    ${props => props.$four && 'display: none;'}\n  }\n`\n\nconst GalleryRadio = styled.input`\n  display: none;\n  &:checked {\n    & ~ div {\n      & section {\n        width: ${props => props.$two && 'calc(100%/2)'};\n        width: ${props => props.$three && 'calc(100%/3)'};\n        width: ${props => props.$four && 'calc(100%/4)'};\n      }\n    }\n  }\n`\n\nconst MenuContainer = styled.div`\n  width: 150px;\n  position: relative;\n  & span {\n    display: block;\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n  & > input {\n    display: none;\n    &:checked {\n      & ~ ul {\n        display: block;\n      }\n      & + label {\n        display: block;\n      }\n    }\n  }\n`\nconst Menu = styled.div`\n  z-index: 1;\n  background-color: ${props => props.theme.color.white};\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  padding: 5px 10px;\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n  & span {\n    color: ${props => props.theme.color.lightGrey};\n  }\n  & button {\n    & svg {\n      font-size: ${props => props.theme.fontSize.bodyLarge};\n    }\n  }\n  & label {\n    position: absolute;\n    display: block;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst SubMenu = styled.ul`\n  width: 100%;\n  position: absolute;\n  top: 33px;\n  background-color: #fff;\n  z-index: 5;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  display: none;\n  & li:hover {\n    background-color: ${props => props.theme.color.grey};\n    & span {\n    color: ${props => props.theme.color.light_primary};\n    }\n  }\n  & span {\n    padding: 5px 10px;\n    color: ${props => props.theme.color.grey};\n  }\n`\n\nconst Cover = styled.label`\n  z-index: 0;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  display: none;\n  // background-color: #aaaa;\n`\n\nconst SortSelect = ({sortMap, order}) => {\n\n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n\n  newSearch.set('order', order)\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n  \n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <Span>{sortMap[order]}</Span>\n    </Link>\n  )\n}\n\nconst SortMenu = () => {\n\n    let { search } = useContext(LocationContext);\n    search = new URLSearchParams(search);\n    const currentOrder = search.get('order');\n\n    const sortMenuDOM = useRef()\n  \n    const sortMap = {\n      sold_desc: '熱門度優先', \n      price_desc: '價格 (高至低)', \n      price_asc: '價格 (低至高)',\n    };\n\n    const title = currentOrder ? sortMap[currentOrder] : sortMap.sold_desc\n  \n    useEffect(() => {\n      sortMenuDOM.current.checked = false\n    }, [search])\n  \n    return (\n      <MenuContainer>\n        <Menu>\n          <label htmlFor=\"sort-menu\" />\n          <Span>{title}</Span>\n          <Btn><FontAwesomeIcon icon={faChevronDown}/></Btn>\n        </Menu>\n        <input id=\"sort-menu\" type=\"checkbox\" ref={sortMenuDOM} />\n        <Cover htmlFor=\"sort-menu\"/>\n        <SubMenu>\n          {Object.keys(sortMap).map(order => (\n            <li key={order}>\n              <SortSelect {...{sortMap, order}}/>\n            </li>\n          ))}\n        </SubMenu>\n      </MenuContainer>\n    )\n}\n\nexport const Sort = () => {\n  return (\n      <>\n          <SortContainer>\n            <GalleryBtnGroup>\n              <GalleryBtn>\n                <label htmlFor=\"two-columns\">\n                  <FontAwesomeIcon icon={faThLarge}/>\n                </label>\n              </GalleryBtn>\n              <GalleryBtn>\n                <label htmlFor=\"three-columns\">\n                  <FontAwesomeIcon icon={faTh}/>\n                </label>\n              </GalleryBtn>\n              <GalleryBtn $four>\n                <label htmlFor=\"four-columns\">\n                  <FontAwesomeIcon icon={faAlignJustify} transform={{ rotate: 90 }}/>\n                </label>\n              </GalleryBtn>\n            </GalleryBtnGroup>\n            <SortMenu />\n          </SortContainer>\n          <GalleryRadio $two id=\"two-columns\" name=\"gallery\" type=\"radio\" />\n          <GalleryRadio $three id=\"three-columns\" name=\"gallery\" type=\"radio\" />\n          <GalleryRadio $four id=\"four-columns\" name=\"gallery\" type=\"radio\" />\n      </>\n  )\n}","import { Link } from \"react-router-dom\";\nimport { useContext, useRef } from \"react\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { LocationContext } from \"./ListPage\";\n\nimport { MEDIA_QUERY } from \"../../constants/style\"\nimport { Span } from \"../../constants/style\"\n\n\n\nconst PageContainer = styled.div`\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & button + button {\n    margin-left: 5px;\n  }\n`\n\nconst PageBtn = styled.button`\n  width: 30px;\n  height: 30px;\n  transition: .2s;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey}5;\n  background-color: ${props => props.$selected ? props.theme.color.lightGrey : props.theme.color.white};\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    & span, svg {\n      color: ${props => props.theme.color.white};\n    }\n  }\n  & svg {\n    margin: 0 auto;\n    font-size: ${props => props.theme.fontSize.body};\n    color: ${props => props.theme.color.black};\n    display: block;\n  }\n  & span {\n    font-weight: ${props => props.theme.fontWeight.xl};\n    color: ${props => props.$selected && props.theme.color.white};\n    display: block;\n  }\n`\n\nconst Result = styled.div`\n    ${MEDIA_QUERY.s} {\n        opacity: 0;\n    }\n`\n\nconst PageSelect = ({page}) => {\n\n    const { pathname, search } = useContext(LocationContext);\n    const newSearch = new URLSearchParams(search);\n    const currentPage = parseInt(newSearch.get('page')) || 1;\n\n    newSearch.set('page', page)\n    const selected = (currentPage === page) ? true : false\n\n    const url = `${pathname}?${newSearch}`\n\n    return (\n        <PageBtn $selected={selected}>\n            <Link to={url}><Span>{page}</Span></Link>\n        </PageBtn>\n    )\n}\n\nconst Page = ({page_count}) => {\n\n    const { pathname, search } = useContext(LocationContext);\n    const newSearch = new URLSearchParams(search);\n    const currentPage = parseInt(newSearch.get('page')) || 1;\n\n    let n = 1\n    const arr = []\n    while (n<=page_count){\n        arr.push(n)\n        n++\n    }\n  \n    if(currentPage !== arr[0]){\n        newSearch.set('page', currentPage-1)\n    }\n    if(currentPage !== arr[arr.length-1]){\n        newSearch.set('page', currentPage+1)\n    }\n\n    const url = `${pathname}?${newSearch}`\n\n    // const x = useRef(0)\n    return (\n        <PageContainer>\n            {/* {x.current++} */}\n            {(currentPage !== arr[0]) && (\n                <PageBtn>\n                    <Link to={url}>\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 90 }}/>\n                    </Link>\n                </PageBtn>\n            )}\n            {arr.map(page => (\n                <PageSelect \n                    key={page}\n                    page={page} \n                />\n            ))}\n            {(currentPage !== arr[arr.length-1]) && (\n                <PageBtn>\n                    <Link to={url}>\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: -90 }}/>\n                    </Link>\n                </PageBtn>\n            )}\n        </PageContainer>\n    )\n}\n\nexport const Pagination = ({products}) => {\n\n    // console.log('Pagination render')\n\n    const { count, per_page, page, page_count } = products;\n\n    const number_start = (page - 1) * per_page + 1\n    const number_end = (page === page_count) ? (\n        number_start + count - (page - 1) * per_page - 1\n    ) : (\n        number_start + per_page - 1\n    )\n\n    // const x = useRef(0)\n\n    return (\n        <>\n            {/* {x.current++} */}\n            <Result>\n                <p>{number_start} ~ {number_end}，共 {count} 筆資料</p>\n            </Result>\n            <Page {...{page_count}} />\n        </>\n    )\n}","import styled from \"styled-components\"\nimport { useEffect, useContext } from \"react\";\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getProducts, setProducts } from \"../../features/product/productSlice\";\n\nimport { P, H4 } from \"../../constants/style\"\nimport { MEDIA_QUERY } from \"../../constants/style\"\n\nimport { ProductItem } from \"../../components/ProductItem\";\n\nimport { Pagination } from \"./Pagination\";\nimport { LocationContext } from \"./ListPage\";\n\nconst ProductContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  text-align: center;\n  & > section {\n    width: calc(100%/4);\n    ${MEDIA_QUERY.l} {\n      width: calc(100%/3);\n    }\n    ${MEDIA_QUERY.m} {\n      width: 50%;\n    }\n    ${MEDIA_QUERY.xs} {\n      width: 100%;\n    }\n  }\n  & > p {\n    margin: 0 auto;\n    padding: 20px;\n  }\n  & > h4 {\n    margin: 0 auto;\n    padding: 40px 0;\n  }\n`\n\nconst IndexContainer = styled.div`\n\n  height: 55px;\n  box-sizing: border-box;\n\n  margin: 0 10px;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ${props => props.theme.color.lightGrey}3;\n`\n\nexport const ProductList = () => {\n\n  const { pathname, search } = useContext(LocationContext);\n\n  const products = useSelector(state => state.product.products)\n  const error = useSelector(state => state.product.error)\n  const dispatch = useDispatch()\n\n  useEffect(() => {    \n    window.scrollTo(0, 0);\n    const newSearch = new URLSearchParams(search);\n    if(!newSearch.has('page')){\n      newSearch.set('page', 1)\n    }\n    const pathArr = pathname.split('/').slice(2, 4)\n    dispatch(getProducts(pathArr, `?${newSearch}`))\n    return () => {\n      dispatch(setProducts(null))\n    }\n  }, [pathname, search, dispatch])\n  \n  return (\n    <>\n      <ProductContainer>\n        {!products && (\n          error ? (\n            <P>{error}</P>\n          ) : (\n            <H4>商品載入中...</H4>\n          )\n        )}\n        {products?.rows && !error && (\n          products.rows.length > 0 ? (\n            products.rows.map(product => (\n              <ProductItem key={product.id} product={product} />\n            ))\n          ) : (\n            <H4>查無商品</H4>\n          )\n        )}\n      </ProductContainer>\n      <IndexContainer>\n        {products && (\n          <Pagination {...{products}} />\n        )}\n      </IndexContainer>\n    </>\n  )\n}","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\";\n\nimport { useSelector } from \"react-redux\";\nimport useProduct from \"../../hooks/useProduct\"\n\nimport { MEDIA_QUERY } from \"../../constants/style\";\nimport { H4, P, Span } from \"../../constants/style\"\n\n\nconst PopupItem = styled.div`\n    display: flex;\n    & > div {\n        padding: 20px;\n        width: 50%;\n        & img {\n            width: 100%;\n        }\n    }\n    ${MEDIA_QUERY.s} {\n        display: block;\n        & > div {\n            padding: 10px 0;\n            margin: 0 auto;\n            width: 80%;\n        }\n    }\n`\n\nconst PopupBtnGroup = styled.div`\n  text-align: center;\n  padding: 10px 0 20px;\n  & a {\n    margin-left: 5px;\n  }\n`\nconst PopupBtn = styled.button`\n  padding: 5px 15px;\n  border-radius: .25em;\n  border: 1px solid ${props => props.$checked ? props.theme.color.black : props.theme.color.lightGrey};\n  transition: .4s;\n  background-color: ${props => props.$checked ? props.theme.color.black : props.theme.color.white};\n  & span {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n    color: ${props => props.$checked ? props.theme.color.white : props.theme.color.black};\n  }\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    border-color: ${props => props.theme.color.black};\n    & span {\n      color: ${props => props.theme.color.white};\n    }\n  }\n`\n\n\nexport const CartPopup = () => {\n\n  const product = useSelector(state => state.product.product)\n  const spec = useSelector(state => state.product.spec)\n\n  const mainImg = product.product.Images.find(img => img.is_main)\n  const price = product.product.is_sale ? product.product.price_sale : product.product.price_standard\n  \n  const {\n    handleClosePopup\n  } = useProduct()\n\n  return (\n    <>\n      <PopupItem>\n          <div>\n            <img src={mainImg.src} alt={mainImg.alt}/>\n          </div>\n          <div>\n            <H4>{product.product.name}</H4>\n            <P>價格: {price}</P>\n            <P>尺寸: {spec.size}, 顏色: {spec.color}</P>\n            <P>數量: {spec.qty}</P>\n          </div>\n      </PopupItem>\n      <PopupBtnGroup>\n        <PopupBtn onClick={handleClosePopup()}>\n          <Span>繼續選購</Span>\n        </PopupBtn>\n        <Link to=\"/cart\" onClick={handleClosePopup()}>\n          <PopupBtn>\n            <Span>前往結帳</Span>\n          </PopupBtn>\n        </Link>\n      </PopupBtnGroup>\n    </>\n  )\n}","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nimport { P, Span } from \"../constants/style\"\n\n\nconst PopupContent = styled.div`\n    display: flex;\n    justify-content: space-between;\n    & a {\n        text-decoration: underline ${props => props.theme.color.black};\n    }\n    & span {\n        font-weight: ${props => props.theme.fontWeight.xl}\n    }\n`\n\nexport const LoginPopup = () => {\n\n    const popupCode = useSelector(state => state.general.popupCode)\n  \n    return (\n        <>\n            {popupCode === 'login' && (\n                <PopupContent>\n                    <P>請先登入！</P>\n                    <Link to=\"/\">\n                        <Span>點我登入</Span>\n                    </Link>\n                </PopupContent>\n            )}\n        </>\n    )\n}","import { useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { sizeMap } from \"../constants/mapping\";\nimport { setErrorMessage } from \"../features/general/generalSlice\";\nimport { addProductAPI, searchProductAPI, updateProductAPI, uploadImageAPI } from \"../webAPI/productAPI\"\n\n\nexport default function useAdminProduct ({step, setStep, productToAdd, setProductToAdd, top}) {\n\n    const history = useHistory();\n\n    const [name, setName] = useState('')\n    const [gender, setGender] = useState('')\n    const [category, setCategory] = useState('')\n    const [desc, setDesc] = useState('')\n    const [material, setMaterial] = useState('')\n    const [washing, setWashing] = useState('')\n    const [images, setImages] = useState(Array(4).fill({src: ''}))\n\n    const [sizes, setSizes] = useState([])\n    const [colors, setColors] = useState([])\n    \n    const [patterns, setPatterns] = useState([])\n    const [isOn, setIsOn] = useState(false)\n    const [isSale, setIsSale] = useState(false)\n    const [priceStandard, setPriceStandard] = useState(0)\n    const [priceSale, setPriceSale] = useState(0)\n\n    const product = useSelector(state => state.product.product)\n    const errorMessage = useSelector(state => state.general.errorMessage)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(!product) return\n        setName(product.product.name)\n        setGender(product.product.gender)\n        setCategory(product.product.Category.name)\n        setDesc(product.product.desc)\n        setMaterial(product.product.material)\n        setWashing(product.product.washing)\n        setImages(Array(4).fill({src: ''}).map((image, i) => product.product.Images[i] ? {...image, id: product.product.Images[i].id, src: product.product.Images[i].src, alt: `${product.product.name}_0${i+1}`} : {...image, alt: `${product.product.name}_0${i+1}`}))\n        setSizes(product.product[product.product.Category.group].map(size => size.waist ? {...size, waist: size.waist.split('~')} : size))\n        setColors(product.product.Colors)\n    }, [product])\n\n    const [isSubmitted, setIsSubmitted] = useState(false)\n\n    useEffect(() => {\n        if(!isSubmitted) return\n        addProductAPI(productToAdd)\n        .then(result => {\n            setIsSubmitted(false)\n            if (!result.ok) {\n                let lastProduct = {...productToAdd}\n                switch (isSubmitted) {\n                    case 'first': {\n                        lastProduct = ''\n                        break\n                    }\n                    case 'second': {\n                        delete lastProduct.sizes\n                        delete lastProduct.colors\n                        break\n                    }\n                    case 'third': {\n                        delete lastProduct.patterns\n                        delete lastProduct.is_on\n                        delete lastProduct.is_sale\n                        delete lastProduct.price_standard\n                        delete lastProduct.price_sale\n                        break\n                    }\n                    default: break\n                }\n                setProductToAdd(lastProduct)\n                alert(result.message)\n                return window.scrollTo(0, 0)\n            }\n            dispatch(setErrorMessage(''))\n            setProductToAdd('')\n        })\n        .then(() => {\n            setTimeout(() => {\n                alert('新增成功!')\n                history.push('/admin/product/information')\n            });\n        })\n    }, [isSubmitted, dispatch, history, productToAdd, setProductToAdd])\n\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'name': {\n                if(errorMessage) dispatch(setErrorMessage(''))\n                return setName(e.target.value)\n            }\n            case 'gender': {\n                if(e.target.id === 'male') return setGender('M')\n                if(e.target.id === 'female') return setGender('F')\n                break\n            }\n            case 'category': return setCategory(e.target.value)\n            case 'desc': return setDesc(e.target.value)\n            case 'material': return setMaterial(e.target.value)\n            case 'washing': return setWashing(e.target.value)\n            case 'image': {\n                return setImages(images.map((image, index) => index === parseInt(e.target.id.slice(-1)) ? {...image, src: e.target.value} : image))\n            }\n            case 'size': {\n                if(e.target.id.includes('size') && errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                if(e.target.id.includes('waist')){\n                    return setSizes(sizes.map((size, i) => i === parseInt(e.target.id.slice(-1)) ? {...size, waist: size.waist.map((a, i) => i === parseInt(e.target.id.split('_')[1]) ? e.target.value : a)} : size))\n                }\n                return setSizes(sizes.map((size, i) => i === parseInt(e.target.id.slice(-1)) ? {...size, [e.target.id.slice(0, -2)]: e.target.value.toUpperCase()} : size))\n            }\n            case 'color': {\n                if(e.target.id.includes('name') && errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors(colors.map((color, i) => i === parseInt(e.target.id.slice(-1)) ? {...color, [e.target.id.split('_')[0]]: e.target.value.toLowerCase()} : color))\n            }\n            case 'pattern': {\n                return setPatterns(patterns.map((pattern, i) => i === parseInt(e.target.id.slice(-1)) ? {...pattern, [e.target.id.split('_')[0]]: e.target.value} : pattern))\n            }\n            case 'is_on': return setIsOn(e.target.checked)\n            case 'is_sale': return setIsSale(e.target.checked)\n            case 'price_standard': return setPriceStandard(e.target.value)\n            case 'price_sale': return setPriceSale(e.target.value)\n            default: break\n        }\n    }\n\n    const handleSetStep = e => {\n        switch (step) {\n            case 1: {\n                window.scrollTo(0, 0)\n                if(!name || !gender || !category || !images[0].src) return; \n                return searchProductAPI([['name', name]]).then(result => {\n                    if(result.ok) return dispatch(setErrorMessage('商品名稱重複'))\n                    saveProduct()\n                    setStep(step+1)\n                })\n            }\n            case 2: {\n                if(e.target.name === 'next'){\n                    if(saveProduct()){\n                        setStep(step+1)\n                        window.scrollTo(0, 400)\n                    }else{\n                        window.scrollTo(0, 0)\n                    }\n                }\n                if(e.target.name === 'back') {\n                    setProductToAdd('')\n                    setStep(step-1)\n                    window.scrollTo(0, 0)\n                    setSizes([])\n                }\n                break\n            }\n            case 3: {\n                const lastProduct = {...productToAdd}\n                delete lastProduct.sizes\n                delete lastProduct.colors\n                setProductToAdd(lastProduct)\n                setStep(step-1)\n                return window.scrollTo(0, 0)\n            }\n            default: break\n        }\n    }\n\n    const handleFormSubmit = e => {\n        e.preventDefault()\n        const [type, stepName] = e.target.name.split('_')\n        switch (type) {\n            case 'edit': {\n                return checkForm() ? (\n                    updateProductAPI(product.product.id, {\n                        name, \n                        gender, \n                        desc, \n                        material, \n                        washing, \n                        images, \n                        sizes, \n                        colors, \n                    }).then(result => {\n                        if (!result.ok) {\n                            dispatch(setErrorMessage(result.message))\n                            return top.current.scrollIntoView();\n                        }\n                        dispatch(setErrorMessage(''))\n                        alert('更新成功!')\n                        history.go()\n                    })\n                ) : (\n                    top.current.scrollIntoView()\n                )\n            }\n            case 'add': {\n                if (stepName === 'third') saveProduct()\n                return setIsSubmitted(stepName)\n            }\n            default: break\n        }\n    }\n\n    function checkForm () {\n        if(!sizes.every(size => size.size) || !colors.every(color => color.name)) return false\n        if(new Set(sizes.map(size => size.size)).size !== sizes.length){\n            dispatch(setErrorMessage('尺碼不可重複'))\n            return false\n        }\n        if(new Set(colors.map(color => color.name)).size !== colors.length){\n            dispatch(setErrorMessage('名稱不可重複'))\n            return false\n        }\n        return true\n    }\n\n    function saveProduct () {\n        switch (step) {\n            case 1: {\n                return setProductToAdd({\n                    ...productToAdd,\n                    name, gender, category, desc, material, washing, \n                    images: images\n                        .filter(image => image.src)\n                        .map((image, index) => image.src && ({\n                            src: image.src,\n                            alt: `${name}_0${index+1}`\n                        }))\n                })\n            }\n            case 2: {\n                if (checkForm()) {\n                    setProductToAdd({\n                        ...productToAdd,\n                        sizes, colors\n                    })\n                    return true\n                } else {\n                    return false\n                }\n            }\n            case 3: {\n                setProductToAdd({\n                    ...productToAdd,\n                    patterns,\n                    is_on: isOn,\n                    is_sale: isSale,\n                    price_standard: priceStandard,\n                    price_sale: priceSale\n                })\n                return true\n            }\n            default: break\n        }\n    }\n\n    const handleAddPattern = group => e => {\n        switch (e.target.name) {\n            case 'size': {\n                if(errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                const obj = {size: ''}\n                Object.keys(sizeMap[group]).map(ele => (\n                    obj[ele] = (ele === 'waist' ? [0, 0] : 0)\n                ))\n                return setSizes([...sizes, obj])\n            }\n            case 'color': {\n                if(errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors([...colors, {name: '', code: '#000000'}])\n            }\n            default: break\n        }\n    }\n\n    const handleDeletePattern = index => e => {\n        switch (e.currentTarget.name) {\n            case 'size': {\n                if(sizes.length === 1) return\n                if(errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                return setSizes(sizes.filter((size, i) => i !== index))\n            }\n            case 'color': {\n                if(colors.length === 1) return\n                if(errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors(colors.filter((size, i) => i !== index))\n            }\n            default: break\n        }\n    }\n\n    const handleUploadImage = e => {\n        console.log('test')\n        // const index = parseInt(e.target.id.slice(-1))\n        // uploadImageAPI(e.target.files[0])\n        //     .then(result => {\n        //         console.log(result.data.link)\n        //         setImages(images.map((image, i) => i === index ? {...image, src: result.data.link} : image))\n        //     })\n    }\n\n    return {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n        setImages,\n\n        sizes, \n        setSizes, \n        colors, \n        setColors, \n\n        patterns, \n        setPatterns, \n\n        isOn, \n        setIsOn, \n        isSale, \n        setIsSale, \n        priceStandard, \n        setPriceStandard, \n        priceSale, \n        setPriceSale, \n\n        handleInputChange, \n        handleSetStep, \n        handleFormSubmit, \n        checkForm, \n        saveProduct, \n        handleAddPattern, \n        handleDeletePattern, \n        handleUploadImage,\n\n        isSubmitted\n    }\n}","import { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport { sizeMap } from \"../../../constants/mapping\"\nimport { P, fontTheme, TextBtn, Btn } from \"../../../constants/style\";\n\nimport useAdminProduct from \"../../../hooks/useAdminProduct\";\nimport { useCallback } from \"react\";\nimport { uploadImageAPI } from \"../../../webAPI/productAPI\";\nimport { Loader } from \"../../../components/Loader\";\n\n\nconst StepContainer = styled.div`\n    border: 1px solid #aaa8;\n    border-radius: .5em;\n    background-color: #eee;\n    ${props => !props.$active && 'opacity: 0.5;'}\n    transition: .5s;\n    padding: 10px;\n`\n\nconst FirstStepContainer = styled(StepContainer)``\nconst SecondStepContainer = styled(StepContainer)`\n    margin-bottom: 20px;\n    max-height: ${props => props.$step >= 2 || props.$step === 0 ? '1000px' : '80px'};\n    overflow: hidden;\n    transition: 1s;\n`\nconst ThirdStepContainer = styled(StepContainer)`\n    max-height: ${props => props.$step >= 3 || props.$step === 0 ? '1000px' : '80px'};\n    overflow: hidden;\n    transition: 1s;\n`\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    display: flex;\n    & > div {\n        width: 50%;\n        padding: 10px;\n    }\n`\n\nconst LeftContainer = styled.div``\nconst RightContainer = styled.div``\n\n\nconst FlowNode = styled.div`\n    ${fontTheme.span};\n    margin-right: 10px;\n    background-color: ${props => props.theme.color.lightGrey};\n    color: ${props => props.theme.color.white};\n    min-width: 60px;\n    min-height: 60px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    & > p {\n        ${fontTheme.h4}\n    }\n`\n\nconst FlowText = styled.div`\n    ${fontTheme.h4}\n    padding-right: 10px;\n    color: ${props => props.theme.color.lightGrey};\n    min-width: ${props => props.$fixed && '108px'};\n`\n\nconst FlowContent = styled.li`\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n    padding: 10px;\n    position: relative;\n    & + li::before {\n        content: '>';\n        position: absolute;\n        left: -10px;\n        ${fontTheme.h3}\n        color: ${props => props.theme.color.lightGrey};\n    }\n    ${FlowNode} {\n        background-color: ${props => props.$active && props.theme.color.black};\n    }\n    ${FlowText} {\n        color: ${props => props.$active && props.theme.color.black};\n    }\n`\n\nconst InputBlock = styled.div`\n    display: flex;\n    flex-direction: column;\n    padding: 0px 10px 10px;\n    ${fontTheme.p}\n    position: relative;\n    & label {\n        line-height: 2em;\n    }\n    & input, select, textarea {\n        ${fontTheme.span}\n        padding: 3px 8px;\n        &:invalid {\n            border: 2px solid red;\n            & ~ span {\n                &::before {\n                    ${fontTheme.span}\n                    color: ${props => props.theme.color.alert};\n                    content: '這是必填欄位';\n                }\n            }\n        }\n    }\n    & > input, > select, > textarea {\n        margin: 0 5px;\n    }\n    & span {\n        position: absolute;\n        top: 10px;\n        right: 15px;\n        ${fontTheme.span}\n        color: ${props => props.theme.color.alert};\n    }\n`\n\nconst BtnContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    padding: 20px 10px 10px;\n    & > button {\n        margin: 0px 5px;\n    }\n`\n\nconst UploadBtn = styled(TextBtn)`\n    ${fontTheme.h5}\n    font-weight: ${props => props.theme.fontWeight.m};\n    padding: 0px;\n    & label {\n        padding: 5px 8px;\n        cursor: pointer;\n    }\n    & + input {\n        display: none;\n    }\n`\n\nconst AddBtn = styled(TextBtn)`\n    ${fontTheme.h5}\n    font-weight: ${props => props.theme.fontWeight.m};\n    padding: 3px 8px;\n`\n\nconst ImgInput = styled.div`\n    display: flex;\n    align-items: center;\n    margin: 0 5px;\n    & + div {\n        margin-top: 5px;\n    }\n    & input {\n        flex-grow: 9.5;\n        font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n    & button {\n        flex-grow: 0.5;\n        margin-left: 5px;\n    }\n`\n\nconst CheckInput = styled.div`\n    & input {\n        margin: 0 5px;\n        & ~ input {\n            margin-left: 10px;\n        }\n    }\n`\n\nconst InputTitle = styled.div`\n    margin-left: 0;\n    display: flex;\n    align-items: center;\n    & > button {\n        margin-left: 10px;\n    }\n`\n\nconst SizeInput = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    & input {\n        margin: 0 5px;\n        width: 40px;\n    }\n    align-items: baseline;\n    margin: 5px 5px 0;\n    & > div {\n        // flex-grow: 1;\n        display: flex;\n        & > input {\n            // flex-grow: 1;\n        }\n    }\n    & > button {\n        margin: 5px 5px 0;\n        & svg {\n            font-size: ${props => props.theme.fontSize.h4};\n        }\n    }\n`\n\nconst ColorInput = styled.div`\n    display: flex;\n    & input {\n        margin: 0 5px;\n    }\n    & > div {\n        display: flex;\n        align-items: baseline;\n        margin: 5px 5px 0;\n        flex-grow: 1;\n        & > input {\n            flex-grow: 1;\n        }\n    }\n    & > button {\n        margin: 5px 5px 0;\n        & svg {\n            font-size: ${props => props.theme.fontSize.h4};\n        }\n    }\n`\n\nconst PatternInput = styled.div`\n    margin: 0 5px;\n    & input {\n        margin: 0 5px;\n        width: 40px;\n    }\n    & + div {\n        margin-top: 5px;\n    }\n`\n\nconst PriceInput = styled.div`\n    margin: 0 5px;\n    & input {\n        margin: 0 5px;\n        width: 60px;\n    }\n`\n\nexport const FirstStepInputs = ({step, name, gender, category, desc, material, washing, images, handleInputChange, setImages}) => {\n\n    const errorMessage = useSelector(state => state.general.errorMessage)\n\n    const [isLoading, setIsLoading] = useState(false)\n\n    const handleUploadImage = e => {\n        if(!e.target.files[0]) return\n        setIsLoading(true)\n        const index = parseInt(e.target.id.slice(-1))\n        uploadImageAPI(e.target.files[0])\n            .then(result => {\n                setImages(images.map((image, i) => i === index ? {...image, src: result.data.link} : image))\n                setIsLoading(false)\n            })\n    }\n\n    return (\n        <>\n            <InputBlock>\n                <label htmlFor=\"name\">品名</label>\n                <input\n                    value={name}\n                    onChange={handleInputChange}\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    disabled={step > 1}\n                    required\n                />\n                <span>{errorMessage === '商品名稱重複' && errorMessage}</span>\n            </InputBlock>\n            <InputBlock>\n                <label>性別</label>\n                <CheckInput>\n                    <input\n                        checked={gender === 'M'}\n                        onChange={handleInputChange}\n                        type=\"radio\"\n                        name=\"gender\"\n                        id=\"male\"\n                        disabled={step > 1}\n                        required\n                    />\n                    <label htmlFor=\"male\">男裝</label>\n                    <input\n                        checked={gender === 'F'}\n                        onChange={handleInputChange}\n                        type=\"radio\"\n                        name=\"gender\"\n                        id=\"female\"\n                        disabled={step > 1}\n                        required\n                    />\n                    <label htmlFor=\"female\">女裝</label>\n                    <span></span>\n                </CheckInput>\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"category\">分類</label>\n                <select\n                    value={category}\n                    onChange={handleInputChange}\n                    name=\"category\"\n                    id=\"category\"\n                    disabled={step !== 1}\n                    required pattern=\".\"\n                >\n                    <option value=\"\">-----</option>\n                    <option value=\"tops\">上衣類</option>\n                    <option value=\"shirts\">襯衫類</option>\n                    <option value=\"knit\">針織衫 / 毛衣</option>\n                    <option value=\"one_piece\">洋裝類</option>\n                    <option value=\"outer\">外套類</option>\n                    <option value=\"bottoms\">褲裝類</option>\n                    <option value=\"skirts\">裙子類</option>\n                    <option value=\"general\">配件類</option>\n                </select>\n                <span></span>\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"desc\">簡介</label>\n                <textarea\n                    value={desc}\n                    onChange={handleInputChange}\n                    name=\"desc\"\n                    id=\"desc\"\n                    disabled={step > 1}\n                    rows=\"5\"\n                />\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"material\">材質</label>\n                <textarea\n                    value={material}\n                    onChange={handleInputChange}\n                    name=\"material\"\n                    id=\"material\"\n                    disabled={step > 1}\n                    rows=\"2\"\n                />\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"washing\">洗滌方式</label>\n                <textarea\n                    value={washing}\n                    onChange={handleInputChange}\n                    name=\"washing\"\n                    id=\"washing\"\n                    disabled={step > 1}\n                    rows=\"4\"\n                />\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"image\">照片 (第一張為封面)</label>\n                {images.map((image, i) => (\n                    <ImgInput key={i}>\n                        <input\n                            value={image.src}\n                            placeholder={!i ? '(必填)' : '(選填)'}\n                            onChange={handleInputChange}\n                            type=\"text\"\n                            name=\"image\"\n                            id={`image_${i}`}\n                            disabled={step > 1}\n                            required={i === 0}\n                        />\n                        <UploadBtn $white $active={step === 1 || step === 0}>\n                            <label htmlFor={`upload_${i}`}>上傳照片</label>\n                        </UploadBtn>\n                        <input \n                            type=\"file\" \n                            id={`upload_${i}`}\n                            name=\"upload\"\n                            accept=\"image/*\"\n                            onChange={handleUploadImage}\n                        />\n                        <span></span>\n                    </ImgInput>\n                ))}\n            </InputBlock>\n            {isLoading && (\n                <Loader />\n            )}\n        </>\n    )\n}\n\nconst FirstStep = ({step, setStep, productToAdd, setProductToAdd}) => {\n\n    const {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n        setImages, \n        handleInputChange, \n        handleSetStep, \n    } = useAdminProduct({step, setStep, productToAdd, setProductToAdd})\n\n\n    return (\n        <FirstStepContainer $active={step === 1}>\n            <FlowContent $active>\n                <FlowNode>\n                    Step\n                    <p>01</p>\n                </FlowNode>\n                <FlowText $fixed>\n                    產品基本資料\n                </FlowText>\n            </FlowContent>\n            {/* <form onSubmit={e => e.preventDefault()}> */}\n                <FirstStepInputs {...{step, name, gender, category, desc, material, washing, images, handleInputChange, setImages}} />\n                <BtnContainer>\n                    <TextBtn type=\"button\" name=\"next\" onClick={handleSetStep} $active={step === 1} disabled={step !== 1}>下一步</TextBtn>\n                </BtnContainer>\n            {/* </form> */}\n        </FirstStepContainer>        \n    )\n}\n\nexport const SecondStepInputs = ({step, group, sizes, colors, handleInputChange, handleAddPattern, handleDeletePattern, sizesLength, colorsLength}) => {\n\n    const errorMessage = useSelector(state => state.general.errorMessage)\n\n    return (\n        <>\n            <InputBlock>\n                <InputTitle>\n                    <label>尺寸</label>\n                    {group !== 'Size_general' && (\n                        <AddBtn type=\"button\" onClick={handleAddPattern(group)} name=\"size\" $white $active={step === 2 || step === 0}>新增尺寸</AddBtn>\n                    )}\n                </InputTitle>\n                    {sizes.length > 0 ? (\n                        group && sizeMap[group] ? (\n                            sizes.map((size, i) => (\n                                <SizeInput key={i}>\n                                    <div>\n                                        <label htmlFor={`size_${i}`}>尺碼:</label>\n                                        <input\n                                            value={size.size}\n                                            onChange={handleInputChange}\n                                            type=\"text\"\n                                            name=\"size\"\n                                            id={`size_${i}`}\n                                            size=\"2\"\n                                            disabled={step !== 2 && (sizesLength ? i < sizesLength : 1)}\n                                            required\n                                        />\n                                        <span>{errorMessage === '尺碼不可重複' && errorMessage}</span>\n                                    </div>\n                                    {Object\n                                        .entries(sizeMap[group])\n                                        .map((spec, j) => (\n                                            <div key={j}>\n                                                <label htmlFor={`${spec[0]}_${i}`}>{spec[1]}:</label>\n                                                {spec[0] === 'waist' ? (\n                                                    <>\n                                                        <input\n                                                            value={size[spec[0]][0]}\n                                                            onChange={handleInputChange}\n                                                            type=\"number\"\n                                                            name=\"size\"\n                                                            id={`${spec[0]}_0_${i}`}\n                                                            min=\"0\"\n                                                            disabled={step !== 2 && step !== 0}\n                                                        />~\n                                                        <input\n                                                            value={size[spec[0]][1]}\n                                                            onChange={handleInputChange}\n                                                            type=\"number\"\n                                                            name=\"size\"\n                                                            id={`${spec[0]}_1_${i}`}\n                                                            min=\"0\"\n                                                            disabled={step !== 2 && step !== 0}\n                                                        />\n                                                    </>\n                                                ) : (\n                                                    <input\n                                                        value={size[spec[0]]}\n                                                        onChange={handleInputChange}\n                                                        type=\"number\"\n                                                        name=\"size\"\n                                                        id={`${spec[0]}_${i}`}\n                                                        min=\"0\"\n                                                        disabled={step !== 2 && step !== 0}\n                                                    />\n                                                )}\n                                            </div>\n                                        ))\n                                    }\n                                    <Btn \n                                        onClick={handleDeletePattern(i)} \n                                        type=\"button\" \n                                        name=\"size\"\n                                        disabled={step !== 2 && (sizesLength ? i < sizesLength : 1)}\n                                    >\n                                        <FontAwesomeIcon icon={faTimes} />\n                                    </Btn>\n                                </SizeInput>\n                        ))) : (\n                            <P>單一尺寸</P>\n                        )\n                    ) : (\n                        <>\n                            {Array(2).fill('').map((a, i) => (\n                                <SizeInput key={i}>\n                                    <div>\n                                        <label>尺碼:</label>\n                                        <input\n                                            value=\"\"\n                                            type=\"text\"\n                                            name=\"size\"\n                                            size=\"2\"\n                                            disabled\n                                            required\n                                        />\n                                    </div>\n                                </SizeInput>\n                            ))}\n                        </>\n                    )}\n            </InputBlock>\n            <InputBlock>\n                <InputTitle>\n                    <label>顏色</label>\n                    <AddBtn type=\"button\" onClick={handleAddPattern()} name=\"color\" $white $active={step === 2 || step === 0}>新增顏色</AddBtn>\n                </InputTitle>\n                {colors && colors.map((color, i) => (\n                    <ColorInput key={i}>\n                        <div>\n                            <label htmlFor={`name_${i}`}>名稱:</label>\n                            <input\n                                value={color.name}\n                                onChange={handleInputChange}\n                                type=\"text\"\n                                name=\"color\"\n                                id={`name_${i}`}\n                                size=\"10\"\n                                disabled={step !== 2 && (colorsLength ? i < colorsLength : 1)}\n                                required\n                            />\n                            <span>{errorMessage === '名稱不可重複' && errorMessage}</span>\n                        </div>\n                        <div>\n                            <label htmlFor={`code_${i}`}>色碼:</label>\n                            <input\n                                value={color.code}\n                                onChange={handleInputChange}\n                                type=\"color\"\n                                name=\"color\"\n                                id={`code_${i}`}\n                                disabled={step !== 2 && step !== 0}\n                            />\n                        </div>\n                        <Btn \n                            onClick={handleDeletePattern(i)} \n                            type=\"button\" \n                            name=\"color\"\n                            disabled={step !== 2 && (colorsLength ? i < colorsLength : 1)}\n                        >\n                            <FontAwesomeIcon icon={faTimes} />\n                        </Btn>\n                    </ColorInput>\n                ))}\n            </InputBlock>\n        </>\n    )\n}\n\nconst SecondStep = ({step, setStep, productToAdd, setProductToAdd}) => {\n\n    const {\n        sizes, \n        setSizes, \n        colors, \n        setColors, \n        error, \n        handleInputChange, \n        handleSetStep, \n        handleFormSubmit, \n        handleAddPattern, \n        handleDeletePattern, \n    } = useAdminProduct({step, setStep, productToAdd, setProductToAdd})\n\n    const getGroup = useCallback(() => {\n        switch (productToAdd.category) {\n            case 'tops': \n            case 'shirts':\n            case 'knit':\n            case 'one_piece':\n            case 'outer': {\n                return 'Size_top'\n            }\n            case 'bottoms': {\n                return 'Size_bottom'\n            }\n            case 'skirts': {\n                return 'Size_skirt'\n            }\n            case 'general': {\n                return 'Size_general'\n            }\n            default: break\n        }\n    }, [productToAdd])\n\n    useEffect(() => {\n        if(step !== 2) return;\n        if(!productToAdd) return;\n        if(getGroup() === 'Size_general'){\n            setSizes([{size: 'one'}])\n        } else {\n            let arr = Array(2).fill({size: ''})\n            Object.keys(sizeMap[getGroup()]).map(ele => (\n                arr.map(a => a[ele] = (ele === 'waist' ? [0, 0] : 0))\n            ))\n            setSizes(arr)\n        }\n        setColors(Array(2).fill({name: '', code: '#000000'}))\n    }, [productToAdd, step, setSizes, setColors, getGroup])\n\n\n    return (\n        <SecondStepContainer $active={step === 2} $step={step}>\n            <FlowContent $active>\n                <FlowNode>\n                    Step\n                    <p>02</p>\n                </FlowNode>\n                <FlowText $fixed>\n                    設定尺寸及顏色\n                </FlowText>\n            </FlowContent>\n            {getGroup() && (\n                // <form onSubmit={e => e.preventDefault()}>\n                    <>\n                        <SecondStepInputs\n                            {...{step, sizes, colors, error, handleInputChange, handleAddPattern, handleDeletePattern}}\n                            group={getGroup() || null}\n                        />\n                        <BtnContainer>\n                            <TextBtn\n                                type=\"button\"\n                                name=\"back\"\n                                onClick={handleSetStep}\n                                $active={step === 2}\n                                disabled={step !== 2}\n                            >\n                                上一步\n                            </TextBtn>\n                            <TextBtn\n                                type=\"button\"\n                                name=\"next\"\n                                onClick={handleSetStep}\n                                $active={step === 2}\n                                disabled={step !== 2}\n                            >\n                                下一步\n                            </TextBtn>\n                            <TextBtn\n                                type=\"submit\"\n                                name=\"add_first\"\n                                onClick={handleFormSubmit}\n                                $active={step === 2}\n                                disabled={step !== 2}\n                            >\n                                略過並儲存\n                            </TextBtn>\n                        </BtnContainer>\n                    </>\n                // </form>\n            )}\n        </SecondStepContainer>        \n    )\n}\n\nconst ThirdStepInputs = ({step, patterns, isOn, isSale, priceStandard, priceSale, handleInputChange}) => {\n    return (\n        <>\n            <InputBlock>\n                <label>存貨數量</label>\n                {patterns && patterns.map((pattern, i) => (\n                    <PatternInput key={i}>\n                        尺寸: {pattern.size}, 顏色: {pattern.color},\n                        <label htmlFor={`total_${i}`}> 數量:</label>\n                        <input\n                            value={pattern.total}\n                            onChange={handleInputChange}\n                            type=\"number\"\n                            name=\"pattern\"\n                            id={`total_${i}`}\n                            min=\"0\"\n                            disabled={step !== 3}\n                        />\n                    </PatternInput>\n                ))}\n            </InputBlock>\n            <InputBlock>\n                <label>商品價格</label>\n                <CheckInput>\n                    <input\n                        checked={isOn}\n                        onChange={handleInputChange}\n                        type=\"checkbox\"\n                        name=\"is_on\"\n                        id=\"is_on\"\n                        disabled={step !== 3}\n                    />\n                    <label htmlFor=\"is_on\">上架中</label>\n                    <input\n                        value={isSale}\n                        onChange={handleInputChange}\n                        type=\"checkbox\"\n                        name=\"is_sale\"\n                        id=\"is_sale\"\n                        disabled={step !== 3}\n                    />\n                    <label htmlFor=\"is_sale\">特價中</label>\n                </CheckInput>\n                <PriceInput>\n                        <label htmlFor=\"price_standard\">原價:</label>\n                        <input\n                            value={priceStandard}\n                            onChange={handleInputChange}\n                            type=\"number\"\n                            name=\"price_standard\"\n                            id=\"price_standard\"\n                            min=\"0\"\n                            disabled={step !== 3}\n                        />\n                        <label htmlFor=\"price_standard\">特價:</label>\n                        <input\n                            value={priceSale}\n                            onChange={handleInputChange}\n                            type=\"number\"\n                            name=\"price_sale\"\n                            id=\"price_sale\"\n                            min=\"0\"\n                            disabled={step !== 3}\n                        />\n                </PriceInput>\n            </InputBlock>\n        </>\n    )\n}\n\nconst ThirdStep = ({step, setStep, productToAdd, setProductToAdd}) => {\n\n    const {\n        patterns, \n        setPatterns, \n        isOn, \n        setIsOn, \n        isSale, \n        setIsSale, \n        priceStandard, \n        setPriceStandard, \n        priceSale, \n        setPriceSale, \n        handleInputChange, \n        handleSetStep, \n        handleFormSubmit, \n    } = useAdminProduct({step, setStep, productToAdd, setProductToAdd})\n\n\n    useEffect(() => {\n        if(step !== 3) return;\n        if(!productToAdd.sizes || !productToAdd.colors) return;\n        let arr = [];\n        productToAdd.sizes.map(size => productToAdd.colors.map(color => (\n            arr.push({size: size.size, color: color.name, total: 0})\n        )))\n        setPatterns(arr)\n        setIsOn(false)\n        setIsSale(false)\n        setPriceStandard(0)\n        setPriceSale(0)\n    }, [step, productToAdd, setPatterns, setIsOn, setIsSale, setPriceStandard, setPriceSale])\n\n\n    return (\n        <ThirdStepContainer $active={step === 3} $step={step}>\n            <FlowContent $active>\n                <FlowNode>\n                    Step\n                    <p>03</p>\n                </FlowNode>\n                <FlowText $fixed>\n                    存貨數量及商品價格\n                </FlowText>\n            </FlowContent>\n            {patterns.length > 0 && (\n                <form onSubmit={e => e.preventDefault()}>\n                    <ThirdStepInputs {...{step, patterns, isOn, isSale, priceStandard, priceSale, handleInputChange}} />\n                    <BtnContainer>\n                        <TextBtn \n                            type=\"button\" \n                            name=\"back\" \n                            onClick={handleSetStep} \n                            $active={step === 3} \n                            disabled={step !== 3}\n                        >\n                            上一步\n                        </TextBtn>\n                        <TextBtn \n                            type=\"submit\" \n                            name=\"add_second\"\n                            onClick={handleFormSubmit} \n                            $active={step === 3} \n                            disabled={step !== 3}\n                        >\n                            略過並儲存\n                        </TextBtn>\n                        <TextBtn \n                            type=\"submit\" \n                            name=\"add_third\"\n                            onClick={handleFormSubmit} \n                            $active={step === 3} \n                            disabled={step !== 3}\n                        >\n                            送出\n                        </TextBtn>\n                    </BtnContainer>\n                </form>\n            )}\n        </ThirdStepContainer>\n    )\n}\n\nexport default function AddProduct () {\n\n    const history = useHistory()\n\n    const [step, setStep] = useState(1)\n    const [productToAdd, setProductToAdd] = useState('')\n\n    useEffect(() => {\n        if(!productToAdd) return\n\n        const unblock = history.block(() => {\n            return window.confirm(\"目前的資料尚未被儲存, 是否要離開?\");\n        });\n    \n        return () => {\n            return unblock();\n        };\n    }, [history, productToAdd])\n\n    return (\n        <MainContainer>\n            <LeftContainer>\n                <FirstStep {...{step, setStep, productToAdd, setProductToAdd}} />\n            </LeftContainer>\n            <RightContainer>\n                <SecondStep {...{step, setStep, productToAdd, setProductToAdd}} />\n                <ThirdStep {...{step, setStep, productToAdd, setProductToAdd}} />\n            </RightContainer>\n        </MainContainer>\n    )\n}","import { useRef } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\nimport styled from \"styled-components\"\n\nimport { sizeMap } from \"../../../constants/mapping\"\nimport { fontTheme, H4, P, TextBtn } from \"../../../constants/style\"\n\nimport useAdminProduct from \"../../../hooks/useAdminProduct\"\nimport useProduct from \"../../../hooks/useProduct\"\n\nimport { deleteProductAPI } from \"../../../webAPI/productAPI\"\n\nimport { FirstStepInputs, SecondStepInputs } from \"./AddProduct\"\n\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    & table {\n        width: 100%;\n        border: 1px solid ${props => props.theme.color.lightGrey};\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid ${props => props.theme.color.lightGrey};\n            border-bottom: 1px solid ${props => props.theme.color.lightGrey};\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst BtnContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    padding: 20px 10px 10px;\n    & > button {\n        margin: 0px 5px;\n    }\n`\n\nconst PopupContent = styled.div`\n    & h4 {\n        padding: 10px;\n        text-align: center;\n    }\n    & > div {\n        padding: 10px;\n        text-align: center;\n        & button {\n            margin: 5px;\n        }\n    }\n`\n\nexport const SizePopup = () => {\n\n    const product = useSelector(state => state.product.product)\n    const group = product ? product.product.Category.group : null;\n\n    return (\n        <TableContainer>\n            {product && group.slice(0, -1) === 'Size_general' ? (\n                <P>單一尺寸 One Size</P>\n            ) : (\n                <table>\n                    <thead>\n                        <tr>\n                            <th></th>\n                            {product ? (\n                                Object.keys(sizeMap[group.slice(0, -1)]).map((element, index) => {\n                                    const measure = element\n                                    .split('_')\n                                    .map(word => word[0].toUpperCase() + word.slice(1))\n                                    .join(' ')\n                                    return (\n                                        <th key={index}>\n                                            {measure}\n                                            <p>{sizeMap[group.slice(0, -1)][element]}</p>\n                                        </th>\n                                    )\n                            })) : null}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {product ? product.product[group].map(i => (\n                            <tr key={i.id}>\n                                <td>{i.size}</td>\n                                {Object.keys(sizeMap[group.slice(0, -1)]).map((j, index) => (\n                                    <td key={index}>\n                                        {i[j] ? `${i[j]}cm` : '-'}\n                                    </td>\n                                ))}\n                            </tr>\n                        )) : null}\n                    </tbody>\n                </table>\n            )}\n        </TableContainer>\n    )\n}\n\nexport const ColorPopup = () => {\n\n    const product = useSelector(state => state.product.product)\n\n    return (\n        <TableContainer>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Color Name</th>\n                        <th>HEX Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {product ? product.product.Colors.map((color, i) => (\n                        <tr key={i}>\n                            <td>{color.name}</td>\n                            <td>{color.code}</td>\n                        </tr>\n                    )) : null}\n                </tbody>\n            </table>\n        </TableContainer>\n    )\n}\n\nexport const EditPopup = () => {\n\n    const product = useSelector(state => state.product.product)\n\n    const top = useRef()\n\n    const {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n        setImages, \n        sizes, \n        colors, \n        handleInputChange, \n        handleAddPattern, \n        handleDeletePattern, \n        handleFormSubmit\n    } = useAdminProduct({top})\n\n\n    return (\n        <TableContainer ref={top}>\n            {product && product.product.Category.name === category && (\n                <form onSubmit={e => e.preventDefault()}>\n                    <FirstStepInputs \n                        step={0} \n                        {... {name, gender, category, desc, material, washing, images, setImages, handleInputChange}}\n                    />\n                    <SecondStepInputs \n                        step={0}\n                        {...{sizes, colors, handleInputChange, handleAddPattern, handleDeletePattern}}\n                        group={product?.product.Category.group.slice(0, -1)}\n                        sizesLength={product.product[product.product.Category.group].length}\n                        colorsLength={product.product.Colors.length}\n                    />\n                    <BtnContainer>\n                        <TextBtn \n                            type=\"submit\" \n                            name=\"edit\"\n                            onClick={handleFormSubmit} \n                            $active\n                        >\n                            送出\n                        </TextBtn>\n                    </BtnContainer>\n                </form>\n            )}\n        </TableContainer>\n    )\n}\n\nexport const DeletePopup = () => {\n\n    const history = useHistory()\n\n    const product = useSelector(state => state.product.product)\n\n    const { handleClosePopup } = useProduct()\n\n    const handleDeleteProduct = () => {\n        deleteProductAPI(product.product.id)\n        .then(() => history.go())\n    }\n  \n    return (\n        <PopupContent>\n            <H4>是否要刪除此商品？</H4>\n            <div>\n                <TextBtn onClick={handleClosePopup} $active>返回</TextBtn>\n                <Link to=\"#\" onClick={handleDeleteProduct}>\n                    <TextBtn $active>刪除</TextBtn>\n                </Link>\n            </div>\n        </PopupContent>\n    )\n}","import styled from \"styled-components\"\nimport { useSelector } from \"react-redux\";\n\nimport { Btn, H3 } from \"../constants/style\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport useProduct from \"../hooks/useProduct\";\n\nimport { CartPopup } from \"../pages/ProductPage/CartPopup\";\nimport { LoginPopup } from \"./LoginPopup\"\nimport { SizePopup, ColorPopup, EditPopup, DeletePopup } from \"../pages/AdminPages/AdminProductPage/InfoPopup\";\n\n\nconst PopupCover = styled.div`\n    opacity: ${props => props.$isOpened ? '1' : '0'};\n    visibility: ${props => props.$isOpened ? 'visible' : 'hidden'};\n    transition: .2s;\n\n    background-color: rgba(0,0,0,0.5);\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 11;\n`\n\nconst PopupWrapper = styled.div`\n    width: 90%;\n    height: 100%;\n    margin: auto;\n    position: relative;\n    & > label {\n        background-color: transparent;\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n    }\n`\n\nconst PopupContainer = styled.div`\n    transform: ${props => props.$isOpened ? 'translateY(0%)' : 'translateY(-50%)'};\n    opacity: ${props => props.$isOpened ? '1' : '0'};\n    transition: .2s;\n    width: 100%;\n    max-width: ${props => props.$type === 'edit' ? '768px' : '512px'};\n    max-height: calc(100vh - 80px);\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 40px auto;\n    background-color: ${props => props.theme.color.white};\n    border: 1px solid ${props => props.theme.color.lightGrey};\n    & > div {\n        padding: 10px;\n    }\n`\n\nconst PopupHeader = styled.div`\n    border-bottom: 1px solid ${props => props.theme.color.lightGrey};\n    position: relative;\n    & > button {\n        & svg {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            right: 10px;\n        }\n    }\n    ${props => props.$cart && 'display: flex;'}\n`\n\nconst PopupTitle = styled(H3)`\n    & > svg {\n        color: ${props => props.theme.color.success};\n        margin-right: 5px;\n    }\n`\n\nconst PopupContent = styled.div`\n    max-height: calc(100vh - 145px);\n    overflow: auto;\n`\n\n\nexport const Popup = ({type}) => {\n\n    const isOpened = useSelector(state => state.general.isOpened)\n    \n    const {\n        handleClosePopup\n    } = useProduct()\n  \n    return (\n        <PopupCover $isOpened={isOpened}>\n            <PopupWrapper>\n                <label onClick={handleClosePopup(type)} />\n                <PopupContainer $isOpened={isOpened} $type={type}>\n                    <PopupHeader $cart={type === 'cart'}>\n                        {type === 'cart' && (\n                            <PopupTitle>\n                                <FontAwesomeIcon icon={faCheck} />\n                                已成功加入至購物車\n                            </PopupTitle>\n                        )}\n                        <Btn onClick={handleClosePopup(type)}>\n                            <FontAwesomeIcon icon={faTimes} />\n                        </Btn>\n                    </PopupHeader>\n                    <PopupContent>\n                        {type === 'login' && (\n                            <LoginPopup />\n                        )}\n                        {type === 'cart' && (\n                            <CartPopup />\n                        )}\n                        {type === 'size' && (\n                            <SizePopup />\n                        )}\n                        {type === 'color' && (\n                            <ColorPopup />\n                        )}\n                        {type === 'edit' && (\n                            <EditPopup />\n                        )}\n                        {type === 'delete' && (\n                            <DeletePopup />\n                        )}\n                    </PopupContent>\n                </PopupContainer>\n            </PopupWrapper>\n        </PopupCover>\n    )\n}","import { useEffect, createContext } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { H2, PageWrapper, PageContainer } from \"../../constants/style\"\nimport { crumbMap } from \"../../constants/mapping\";\n\nimport { Feed } from \"../../components/Feed\";\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { Aside } from \"../../components/Aside\"\n\nimport { Sort } from \"./Sort\"\nimport { ProductList } from \"./ProductList\";\nimport { Popup } from \"../../components/Popup\";\n\n\n\nconst MainContainer = styled.main`\n  width: 80%;\n  flex-grow: 1;\n  & h2 {\n    padding: 0 10px;\n  }\n`\n\n\nexport const LocationContext = createContext();\n\nexport default function ListPage() {\n\n  const { pathname, search } = useLocation();\n  const pathArr = pathname.split('/')\n  const currentPath = pathArr[pathArr.length-1]\n  const currentTitle = crumbMap[pathArr.length-2] ? crumbMap[pathArr.length-2][currentPath] : 0\n\n  const history = useHistory()\n    \n  useEffect(() => {\n    if(!currentTitle){\n      const previousPath = pathArr.slice(0, pathArr.length-1).join('/')\n      history.push(previousPath)\n    }\n  }, [history, pathArr, currentTitle])\n\n  return (\n    <LocationContext.Provider value={{pathname, search}} >\n      <>\n        {currentTitle && (\n          <CrumbNav pathArr={pathArr}/>\n        )}\n        <PageWrapper>\n          <PageContainer>\n            <Aside filter />\n            <MainContainer>\n              <H2>{currentTitle}</H2>\n              <Sort />\n              <ProductList />\n            </MainContainer>\n          </PageContainer>\n        </PageWrapper>\n        {process.env.NODE_ENV === 'production' && (\n          <Feed />\n        )}\n        <Popup type=\"login\" />\n      </>\n    </LocationContext.Provider>\n  );\n}","import { useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport { Img } from \"../../components/Img\"\nimport { MEDIA_QUERY } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\"\n\nconst ImageContainer = styled.div`\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst ImageMain = styled.div`\n  aspect-ratio: 1;\n  border: 1px solid #aaa;\n  margin-bottom: 5px;\n  overflow: hidden;\n  position: relative;\n  @media (min-width: 512px) {\n    &:hover {\n      cursor: crosshair;\n      & > img:last-child {\n        opacity: 0;\n      }\n    }\n  }\n  & > img:first-child {\n    z-index: -1;\n    transform: scale(2);\n    transform-origin: top left;\n    position: absolute;\n    top: -50%;\n    left: -50%;\n  }\n  background-color: ${props => props.$isLoading && '#f00'};\n`\n\nconst ImageCarousel = styled.div`\n  padding: 5px;\n  display: flex;\n  & > div {\n    position: relative;\n    aspect-ratio: 1;\n    width: calc(100%/3);\n    border: 1px solid #aaa;\n    margin: 5px;\n    &:nth-child(n+5) {\n      display: none;\n    }\n  }\n  ${MEDIA_QUERY.l} {\n    & > div:nth-child(4) {\n      display: none;\n    }\n  }\n  ${MEDIA_QUERY.m} {\n    & > div:nth-child(4) {\n      display: block;\n    }\n  }\n  ${MEDIA_QUERY.s} {\n    & > div:nth-child(4) {\n      display: none;\n    }\n  }\n`\n\n\nexport const Image = ({images}) => {\n\n  const {\n    handleMouseMove,\n    handleImgClick,\n    mainImg,\n    setMainImg,\n    scaledImg\n  } = useProduct()\n\n  useEffect(() => {\n    const img = images.find(img => img.is_main === true)\n    setMainImg({src: img.src, alt: img.alt})\n  }, [images, setMainImg])\n\n  return (\n    <ImageContainer>\n      <ImageMain onMouseMove={handleMouseMove}>\n        <img src={mainImg.src} alt={mainImg.alt} ref={scaledImg} />\n        <Img image={mainImg}/>\n      </ImageMain>\n      <ImageCarousel onClick={handleImgClick}>\n        {images.slice(0, 4).map(image => (\n          <div key={image.id}>\n            <Img image={image} />\n          </div>\n        ))}\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1631410744690-3cc75aaea4df?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzJ8fG9uZSUyMHBpZWNlJTIwZHJlc3N8ZW58MHwyfDJ8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"02\"}} />\n        </div>\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1601460588655-109bd38204db?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nzd8fGRyZXNzJTIwb25lJTIwcGllY2V8ZW58MHwyfDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"03\"}} />\n        </div>\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1623052760790-9605a8579730?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDV8fHNoaXJ0c3xlbnwwfDJ8Mnx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"04\"}} />\n        </div>\n      </ImageCarousel>\n    </ImageContainer>\n  )\n}","import styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\n\nconst Qty = styled.div`\n    width: 60px;\n    height: 40px;\n    position: relative;\n    & > input {\n        width: 100%;\n        box-sizing: border-box;\n        padding-left: 5px;\n        height: 100%;\n        outline: 0;\n        border: 1px solid #aaa;\n    }\n    & > div {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 20px;\n        & > button {\n            box-sizing: content-box;\n            height: 18.5px;\n            border: 1px solid #aaa;\n            transition: .25s;\n            background-color: ${props => props.theme.color.white};\n            & + button {\n                margin-top: -1px;\n            }\n            & svg {\n                display: block;\n                margin: auto;\n                color: ${props => props.theme.color.grey};\n                font-size: ${props => props.theme.fontSize.bodySmall};\n            }\n            &:hover {\n                background-color: #eee;\n            }\n        }\n    }\n`\n\n\nexport const QtySelector = ({qty, handleQtyChange, handleBtnClick}) => {\n\n    return (\n        <Qty>\n            <input\n                type=\"number\"\n                value={qty}\n                min={1}\n                onChange={handleQtyChange}\n            />\n            <div>\n                <button onClick={() => handleBtnClick('inc')}>\n                    <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 180 }}/>\n                </button>\n                <button onClick={() => handleBtnClick('dec')}>\n                    <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 0 }}/>\n                </button>\n            </div>\n        </Qty>\n    )\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown, faShoppingCart, faHeart } from '@fortawesome/free-solid-svg-icons'\n\nimport { H3, H4, P, Span, TextBtn } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\";\n\nimport { useSelector } from \"react-redux\";\nimport { QtySelector } from \"../../components/QtySelector\";\n\n\nconst ContentContainer = styled.div`\n  & > div {\n    padding-bottom: 20px;\n  }\n`\n\nconst TitleContainer = styled.div`\n  & p {\n    font-weight: ${props => props.theme.fontWeight.m};\n    line-height: 1.75em;\n    padding: 10px 0;\n  }\n  & h3 {\n    padding: 10px 0;\n    border-bottom: 1px solid #aaa;\n  }\n`\n\nconst SpecContainer = styled.div`\n  & > div {\n    padding: 5px 0;\n  }\n  & h4 {\n    padding: 5px 0;\n  }\n`\n\nconst ColorSelector = styled.div`\n  & ul {\n    display: flex;\n    & li {\n      z-index: 1;\n      & + li {\n        margin-left: 5px;\n      }\n    }\n  }\n`\n\nconst Msg = styled(Span)`\n  color: ${props => props.theme.color.alert};\n`\n\nconst SizeSelector = styled.div`\n  & > div {\n    position: relative;\n    width: 60px;\n    height: 33px;\n    & > div {\n      display: flex;\n      height: 100%;\n      box-sizing: border-box;\n      border: 1px solid #aaa;\n      & span {\n        width: 50%;\n        padding-left: 5px;\n        margin: auto 0;\n        font-size: ${props => props.theme.fontSize.body};\n      }\n    }\n    & svg {\n      display: block;\n      margin: auto;\n      color: ${props => props.theme.color.grey};\n      font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n    & select {\n      position: absolute;\n      top: 0;\n      opacity: 0;\n      padding: 5px;\n      outline: 0;\n      border-color: ${props => props.theme.color.lightGrey};\n      width: 60px;\n    }\n  }\n`\n\nconst ColorLabel = styled.label`\n  & input {\n    display: none;\n    &:checked + span {\n      border: ${props => (parseInt(props.$color.slice(1), 16) <= parseInt('777777', 16)) ? 'medium double #eee' : 'thin solid #333'};\n    }\n  }\n  & span {\n    background-color: ${props => props.$color};\n    position: relative;\n    overflow: hidden;\n    ${props => props.$isNull && 'cursor: not-allowed;'}\n    &:before {\n      content: '';\n      width: 40px;\n      position: absolute;\n      transform: rotate(45deg);\n      transform-origin: top left;\n      top: 0;\n      left: 0;\n      background-color: #aaaa;\n      height: 2px;\n      display: ${props => props.$isNull ? 'block' : 'none'};\n    }\n    &:after {\n      content: '';\n      width: 40px;\n      position: absolute;\n      transform: rotate(-45deg);\n      transform-origin: top right;\n      top: 0;\n      right: 0;\n      background-color: #aaaa;\n      height: 2px;\n      display: ${props => props.$isNull ? 'block' : 'none'};\n    }\n  }\n`\n\nconst ColorSpan = styled.span`\n  display: block;\n  box-sizing: border-box;\n  border: 1px solid #aaa8;\n  width: 30px;\n  height: 30px;\n`\n\nconst PriceIsSale = styled.div`\n  & h4 {\n    display: inline-block;\n    // font-weight: ${props => props.theme.fontWeight.m};\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n      font-size: ${props => props.theme.fontSize.h3};\n    }\n    & + h4 {\n      padding-left: 10px;\n    }\n  }\n`\n\nconst QtyAndAdd = styled.div`\n  display: flex;\n`\n\nconst AddBtn = styled(TextBtn)`\n  margin-left: 10px;\n  padding: 10px 15px;\n\n  & svg {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    color: ${props => props.theme.color.white};\n    margin-right: 5px;\n  }\n`\n\nconst WishList = styled(P)`\n\n  & svg {\n    color: ${props => props.theme.color.grey};\n    font-size: ${props => props.theme.fontSize.body};\n    margin-right: 3px;\n  }\n  & a > span {\n    color: ${props => props.theme.color.grey};\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n  & > span {\n    margin-left: 10px;\n  }\n`\n\n\nconst ColorSelect = ({name, code, total, color, handleColorChange}) => {\n\n    const isNull = !total ? true : false\n\n    return (\n      <ColorLabel $color={code} $isNull={isNull}>\n        <input \n          type=\"radio\" \n          name=\"color\" \n          value={name} \n          onChange={handleColorChange(isNull)} \n          checked={(color === name) && !isNull}\n        />\n        <ColorSpan />\n      </ColorLabel>\n    )\n  }\n\n\nexport const Content = ({product, group}) => {\n\n  const spec = useSelector(state => state.product.spec)\n  \n  const isOpened = useSelector(state => state.general.isOpened)\n  const errorMessage = useSelector(state => state.general.errorMessage)\n\n  const {\n    addCommaToPrice,\n    handleBtnClick,\n    handleSizeChange,\n    handleQtyChange,\n    handleColorChange,\n    handleAddToCart,\n    handleAddToWishList\n  } = useProduct(spec, product, group, isOpened)\n\n\n  return (\n    <ContentContainer>\n      <TitleContainer>\n        <H3>{product.product.name}</H3>\n        <P>{product.product.desc}</P>\n      </TitleContainer>\n      <SpecContainer>\n        <SizeSelector>\n          <H4>尺寸</H4>\n          <div>\n            <div>\n              <span>{spec.size}</span>\n              <span>\n                <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 0 }}/>\n              </span>\n            </div>\n            {spec.size && (\n              <select value={spec.size} onChange={handleSizeChange}>\n                {product.product[`${group}s`].map(size => (\n                  <option key={size.id} value={size.size}>{size.size}</option>\n                ))}\n              </select>\n            )}\n          </div>\n        </SizeSelector>\n        <ColorSelector>\n          <H4>顏色</H4>\n          <ul>\n            {product.patterns\n            .filter(pattern => pattern[group].size === spec.size)\n            .map((pattern, index) => (\n              <li key={index}>\n                <ColorSelect\n                  name={pattern.Color.name}\n                  code={pattern.Color.code}\n                  total={pattern.total}\n                  color={spec.color}\n                  handleColorChange={handleColorChange}\n                />\n              </li>\n            ))}\n          </ul>\n          {spec.size && spec.color && (\n            product.patterns.find(pattern => (\n              (pattern[group].size === spec.size) && (pattern.Color.name === spec.color))\n            ).total <= 10 && (\n              <Msg>庫存數量少</Msg>\n            )\n          )}\n        </ColorSelector>\n        {(product.product.is_sale ? (\n          <PriceIsSale>\n            <H4>NT ${addCommaToPrice(product.product.price_standard)}</H4>\n            <H4>NT ${addCommaToPrice(product.product.price_sale)}</H4>\n          </PriceIsSale>\n        ) : (\n          <div>\n            <H4>NT ${addCommaToPrice(product.product.price_standard)}</H4>\n          </div>\n        ))}\n        {errorMessage && (<Msg>{errorMessage}</Msg>)}\n        <QtyAndAdd>\n          <QtySelector\n            qty={spec.qty}\n            handleQtyChange={handleQtyChange}\n            handleBtnClick={handleBtnClick}\n          />\n          <AddBtn onClick={handleAddToCart} $active>\n            <FontAwesomeIcon icon={faShoppingCart} />\n            加入購物車\n          </AddBtn>\n        </QtyAndAdd>\n        <WishList>\n          <Link to=\"#\" onClick={handleAddToWishList}>\n            <FontAwesomeIcon icon={faHeart} />\n            <Span>加入願望清單</Span>\n          </Link>\n        </WishList>\n      </SpecContainer>\n    </ContentContainer>\n  )\n}","import styled from \"styled-components\"\nimport { sizeMap } from \"../../constants/mapping\";\nimport { MEDIA_QUERY, H4, P, TextBtn } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\";\n\n\nconst DetailContainer = styled.div`\n  padding: 10px;\n  ${MEDIA_QUERY.m} {\n    width: 90%;\n    margin: 0 auto;\n  }\n`\nconst DetailTag = styled.div`\n  text-align: center;\n  padding: 10px 0 20px;\n`\nconst TagBtn = styled(TextBtn)`\n  margin: 5px;\n  font-size: ${props => props.theme.fontSize.bodyLarge};\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    border-color: ${props => props.theme.color.black};\n    &::before {\n      opacity: 1;\n    }\n  }\n  position: relative;\n  &::before {\n    opacity: ${props => props.$checked ? 1 : 0};\n    transition: .4s;\n    content: '';\n    width: 0;\n    height: 0;\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    bottom: -8px;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-top: 8px solid ${props => props.theme.color.black};\n  }\n  position: relative;\n  & label {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    cursor: pointer;\n  }\n`\n\nconst DetailContent = styled.div`\n  border: 1px solid #aaa;\n  padding: 20px;\n  & > input {\n    display: none;\n    &:checked + div {\n      opacity: 1;\n      position: relative;\n      top: 0px;\n      transition: opacity .5s;\n    }\n  }\n  position: relative;\n  & > div {\n    z-index: -1;\n    opacity: 0;\n    position: absolute;\n    top: -200px;\n    margin: 10px;\n  }\n  ${MEDIA_QUERY.s} {\n    padding: 0;\n  }\n`\n\nconst InfoContainer = styled.div`\n  & h4 {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.xl};\n    padding: 5px 0 10px;\n  }\n  & p {\n    color: ${props => props.theme.color.grey};\n    padding-bottom: 10px;\n  }\n`\nconst SizeContainer = styled.div`\n  overflow: auto;\n  & table {\n    border-collapse: collapse;\n  }\n  & th, td {\n    border: 1px solid #aaa;\n    width: 150px;\n    text-align: center;\n    padding: 5px 0;\n    & span {\n      display: block;\n    }\n  }\n  & th, td, span {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n    color: ${props => props.theme.color.black};\n    line-height: 1.5em;\n  }\n`\n\n\nexport const Detail = ({product, group}) => {\n\n    const { \n      isChecked,\n      handleCheckedChange\n    } = useProduct()\n  \n    return (\n        <DetailContainer>\n          <DetailTag>\n            <TagBtn $white={!isChecked} $active>\n              <label htmlFor=\"detail_info\" />\n              商品詳情\n            </TagBtn>\n            <TagBtn $white={isChecked} $active>\n              <label htmlFor=\"detail_size\" />\n              尺寸資訊\n            </TagBtn>\n          </DetailTag>\n          <DetailContent>\n            <input type=\"radio\" name=\"detail\" id=\"detail_info\" checked={isChecked} onChange={handleCheckedChange} />\n            {product && (\n              <InfoContainer>\n                <H4>材質</H4>\n                <P>{product.product.material}</P>\n                <H4>清洗方式</H4>\n                <P>{product.product.washing}</P>\n              </InfoContainer>\n            )}\n            <input type=\"radio\" name=\"detail\" id=\"detail_size\" checked={!isChecked} onChange={handleCheckedChange} />\n            <SizeContainer>\n              {group && (group === 'Size_general' ? (\n                <P>單一尺寸 One Size</P>\n              ) : (\n                <table>\n                  <thead>\n                    <tr>\n                      <th></th>\n                      {Object.keys(sizeMap[group]).map((element, index) => {\n                        const measure = element\n                          .split('_')\n                          .map(word => word[0].toUpperCase() + word.slice(1))\n                          .join(' ')\n                        return (\n                          <th key={index}>\n                            <span>{measure}</span>\n                            <span>{sizeMap[group][element]}</span>\n                          </th>\n                        )\n                      })}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {product.product[`${group}s`].map(i => (\n                      <tr key={i.id}>\n                        <td>{i.size}</td>\n                        {Object.keys(sizeMap[group]).map((j, index) => (\n                          <td key={index}>\n                            {i[j] ? `${i[j]}cm` : '-'}\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ))}\n            </SizeContainer>\n          </DetailContent>\n        </DetailContainer>\n    )\n}","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport styled from \"styled-components\"\n\nimport { MEDIA_QUERY, PageWrapper, PageContainer, H4, fontTheme } from \"../../constants/style\"\n\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { Aside } from \"../../components/Aside\";\nimport { Popup } from \"../../components/Popup\";\nimport { Feed } from \"../../components/Feed\";\n\nimport { getProduct, setProduct } from \"../../features/product/productSlice\";\n\nimport { Image } from \"./Image\";\nimport { Content } from \"./Content\";\nimport { Detail } from \"./Detail\";\n\nconst Msg = styled(H4)`\n  margin: 0 auto;\n  padding: 20px;\n`\n\nconst MainContainer = styled.main`\n  width: 80%;\n  flex-grow: 1;\n  position: relative;\n`\n\nconst ItemContainer = styled.div`\n  display: flex;\n  & > div {\n    width: 50%;\n    padding: 10px;\n  }\n  ${MEDIA_QUERY.m} {\n    display: block;\n    & > div {\n      width: 90%;\n      margin: 0 auto;\n    }\n  }\n`\n\nconst OffMessage = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: ${props => props.theme.color.white}a;\n  z-index: 1;\n  & > div {\n    position: absolute;\n    top: 20%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 20px 40px;\n    border-radius: .25em;\n    background-color: ${props => props.theme.color.lightGrey}c;\n    color: ${props => props.theme.color.black};\n    white-space: nowrap;\n    ${MEDIA_QUERY.s} {\n      ${fontTheme.p}\n      padding: 10px 20px;\n      top: 10%;\n    }\n    ${fontTheme.h4}\n  }\n`\n\n\nconst BreadCrumb = ({product}) => {\n  const [path, setPath] = useState(['', 'collection'])\n  useEffect(() => {\n    if(!product) return\n    const gender = product.gender === 'M' ? 'men' : 'women';\n    const category = product.Category.name;\n    setPath(['', 'collection', gender, category])\n    // return () => {\n    //   setPath(['', 'collection'])\n    // }\n  }, [product])\n  return (\n    <CrumbNav pathArr={path} name={product?.name} />   \n  )\n}\n\nexport default function ProductPage () {\n\n    const { id } = useParams()\n\n    const product = useSelector(state => state.product.product)\n    const error = useSelector(state => state.product.error)\n    const popupCode = useSelector(state => state.general.popupCode)\n    const dispatch = useDispatch()\n\n    const group = product?.product?.Category?.group.slice(0, -1)\n\n    useEffect(() => {\n      dispatch(getProduct(id))\n      return () => {\n        dispatch(setProduct(''))\n      }\n    }, [id, dispatch])\n\n    return (\n        <>\n          <BreadCrumb product={product?.product}/>\n          <PageWrapper>\n            <PageContainer>\n              <Aside />\n              {!product && (\n                error ? (\n                  <Msg>{error}</Msg>\n                ) : (\n                  <Msg>商品載入中...</Msg>\n                )\n              )}\n              {product && !error && (\n                <MainContainer>\n                  <ItemContainer>\n                    <Image images={product.product.Images} />\n                    <Content product={product} group={group} />\n                  </ItemContainer>\n                  <Detail product={product} group={group} />\n                  {!product.product.is_on && (\n                    <OffMessage>\n                      <div>此商品目前未上架!</div>\n                    </OffMessage>\n                  )}\n                </MainContainer>\n              )}\n            </PageContainer>\n          </PageWrapper>\n          {process.env.NODE_ENV === 'production' && (\n            <Feed />\n          )}\n          {popupCode !== 'cart' && (\n            <Popup type=\"login\" />\n          )}\n          {product && popupCode !== 'login' && (\n            <Popup type=\"cart\" />\n          )}\n        </>\n    )\n}","import styled from \"styled-components\"\nimport { fontTheme, MEDIA_QUERY } from \"../constants/style\"\n\n\nconst FlowMobile = styled.li`\n    margin: 1px 0;\n    padding: 10px;\n    border-left: 3px solid ${props => props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n    color: ${props => props.$active && props.theme.color.black};\n`\n\nconst FlowContainer = styled.div`\n    & ol {\n        &:nth-child(1) {\n            display: flex;\n            justify-content: center;\n            ${MEDIA_QUERY.m} {\n                display: none;\n            }\n        }\n        &:nth-child(2) {\n            display: none;\n            ${fontTheme.p}\n            color: ${props => props.theme.color.lightGrey};\n            padding: 10px 0;\n            ${MEDIA_QUERY.m} {\n                display: block;\n            }\n        }\n    }\n`\n\nconst FlowNode = styled.div`\n    ${fontTheme.p};\n    margin: 10px;\n    background-color: ${props => props.theme.color.lightGrey};\n    color: ${props => props.theme.color.white};\n    min-width: 80px;\n    min-height: 80px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    & > p {\n        ${fontTheme.h3}\n    }\n`\n\nconst FlowText = styled.div`\n    ${fontTheme.p}\n    padding-right: 10px;\n    color: ${props => props.theme.color.lightGrey};\n    min-width: ${props => props.$fixed && '108px'};\n    & > p {\n        ${fontTheme.h4}\n    }\n`\n\nconst FlowContent = styled.li`\n    display: flex;\n    align-items: center;\n    padding: 10px 20px;\n    position: relative;\n    & + li::before {\n        content: '>';\n        position: absolute;\n        left: -10px;\n        ${fontTheme.h3}\n        color: ${props => props.theme.color.lightGrey};\n    }\n    ${FlowNode} {\n        background-color: ${props => props.$active && props.theme.color.black};\n    }\n    ${FlowText} {\n        color: ${props => props.$active && props.theme.color.black};\n    }\n`\n\nexport const CheckoutFlow = ({step}) => {\n    return (\n        <FlowContainer>\n            <ol>\n                <FlowContent $active={step === 1}>\n                    <FlowNode>\n                        Step\n                        <p>01</p>\n                    </FlowNode>\n                    <FlowText $fixed>\n                        Check Order\n                        <p>確認購買清單</p>\n                    </FlowText>\n                </FlowContent>\n                <FlowContent $active={step === 2}>\n                    <FlowNode>\n                        Step\n                        <p>02</p>\n                    </FlowNode>\n                    <FlowText $fixed>\n                        Write the Add\n                        <p>填寫付款及運送資料</p>\n                    </FlowText>\n                </FlowContent>\n                <FlowContent $active={step === 3}>\n                    <FlowNode>\n                        Step\n                        <p>03</p>\n                    </FlowNode>\n                    <FlowText>\n                        Completed\n                        <p>完成訂單</p>\n                    </FlowText>\n                </FlowContent>\n            </ol>\n            <ol>\n                <FlowMobile $active={step === 1}>\n                    STEP1. 確認購買訂單 Check Order\n                </FlowMobile>\n                <FlowMobile $active={step === 2}>\n                    STEP2. 填寫付款及運送資料 Write the Add\n                </FlowMobile>\n                <FlowMobile $active={step === 3}>\n                    STEP3. 完成訂單 Completed\n                </FlowMobile>\n            </ol>\n        </FlowContainer>\n    )\n}","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\n\nimport { Btn, fontTheme, MEDIA_QUERY } from \"../../constants/style\"\n\nimport { QtySelector } from \"../../components/QtySelector\"\nimport { Img } from \"../../components/Img\"\nimport useProduct from \"../../hooks/useProduct\"\nimport useCart from \"../../hooks/useCart\"\n\n\nconst NameNote = styled.div`\n    display: none;\n    ${MEDIA_QUERY.m} {\n        display: block;\n    }\n    padding: 10px 0;\n    & > p {\n        ${fontTheme.span}\n    }\n`\n\nconst Price = styled.p`\n    font-weight: ${props => props.theme.fontWeight.xl};\n    font-size: ${props => props.theme.fontSize.h4};\n    ${MEDIA_QUERY.s} {\n        font-size: ${props => props.theme.fontSize.bodyLarge};\n    }\n`\n\nconst SellingPrice = styled(Price)`\n    color: ${props => props.theme.color.alert};\n    & + div {\n        font-weight: ${props => props.theme.fontWeight.xl};\n        color: ${props => props.theme.color.lightGrey};\n        line-height: 1.25em;\n        margin-top: 10px;\n    }\n`\n\nconst ErrorMsg = styled.span`\n    ${fontTheme.span}\n    color: ${props => props.theme.color.alert};\n    padding: 5px 0;\n    position: absolute;\n    ${MEDIA_QUERY.s} {\n        bottom: 0;\n        right: -100px;\n    }\n`\n\nconst MobileItem = styled.div`\n    padding: 10px 0;\n`\nconst ItemTitle = styled.div`\n    display: flex;\n    & > div {\n        width: 50%;\n        padding: 5px;\n        ${fontTheme.p}\n    }\n    ${MEDIA_QUERY.xs} {\n        display: block;\n        & > div {\n            width: 95%;\n            margin: 0 auto;\n        }\n    }\n`\n\nconst TableContainer = styled.div`\n    & table {\n        width: 100%;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.p}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst ItemContent = styled(TableContainer)`\n    overflow: auto;\n    & table {\n        border: none;\n        border-bottom: 1px solid #aaa;\n        & th, td {\n            border: none;\n            ${fontTheme.span}\n            position: relative;\n            &:last-child {\n                width: 10%;\n            }\n        }\n        & svg {\n            font-size: ${props => props.theme.fontSize.h3};\n        }\n    }\n`\nconst ItemImage = styled.div`\n    position: relative;\n    & img {\n        width: 100%;\n        aspect-ratio: 1;\n    }\n`\nconst ItemName = styled.div`\n`\n\n\nexport const CartItem = ({item, index}) => {\n\n    const url = `/product/${item.id}`\n\n    const subtotal = (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    const {\n        addCommaToPrice,\n    } = useProduct()\n\n    const {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick\n    } = useCart(item)\n\n    return (\n        <tr>\n            <td>\n                <Link to={url}>\n                    <Img image={{src: item.src, alt: item.alt}} />\n                </Link>\n            </td>\n            <td>\n                {item.name}\n                <NameNote>\n                    <p>尺寸 : {item.size}</p>\n                    <p>顏色 : {item.color}</p>\n                </NameNote>\n            </td>\n            <td>\n                <p>尺寸 : {item.size}</p>\n                <p>顏色 : {item.color}</p>\n            </td>\n            <td>\n                {item.is_sale ? (\n                    <>\n                        <SellingPrice>\n                            ${addCommaToPrice(item.price_sale)}\n                        </SellingPrice>\n                        <div>\n                            原價\n                            <p>${addCommaToPrice(item.price_standard)}</p>\n                        </div>\n                    </>\n                ) : (\n                    <Price>\n                        ${addCommaToPrice(item.price_standard)}\n                    </Price>\n                )}\n            </td>\n            <td>\n                <QtySelector \n                    qty={item.qty}\n                    handleQtyChange={handleQtyChange}\n                    handleBtnClick={handleBtnClick}\n                />\n                {errorMessage && (\n                    <ErrorMsg>{errorMessage[index]}</ErrorMsg>\n                )}\n            </td>\n            <td>\n                <Price>\n                    ${addCommaToPrice(subtotal)}\n                </Price>\n            </td>\n            <td>\n                <Btn onClick={handleDeleteCart(index)}>\n                    <FontAwesomeIcon icon={faTrashAlt}/>\n                </Btn>\n            </td>\n        </tr>\n    )\n}\n\n\nexport const MobileCartItem = ({item, index}) => {\n\n    const url = `/product/${item.id}`\n\n    const subtotal = (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    const {\n        addCommaToPrice\n    } = useProduct()\n\n    const {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick\n    } = useCart(item)\n\n    return (\n        <li>\n            <MobileItem>\n                <ItemTitle>\n                    <ItemImage>\n                        <Link to={url}>\n                            <Img image={{src: item.src, alt: item.alt}} />\n                        </Link>\n                    </ItemImage>\n                    <ItemName>\n                        {item.name}\n                        <NameNote>\n                            <p>尺寸 : {item.size}</p>\n                            <p>顏色 : {item.color}</p>\n                        </NameNote>\n                    </ItemName>\n                </ItemTitle>\n                <ItemContent>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>售價</th>\n                                <th>數量</th>\n                                <th>小計</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>\n                                    {item.is_sale ? (\n                                        <>\n                                            <SellingPrice>\n                                                ${addCommaToPrice(item.price_sale)}\n                                            </SellingPrice>\n                                            <div>\n                                                原價\n                                                <p>${addCommaToPrice(item.price_standard)}</p>\n                                            </div>\n                                        </>\n                                    ) : (\n                                        <Price>\n                                            ${addCommaToPrice(item.price_standard)}\n                                        </Price>\n                                    )}\n                                </td>\n                                <td>\n                                    <QtySelector \n                                        qty={item.qty}\n                                        handleQtyChange={handleQtyChange}\n                                        handleBtnClick={handleBtnClick}\n                                    />\n                                    {errorMessage && (\n                                        <ErrorMsg>{errorMessage[index]}</ErrorMsg>\n                                    )}\n                                </td>\n                                <td>\n                                    <Price>\n                                        ${addCommaToPrice(subtotal)}\n                                    </Price>\n                                </td>\n                                <td>\n                                    <Btn onClick={handleDeleteCart(index)}>\n                                        <FontAwesomeIcon icon={faTrashAlt}/>\n                                    </Btn>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </ItemContent>\n            </MobileItem>\n        </li>       \n    )\n}","import styled, { css } from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport { useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { fontTheme, H2, MEDIA_QUERY, P, TextBtn, H4 } from \"../../constants/style\"\n\nimport useProduct from \"../../hooks/useProduct\"\nimport useCart from \"../../hooks/useCart\"\nimport { setErrorMessage } from \"../../features/cart/cartSlice\"\nimport { CheckoutFlow } from \"../../components/CheckoutFlow\"\nimport { CartItem, MobileCartItem } from \"./CartItem\"\n\n\nconst PageWrapper = styled.div``\n\nconst PageContainer = styled.div`\n    width: 90%;\n    ${MEDIA_QUERY.m} {\n        width: 95%;\n    }\n    margin: 0 auto;\n    //   display: flex;\n    //   align-items: flex-start;\n`\n\nconst TableContainer = styled.div`\n    & table {\n        width: 100%;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.p}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst CartContainer = styled(TableContainer)`\n    padding: 10px 0;\n    & table {\n        & th, td {\n            ${MEDIA_QUERY.m} {\n                &:nth-child(3) {\n                    display: none;\n                }\n            }\n            &:nth-last-child(2) {\n                width: 15%;\n            }\n        }\n        & td:first-child {\n            width: 10%;\n            position: relative;\n            & img {\n                width: 100%;\n                min-width: 80px;\n            }\n        }\n    }\n    ${MEDIA_QUERY.s} {\n        display: none;\n    }\n`\n\nconst ADDSTYLE = css`\n    display: inline-block;\n    margin-left: 10px;\n    ${MEDIA_QUERY.s} {\n        display: block;\n        width: fit-content;\n        margin: 20px 0 0 auto;\n    }\n`\n\nconst TotalContainer = styled.div`\n    margin-bottom: 20px;\n    padding: 10px 0;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    align-items: baseline;\n    ${fontTheme.h4}\n    ${MEDIA_QUERY.s} {\n        display: block;\n        text-align: right;\n    }\n    & > a {\n        color: ${props => props.theme.color.black};\n        display: block;\n        margin: 10px 0;\n        & svg {\n            margin-right: 4px;\n        }\n    }\n    & > div {\n        color: ${props => props.theme.color.black};\n        & span {\n            ${fontTheme.h3}\n        }\n        & a {\n            ${ADDSTYLE}\n        }\n    }\n`\n\n\n\nconst ToCartBtn = styled(TextBtn)`\n    vertical-align: bottom;\n    padding: 5px 20px;\n    ${fontTheme.h4}\n    ${props => !props.$active && ADDSTYLE}\n`\n\nconst MobileCartContainer = styled.div`\n    display: none;\n    padding: 10px 0;\n    ${MEDIA_QUERY.s} {\n        display: block;\n    }\n    & > p {\n        ${fontTheme.span}\n        border-bottom: 1px solid #aaa;\n    }\n`\n\n\nexport default function CartPage () {\n\n    const dispatch = useDispatch()\n    const cart = useSelector(state => state.cart.cart)\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    useEffect(() => {\n        if(!cart || !cart.length) return\n        const arr = Array(cart.length).fill('').map((element, index) => {\n            if(cart[index].qty > cart[index].total){\n                element = '選擇的數量超過庫存數量!'\n            }\n            if(cart[index].qty === 0){\n                element = '選擇的數量不可為0!'\n            }\n            if(!cart[index].is_on){\n                element = '此商品已下架, 請從購物車移除!'\n            }\n            return element\n        })\n        dispatch(setErrorMessage(arr))\n    }, [dispatch, cart])\n\n    const {\n        addCommaToPrice\n    } = useProduct()\n\n    const {\n        getTotal,\n        hasError\n    } = useCart()\n\n    return (\n        <PageWrapper>\n            <PageContainer>\n                <H2>購物車</H2>\n                <CheckoutFlow step={1}/>\n                <CartContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th></th>\n                                <th>商品名稱</th>\n                                <th>尺寸 / 顏色</th>\n                                <th>售價</th>\n                                <th>數量</th>\n                                <th>小計</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        {cart && cart.length > 0 && (\n                            <tbody>\n                                {cart.map((item, index) => (\n                                    <CartItem \n                                        key={index}\n                                        item={item} \n                                        index={index}\n                                    />\n                                ))}\n                            </tbody>\n                        )}\n                    </table>\n                    {cart ? (\n                        cart.length === 0 && (<H4>購物車內暫無商品</H4>)\n                    ) : (\n                        <H4>商品載入中...</H4>\n                    )}\n                </CartContainer>\n                <MobileCartContainer>\n                    <P>全部商品 ({cart ? cart.length : '-'})</P>\n                    <ul>\n                        {cart ? (\n                            cart.length > 0 ? (\n                                cart.map((item, index) => (\n                                    <MobileCartItem \n                                        key={index}\n                                        item={item} \n                                        index={index}\n                                    />\n                                ))\n                            ) : (\n                                <H4>購物車內暫無商品</H4>\n                            )\n                        ) : (\n                            <H4>商品載入中...</H4>\n                        )}\n                    </ul>\n                </MobileCartContainer>\n                <TotalContainer>\n                    {cart && cart.length > 0 && (\n                        <div>\n                            總金額 (不含運費) : \n                            <span>\n                                ${cart.length > 0 ? (\n                                    addCommaToPrice(getTotal(cart))\n                                ) : (\n                                    '-'\n                                )}\n                            </span>\n                            {hasError(errorMessage) ? (\n                                <ToCartBtn $active={!hasError(errorMessage)}>\n                                    前往結帳\n                                </ToCartBtn>\n                            ) : (\n                                <Link to=\"#\">\n                                    <ToCartBtn $active={!hasError(errorMessage)}>\n                                        前往結帳\n                                    </ToCartBtn>\n                                </Link>\n                            )}\n                        </div>\n                    )}\n                    <Link to=\"/collection\">\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 90 }}/>\n                        繼續選購\n                    </Link>\n                </TotalContainer>\n            </PageContainer>\n        </PageWrapper>\n    )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt, faPen, faPlus } from '@fortawesome/free-solid-svg-icons'\nimport { crumbMap } from \"../../../constants/mapping\";\nimport { Btn, fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\n\nimport { setPopupCode, setIsOpened } from \"../../../features/general/generalSlice\";\nimport { getProducts, setProduct, setProducts } from \"../../../features/product/productSlice\";\n\nimport { getProductAPI } from \"../../../webAPI/productAPI\";\n\nimport { Popup } from \"../../../components/Popup\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst ToDetailBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst FilterContainer = styled.div`\n    padding: 10px;\n    display: flex;\n    justify-content: space-between;\n    // align-items: center;\n    ${fontTheme.p}\n    & > div {\n        display: flex;\n        & > div + div {\n            margin-left: 10px;\n        }\n        & > button {\n            margin-right: 10px;\n        }\n        & a {\n            color: ${props => props.theme.color.black};\n            & svg {\n                margin-right: 2px;\n                font-size: ${props => props.theme.fontSize.h4};\n            }\n        }\n    }\n`\n\nconst Item = ({product}) => {\n\n    const dispatch = useDispatch()\n    \n    const [info, setInfo] = useState()\n    \n    useEffect(() => {\n        getProductAPI(product.id)\n            .then(result => {\n                setInfo(result.data)\n            })\n        return () => {\n            setInfo()\n        }\n    }, [product.id])\n\n    const handleIsOpened = e => {\n        dispatch(setProduct(info))\n        dispatch(setIsOpened(true))\n        dispatch(setPopupCode(e.currentTarget.name))\n    }\n\n    return (\n        <>\n            {info && (\n                <tr>\n                    <td>{product.id}</td>\n                    <td>{product.gender === 'M' ? '男裝' : '女裝'}</td>\n                    <td>{crumbMap[2][info.product.Category.name]}</td>\n                    <td>{product.name}</td>\n                    <td>{info.product.desc || '-'}</td>\n                    <td>{info.product.material || '-'}</td>\n                    <td>{info.product.washing || '-'}</td>\n                    <td>\n                        <ToDetailBtn name=\"size\" onClick={handleIsOpened} $white $active>查看</ToDetailBtn>\n                    </td>\n                    <td>\n                        <ToDetailBtn name=\"color\" onClick={handleIsOpened} $white $active>查看</ToDetailBtn>\n                    </td>\n                    <td>\n                        <Btn name=\"edit\" onClick={handleIsOpened}>\n                            <FontAwesomeIcon icon={faPen}/>\n                        </Btn>\n                    </td>\n                    <td>\n                        <Btn name=\"delete\" onClick={handleIsOpened}>\n                            <FontAwesomeIcon icon={faTrashAlt}/>\n                        </Btn>\n                    </td>\n                </tr>\n            )}\n        </>\n    )\n}\n\nexport const Information = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n    const popupCode = useSelector(state => state.general.popupCode)\n\n    const [gender, setGender] = useState('')\n    const [category, setCategory] = useState('')\n\n    useEffect(() => {\n        dispatch(getProducts([gender, category], ''))\n        return () => {\n            dispatch(setProducts(null))\n        }\n    }, [dispatch, gender, category])\n\n    const handleSelectChange = e => {\n        if(e.target.name === 'gender') return setGender(e.target.value)\n        if(e.target.name === 'category') return setCategory(e.target.value)\n        if(e.target.name === 'clearFilter'){\n            setGender('')\n            setCategory('')\n        }\n    }\n\n    return (\n        <>\n            <MainContainer>\n                <H2>新增及管理產品資訊</H2>\n                <FilterContainer>\n                    <div>\n                        <ToDetailBtn name=\"clearFilter\" onClick={handleSelectChange} $white $active>清除篩選</ToDetailBtn>\n                        <div>\n                            <label htmlFor=\"gender\">性別: </label>\n                            <select name=\"gender\" value={gender} onChange={handleSelectChange} id=\"gender\">\n                                <option value=\"\">-----</option>\n                                <option value=\"men\">男裝</option>\n                                <option value=\"women\">女裝</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label htmlFor=\"category\">分類: </label>\n                            <select name=\"category\" value={category} onChange={handleSelectChange} id=\"category\">\n                                <option value=\"\">-----</option>\n                                <option value=\"tops\">上衣類</option>\n                                <option value=\"shirts\">襯衫類</option>\n                                <option value=\"knit\">針織衫 / 毛衣</option>\n                                <option value=\"one_piece\">洋裝類</option>\n                                <option value=\"outer\">外套類</option>\n                                <option value=\"bottoms\">褲裝類</option>\n                                <option value=\"skirts\">裙子類</option>\n                                <option value=\"general\">配件類</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div>\n                        <Link to=\"/admin/product/new\">\n                            <Btn>\n                                <FontAwesomeIcon icon={faPlus} />\n                            </Btn>\n                            <span>新增產品</span>\n                        </Link>\n                    </div>\n                </FilterContainer>\n                <TableContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>id</th>\n                                <th>性別</th>\n                                <th>分類</th>\n                                <th>品名</th>\n                                <th>簡介</th>\n                                <th>材質</th>\n                                <th>洗滌方式</th>\n                                <th>尺寸資訊</th>\n                                <th>顏色資訊</th>\n                                <th>編輯</th>\n                                <th>刪除</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {products && !error && products.length > 0 && (\n                                products.map(product => (\n                                    <Item key={product.id} product={product} />\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                    {products && !error && products.length === 0 && (\n                        <H4>查無商品</H4>\n                    )}\n                    {!products && (\n                        error ? (\n                            <P>{error}</P>\n                        ) : (\n                            <H4>商品載入中......</H4>\n                        )\n                    )}\n                </TableContainer>\n            </MainContainer>\n            <>\n                {popupCode !== 'color' && popupCode !== 'edit' && popupCode !== 'delete' && (\n                    <Popup type=\"size\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'edit' && popupCode !== 'delete' && (\n                    <Popup type=\"color\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'color' && popupCode !== 'delete' && (\n                    <Popup type=\"edit\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'color' && popupCode !== 'edit' && (\n                    <Popup type=\"delete\" />\n                )}\n            </>\n        </>\n        \n    )\n}","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\nimport { getProducts, setProducts } from \"../../../features/product/productSlice\";\nimport { getProductAPI, updatePatternAPI } from \"../../../webAPI/productAPI\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n            &:nth-child(n+3):nth-child(-n+6){\n                width: 10%;\n            }\n\n            white-space: nowrap;\n\n            \n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                // white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\n\nconst FilterBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst Input = styled.input`\n    &:last-child {\n        width: 50px;\n        padding: 0 5px;\n    }\n    margin-right: 2px;\n    & + label {\n        margin-right: 5px;\n    }\n`\n\nconst Form = styled.td`\n    & ${Input}:last-child {\n        border: ${props => props.$isError && '2px solid red'};\n    }\n    & + td > span {\n        color: ${props => props.$isError && props.theme.color.alert};\n    }\n`\n\nconst Total = styled.td`\n    background-color: ${props => props.$safe && props.theme.color.success};\n    background-color: ${props => props.$caution && props.theme.color.yellow};\n    background-color: ${props => props.$danger && props.theme.color.alert};\n`\n\nconst SubItem = ({pattern, group}) => {\n\n    const history = useHistory();\n\n    const [type, setType] = useState('')\n    const [qty, setQty] = useState(0)\n\n    const [isEditing, setIsEditing] = useState(false)\n    const [error, setError] = useState('')\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'type': {\n                return setType(e.target.id)\n            }\n            case 'qty': {\n                if(error) setError('')\n                return setQty(e.target.value)\n            }\n            default: break\n        }\n    }\n\n    const handleIsEditing = e => {\n        if(e.target.name === 'edit') return setIsEditing(true)\n        if(e.target.name === 'save') {\n            if(!type || !parseInt(qty)) {\n                setType('')\n                setQty(0)\n                return setIsEditing(false)\n            }\n            updatePatternAPI(pattern.id, {\n                type, \n                quantity: parseInt(qty)\n            }).then(result => {\n                if(!result.ok) return setError(result.message)\n                alert('更改存貨數量成功!')\n                return history.go()\n            })\n        }\n    }\n\n    return (\n        <tr>\n            <td></td>\n            <td></td>\n            <td>{pattern[group].size}</td>\n            <td>{pattern.Color.name}</td>\n            <Total \n                $safe={pattern.total >= 30}\n                $caution={pattern.total >= 10 && pattern.total < 30}\n                $danger={pattern.total < 10 && typeof pattern.total === 'number'}\n            >\n                {typeof pattern.total === 'number' ? pattern.total : '-'}\n            </Total>\n            <Form $isError={error}>\n                <Input \n                    checked={type === 'INC'} \n                    onChange={handleInputChange} \n                    type=\"radio\" \n                    name=\"type\" \n                    id=\"INC\" \n                    disabled={!isEditing} \n                />\n                <label htmlFor=\"increase\">增加</label>\n                <Input \n                    checked={type === 'DEC'} \n                    onChange={handleInputChange} \n                    type=\"radio\" \n                    name=\"type\" \n                    id=\"DEC\" \n                    disabled={!isEditing} \n                />\n                <label htmlFor=\"decrease\">減少</label>\n                <Input \n                    value={qty} \n                    onChange={handleInputChange} \n                    type=\"number\" \n                    name=\"qty\" \n                    min=\"0\" \n                    disabled={!isEditing} \n                />個\n            </Form>\n            <td>{isEditing ? (<span>{error}</span>) : pattern.updatedAt}</td>\n            <td>\n                {isEditing ? (\n                    <FilterBtn onClick={handleIsEditing} type=\"submit\" name=\"save\" $white $active>\n                        儲存\n                    </FilterBtn>\n                ) : (\n                    <FilterBtn onClick={handleIsEditing} type=\"button\" name=\"edit\" $white $active>\n                        編輯\n                    </FilterBtn>\n                )}\n            </td>\n            <td>\n                <FilterBtn type=\"button\" $white $active>\n                    查看\n                </FilterBtn>\n            </td>\n        </tr>\n    )\n}\n\nconst Item = ({product}) => {\n\n    const [item, setItem] = useState()\n\n    useEffect(() => {\n        getProductAPI(product.id)\n            .then(result => {\n                setItem({group: result.data.product.Category.group.slice(0, -1), patterns: result.data.patterns})\n            })\n        return () => {\n            setItem()\n        }\n    }, [product.id])\n\n    return (\n        <>\n            <tr>\n                <td>{product.id}</td>\n                <td>{product.name}</td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            {item && item.patterns.map(pattern => {\n                return (\n                    <SubItem \n                        key={pattern.id} \n                        pattern={pattern} \n                        group={item.group} \n                    />\n                )\n            })}\n        </>\n    )\n}\n\nexport const Quantity = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n\n    useEffect(() => {\n        dispatch(getProducts('', ''))\n        return () => {\n            dispatch(setProducts(null))\n        }\n    }, [dispatch])\n\n    return (\n        <>\n            <MainContainer>\n                <H2>管理存貨數量與紀錄</H2>\n                <TableContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>id</th>\n                                <th>產品名稱</th>\n                                <th>尺寸</th>\n                                <th>顏色</th>\n                                <th>數量</th>\n                                <th></th>\n                                <th>更新時間</th>\n                                <th></th>\n                                <th>進出紀錄</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {products && !error && products.length > 0 && (\n                                products.map(product => (\n                                    <Item key={product.id} product={product} />\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                    {products && !error && products.length === 0 && (\n                        <H4>查無商品</H4>\n                    )}\n                    {!products && (\n                        error ? (\n                            <P>{error}</P>\n                        ) : (\n                            <H4>商品載入中......</H4>\n                        )\n                    )}\n                </TableContainer>\n            </MainContainer>\n        </>\n        \n    )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport { fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\nimport { getProducts, setProducts } from \"../../../features/product/productSlice\";\nimport { updateProductAPI } from \"../../../webAPI/productAPI\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n            &:nth-child(n+3):nth-child(-n+6){\n                width: 8%;\n            }\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst FilterContainer = styled.div`\n    padding: 10px;\n    display: flex;\n    ${fontTheme.p}\n    & > div + div {\n        margin-left: 10px;\n    }\n    & > button {\n        margin-right: 20px;\n    }\n`\n\nconst SortBtn = styled.button`\n    ${fontTheme.span}\n    color: ${props => props.theme.color.white};\n    font-weight: ${props => props.theme.fontWeight.xl};\n\n    position: relative;\n    &::before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 0;\n        position: absolute;\n        right: -15px;\n        top: -1px;\n        border-left: 5px solid transparent;\n        border-right: 5px solid transparent;\n        border-bottom: 10px solid ${props => props.theme.color.grey};\n    }\n    &::after {\n        content: '';\n        display: block;\n        width: 0;\n        height: 0;\n        position: absolute;\n        right: -15px;\n        bottom: -1px;\n        border-left: 5px solid transparent;\n        border-right: 5px solid transparent;\n        border-top: 10px solid ${props => props.theme.color.grey};\n    }\n`\n\nconst FilterBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst BooleanSvg = styled(FontAwesomeIcon)`\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    color: ${props => props.$active ? props.theme.color.success : props.theme.color.alert};\n`\n\nconst PriceInput = styled.input`\n    width: 50px;\n`\n\nconst Item = ({product}) => {\n\n    const [isOn, setIsOn] = useState(null)\n    const [isSale, setIsSale] = useState(null)\n    const [priceStandard, setPriceStandard] = useState(NaN)\n    const [priceSale, setPriceSale] = useState(NaN)\n\n    const [isEditing, setIsEditing] = useState(false)\n\n    useEffect(() => {\n        setIsOn(product.is_on)\n        setIsSale(product.is_sale)\n        setPriceStandard(product.price_standard || '')\n        setPriceSale(product.price_sale || '')\n        return () => {\n            setIsOn(null)\n            setIsSale(null)\n            setPriceStandard(NaN)\n            setPriceSale(NaN)\n        }\n    }, [product])\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'is_on': {\n                return setIsOn(e.target.checked)\n            }\n            case 'is_sale': {\n                return setIsSale(e.target.checked)\n            }\n            case 'price_standard': {\n                return setPriceStandard(e.target.value)\n            }\n            case 'price_sale': {\n                return setPriceSale(e.target.value)\n            }\n            default: break\n        }\n    }\n\n    const handleIsEditing = e => {\n        if(e.target.name === 'edit') return setIsEditing(true)\n        if(e.target.name === 'save') {\n            return updateProductAPI(product.id, {\n                is_on: isOn, \n                is_sale: isSale, \n                price_standard: parseInt(priceStandard), \n                price_sale: parseInt(priceSale)\n            }).then(result => {\n                if(!result.ok) return console.log(result.message)\n                setIsEditing(false)\n            })\n        }\n    }\n\n    return (\n        <tr>\n            <td>{product.id}</td>\n            <td>{product.name}</td>\n            <td>\n                {isEditing ? (\n                    <input \n                        onChange={handleInputChange} \n                        checked={isOn} \n                        type=\"checkbox\" \n                        name=\"is_on\" \n                    />\n                ) : (\n                    <BooleanSvg icon={isOn ? faCheck : faTimes} $active={isOn} />\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <input \n                        onChange={handleInputChange} \n                        checked={isSale} \n                        type=\"checkbox\" \n                        name=\"is_sale\" \n                    />\n                ) : (\n                    <BooleanSvg icon={isSale ? faCheck : faTimes} $active={isSale} />\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <PriceInput \n                        onChange={handleInputChange} \n                        value={priceStandard} \n                        type=\"number\" \n                        name=\"price_standard\" \n                        min=\"0\"\n                    />\n                ) : (\n                    priceStandard || '-'\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <PriceInput \n                        onChange={handleInputChange} \n                        value={priceSale} \n                        type=\"number\" \n                        name=\"price_sale\" \n                        min=\"0\"\n                    />\n                ) : (\n                    priceSale || '-'\n                )}\n            </td>\n            <td>{product.sold}</td>\n            <td>{product.updatedAt}</td>\n            <td>\n                {isEditing ? (\n                    <FilterBtn name=\"save\" onClick={handleIsEditing} $white $active>\n                        儲存\n                    </FilterBtn>\n                ) : (\n                    <FilterBtn name=\"edit\" onClick={handleIsEditing} $white $active>\n                        編輯\n                    </FilterBtn>\n                )}\n            </td>\n            <td>\n                <FilterBtn $white $active>\n                    查看\n                </FilterBtn>\n            </td>\n        </tr>\n    )\n}\n\nexport const Price = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n\n    const [isOn, setIsOn] = useState('')\n    const [isSale, setIsSale] = useState('')\n    const [order, setOrder] = useState('')\n\n    useEffect(() => {\n        const search = new URLSearchParams();\n        if(isOn !== '') search.set('is_on', isOn)\n        if(isSale !== '') search.set('is_sale', isSale)\n        if(order !== '') search.set('order', order)\n        dispatch(getProducts('', `?${search}`))\n        return () => {\n            dispatch(setProducts(null))\n        }\n    }, [dispatch, isOn, isSale, order])\n\n    const handleSelectChange = e => {\n        if(e.target.name === \"is_on\") return setIsOn(e.target.value)\n        if(e.target.name === \"is_sale\") return setIsSale(e.target.value)\n        if(e.target.name === \"clearFilter\"){\n            setIsOn('')\n            setIsSale('')\n        }\n    }\n\n    const handleSort = e => {\n        if (e.target.name === 'sold') {\n            if(order === 'sold_desc') return setOrder('sold_asc')\n            if(order === 'sold_asc') return setOrder('sold_desc')\n            setOrder('sold_desc')            \n        } else {\n            if(order === 'price_desc') return setOrder('price_asc')\n            if(order === 'price_asc') return setOrder('price_desc')\n            setOrder('price_asc')\n        }\n    }\n\n    return (\n        <MainContainer>\n            <H2>管理商品價格與紀錄</H2>\n            <FilterContainer>\n                <FilterBtn name=\"clearFilter\" onClick={handleSelectChange} $white $active>清除篩選</FilterBtn>\n                <div>\n                    <select name=\"is_on\" value={isOn} onChange={handleSelectChange}>\n                        <option value=\"\">-----</option>\n                        <option value=\"1\">已上架</option>\n                        <option value=\"0\">未上架</option>\n                    </select>\n                </div>\n                <div>\n                    <select name=\"is_sale\" value={isSale} onChange={handleSelectChange}>\n                        <option value=\"\">-----</option>\n                        <option value=\"1\">特價商品</option>\n                        <option value=\"0\">原價商品</option>\n                    </select>\n                </div>\n            </FilterContainer>\n            <TableContainer>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>id</th>\n                            <th>產品名稱</th>\n                            <th>上架中</th>\n                            <th>特價中</th>\n                            <th>\n                                <SortBtn name=\"price_standard\" onClick={handleSort}>原價</SortBtn>\n                            </th>\n                            <th>\n                                <SortBtn name=\"price_sale\" onClick={handleSort}>特價</SortBtn>\n                            </th>\n                            <th>\n                                <SortBtn name=\"sold\" onClick={handleSort}>已售出</SortBtn>\n                            </th>\n                            <th>更新時間</th>\n                            <th></th>\n                            <th>存貨紀錄</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {products && !error && products.length > 0 && (\n                            products.map(product => (\n                                <Item key={product.id} product={product} />\n                            ))\n                        )}\n                    </tbody>\n                </table>\n                {products && !error && products.length === 0 && (\n                    <H4>查無商品</H4>\n                )}\n                {!products && (\n                    error ? (\n                        <P>{error}</P>\n                    ) : (\n                        <H4>商品載入中...</H4>\n                    )\n                )}\n            </TableContainer>\n        </MainContainer>        \n    )\n}","import styled from \"styled-components\";\nimport { Switch, Route, Link, useRouteMatch, useLocation } from \"react-router-dom\"\n\nimport { H3 } from \"../../../constants/style\";\n\nimport { Information } from \"./Information\";\nimport { Quantity } from \"./Quantity\";\nimport { Price } from \"./Price\";\nimport AddProduct from \"./AddProduct\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h3 {\n        padding: 10px;\n    }\n    & a {\n        color: ${props => props.theme.color.black};\n    }\n`\n\nexport default function AdminProductPage () {\n\n    const { path, url } = useRouteMatch();\n    const { pathname } = useLocation();\n\n    return (\n        <>\n            {path === pathname && (\n                <MainContainer>\n                    <H3>\n                        <Link to={`${url}/information`}>新增及管理產品資訊</Link>\n                    </H3>\n                    <H3>\n                        <Link to={`${url}/quantity`}>管理存貨數量與紀錄</Link>\n                    </H3>\n                    <H3>\n                        <Link to={`${url}/price`}>管理商品價格與紀錄</Link>\n                    </H3>\n                </MainContainer>\n            )}\n            <Switch>\n                <Route path={`${path}/information`}>\n                    <Information />\n                </Route>\n                <Route path={`${path}/quantity`}>\n                    <Quantity />\n                </Route>\n                <Route path={`${path}/price`}>\n                    <Price />\n                </Route>\n                <Route path={`${path}/new`}>\n                    <AddProduct />\n                </Route>\n                <Route path={`${path}/edit/:id`}>\n                    <AddProduct />\n                </Route>\n            </Switch>\n        </>\n    )\n}","import styled from \"styled-components\";\nimport { Switch, Route, useRouteMatch, useLocation } from \"react-router-dom\"\n\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { H4, LinkedTag, MEDIA_QUERY, P, PageContainer, PageWrapper } from \"../../constants/style\";\n\nimport AdminProductPage from \"./AdminProductPage\";\n\n\nconst AsideContainer = styled.aside`\n    width: 20%;\n    min-width: 250px;\n\n    & > div {\n        z-index: 1;\n        margin: 10px;\n        background-color: ${props => props.theme.color.white};\n    }\n\n    ${MEDIA_QUERY.main} {\n        position: fixed;\n        left: -240px;\n        z-index: 200;\n        transition: .3s;\n    }\n\n`\n\nconst AsideBlock = styled.div`\n    border: 1px solid ${props => props.theme.color.lightGrey}8;\n    & > h4 {\n        padding: 10px 15px;\n        font-weight: ${props => props.theme.fontWeight.xl};\n        background-color: #eee;\n    }\n    & > div {\n        padding: 5px 15px;\n    }\n`\n\nconst AsideContent = styled(P)`\n    line-height: 2em;\n    padding: ${props => props.$active ? '5px 0 7px' : '5px 0'};\n    font-weight: ${props => props.$active && props.theme.fontWeight.xl};\n    display: inline-block;\n    & > a {\n        color: ${props => props.theme.color.black};\n    }\n`\n\n\n\nexport default function AdminPage () {\n\n    let { path, url } = useRouteMatch();\n\n    const { pathname } = useLocation();\n    const subPath = pathname.split('/').slice(2, 4)\n    const pathArr = ['', 'admin']\n    if(subPath) subPath.map(path => pathArr.push(path))\n\n\n    return (\n        <>\n            <CrumbNav pathArr={pathArr} />\n            <PageWrapper>\n                <PageContainer>\n                    <AsideContainer>\n                        <AsideBlock>\n                            <H4>商品管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[1] === 'information'}>\n                                    {subPath[1] === 'information' ? (\n                                        <>新增及管理產品資訊</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/product/information`}>新增及管理產品資訊</LinkedTag>\n                                    )}\n                                </AsideContent>\n                                <AsideContent $active={subPath[1] === 'quantity'}>\n                                    {subPath[1] === 'quantity' ? (\n                                        <>管理存貨數量與紀錄</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/product/quantity`}>管理存貨數量與紀錄</LinkedTag>\n                                    )}\n                                </AsideContent>\n                                <AsideContent $active={subPath[1] === 'price'}>\n                                    {subPath[1] === 'price' ? (\n                                        <>管理商品價格與紀錄</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/product/price`}>管理商品價格與紀錄</LinkedTag>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                        <AsideBlock>\n                            <H4>訂單管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[0] === 'order'}>\n                                    {subPath[0] === 'order' ? (\n                                        <>管理所有訂單</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/order`}>管理所有訂單</LinkedTag>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                        <AsideBlock>\n                            <H4>用戶管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[0] === 'user'}>\n                                    {subPath[0] === 'user' ? (\n                                        <>管理所有用戶</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/user`}>管理所有用戶</LinkedTag>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                    </AsideContainer>\n\n                    <Switch>\n                        <Route path={`${path}/product`}>\n                            <AdminProductPage />\n                        </Route>\n                        {/* <Route path={`${path}/order`}>\n                            <AdminProductPage />\n                        </Route>\n                        <Route path={`${path}/user`}>\n                            <AdminProductPage />\n                        </Route> */}\n                    </Switch>\n\n                </PageContainer>\n            </PageWrapper>\n        </>\n    )\n}","import './App.css';\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\"\nimport ScrollRestoration from 'react-scroll-restoration'\nimport styled from \"styled-components\"\n\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport HomePage from './pages/HomePage'\nimport ListPage from './pages/ListPage'\nimport ProductPage from './pages/ProductPage'\nimport CartPage from './pages/CartPage'\nimport AdminProductPage from './pages/AdminPages/AdminProductPage'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport AdminPage from './pages/AdminPages/AdminPage';\n\nlibrary.add(fab)\n\nconst Layout = styled.div``\n\nfunction App() {\n\n  return (\n    <Router>\n      <Layout>\n        <ScrollRestoration />\n        <Header/>\n        <Switch>\n          <Route exact path=\"/\">\n            <HomePage />\n          </Route>\n          <Route path=\"/collection\">\n            <ListPage />\n          </Route>\n          <Route path=\"/product/:id\">\n            <ProductPage />\n          </Route>\n          <Route path=\"/cart\">\n            <CartPage />\n          </Route>\n          <Route path=\"/admin\">\n            <AdminPage />\n          </Route>\n        </Switch>\n        <Footer/>\n      </Layout>\n    </Router>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport productReducer from '../features/product/productSlice'\nimport generalReducer from '../features/general/generalSlice'\nimport cartReducer from '../features/cart/cartSlice'\n\nexport const store = configureStore({\n  reducer: {\n    product: productReducer,\n    general: generalReducer,\n    cart: cartReducer,\n  },\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { ThemeProvider } from 'styled-components';\nimport { theme } from './constants/theme';\n\nimport { store } from './app/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <App />\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}