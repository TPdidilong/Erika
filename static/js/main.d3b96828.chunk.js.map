{"version":3,"sources":["constants/theme.js","constants/style.js","components/LinkItem.js","components/Header/MobileNav.js","components/Header/Nav.js","components/Img.js","webAPI/productAPI.js","features/product/productSlice.js","features/cart/cartSlice.js","hooks/useCart.js","components/Header/Cart.js","assets/logo.png","components/Logo.js","components/Header/Header.js","components/Header/index.js","components/Footer/Footer.js","components/Footer/index.js","pages/HomePage/Carousel.js","hooks/useCarousel.js","assets/arrival_female.jpeg","assets/arrival_male.jpeg","pages/HomePage/Arrival.js","components/Feed.js","components/TestProductCards.js","features/general/generalSlice.js","hooks/useProduct.js","components/ProductItem.js","pages/HomePage/Trend.js","pages/HomePage/HomePage.js","constants/mapping.js","components/CrumbNav.js","hooks/usePriceFilter.js","pages/ListPage/Filter.js","components/Trend.js","components/Aside.js","pages/ListPage/Sort.js","pages/ListPage/Pagination.js","pages/ListPage/ProductList.js","pages/ProductPage/CartPopup.js","components/LoginPopup.js","hooks/useAdminProduct.js","pages/AdminPages/AdminProductPage/AddProduct.js","pages/AdminPages/AdminProductPage/InfoPopup.js","components/Popup.js","pages/ListPage/ListPage.js","pages/ProductPage/Image.js","components/QtySelector.js","pages/ProductPage/Content.js","pages/ProductPage/Detail.js","pages/ProductPage/ProductPage.js","components/CheckoutFlow.js","pages/CartPage/CartItem.js","pages/CartPage/CartPage.js","pages/AdminPages/AdminProductPage/Information.js","pages/AdminPages/AdminProductPage/Quantity.js","pages/AdminPages/AdminProductPage/Price.js","pages/AdminPages/AdminProductPage/AdminProductPage.js","pages/AdminPages/AdminPage.js","App.js","app/store.js","index.js"],"names":["theme","fontSize","bannerLarge","bannerMedium","svgLarge","h2","svg","btn","h3","h4","bodyLarge","body","bodySmall","fontWeight","xxl","xl","l","m","s","xs","color","lightGrey","grey","black","white","light_primary","alert","success","brown","yellow","MEDIA_QUERY","LinkedTag","css","LinkedUL","styled","ul","fontTheme","h5","p","span","H2","H3","H4","P","Span","H5","Btn","button","TextBtn","props","$active","$white","PageWrapper","div","PageContainer","LinkItem","to","name","size","MobileMenuNav","nav","MobileMenu","ToggleBtn","ToggleInput","input","CheckBox","id","type","htmlFor","icon","faChevronDown","MobileNav","MenuNav","Menu","SubMenu","SubMenuListFlex","SubMenuListBlock","Nav","spin_loader","keyframes","Loader","Img","image","useState","isLoading","setIsLoading","src","alt","onLoad","url","baseURL","getProductsAPI","pathname","search","Arr","URLSearchParams","gender","category","push","men","women","tops","shirts","knit","one_piece","outer","bottoms","skirts","general","has","sizes","get","split","map","colors","prices","order","indexOf","page","is_on","is_sale","query","fetch","then","res","console","log","msg","status","Error","statusText","json","data","ok","message","catch","e","getProductAPI","getTrendingProductsAPI","updateProductAPI","product","method","headers","JSON","stringify","productSlice","createSlice","initialState","unfilteredProducts","products","error","spec","qty","reducers","setUnfilteredProducts","state","action","payload","setProducts","setProduct","setError","setSize","setColor","setQty","actions","getProducts","dispatch","result","cartSlice","cart","errorMessage","setCart","setCartQty","find","item","pattern_id","deleteCart","filter","index","addCart","setErrorMessage","getProductInfo","itemPattern","patterns","pattern","group","Category","slice","Color","total","price_standard","price_sale","mainImg","Images","img","is_main","setCartStorage","items","Promise","all","a","useCart","useDispatch","handleDeleteCart","cartLocal","parse","localStorage","getItem","i","setItem","handleQtyChange","target","value","parseInt","handleBtnClick","direction","getTotal","length","reduce","acc","cur","hasError","some","err","MenuBtn","CartContainer","CartCard","li","CartImage","CartInfo","ToCartBtn","Cover","label","Cart","useSelector","cartDOM","useRef","useLocation","useEffect","cartItem","current","checked","faShoppingCart","ref","every","onClick","faTrashAlt","LogoContainer","h1","Logo","logo","height","HeaderWrapper","HeaderContainer","HeaderLeft","HeaderRight","BurgerBtn","BurgerInput","MenuBtnGroup","ToAdminBtn","Header","navDOM","style","position","zIndex","faBars","faUser","faHeart","FooterWrapper","FooterContainer","BottomWrapper","BottomContainer","FooterLeft","FooterRight","LinkBtn","LinkBtnGroup","LinkedList","Footer","BannerWrapper","BannerContainer","LeftBtn","RightBtn","Dot","DotContainer","ArrowContainer","BannerImage","handleClick","link","Carousel","W","setW","currentPage","setCurrentPage","isDragging","setIsDragging","isClicked","setIsClicked","isHovered","setIsHovered","X","banner","timeoutID","setTimeout","transition","transform","clearTimeout","handleTransform","pageX","handleMouseDown","preventDefault","handleMouseMove","handleMouseUp","handleMouseLeave","handleMouseOver","handleButtonClick","handleRadioChange","handleRadioClick","useCarousel","onMouseLeave","onMouseOver","onChange","onMouseDown","onMouseMove","onMouseUp","ArrivalWrapper","ArrivalContainer","ArrivalItem","TitleWrapper","TitleContainer","Arrival","arrival_female_img","arrival_male_img","FeedWrapper","FeedContainer","Feed","feeds","setFeeds","process","topics","orientation","count","toString","desc","description","urls","small","feed","rel","href","ProductCard","section","ImageContainer","ImageMask","ProductPrice","ProductReminder","ProductReminderSale","ProductReminderNew","TestProductCards","faCartPlus","fasHeart","generalSlice","isOpened","popupCode","setIsOpened","setPopupCode","useProduct","isChecked","setIsChecked","setMainImg","scaledImg","size_Initialized","addCommaToPrice","price","arr","reverse","join","offsetX","nativeEvent","offsetY","offsetWidth","perX","perY","left","top","handleImgClick","tagName","handleCheckedChange","handleSizeChange","handleColorChange","isNull","handleAddToCart","newItem","WriteToLocalStorage","handleAddToWishList","handleClosePopup","BtnContainer","ProductItem","TrendingWrapper","TrendingContainer","Subtitle","ProductContainer","Trend","male","female","trends","setTrends","trend","defaultChecked","HomePage","crumbMap","collection","admin","user","information","quantity","new","sizeMap","Size_top","sleeve_length","body_length","body_width","Size_bottom","waist","hip","rise","inseam","Size_skirt","CrumbWrapper","CrumbContainer","CrumbNav","pathArr","faHome","path","usePriceFilter","useContext","LocationContext","minInitailizer","Math","min","maxInitailizer","max","getUnfilteredProducts","minimum","maximum","setMin","setMax","WR","WL","perLeft","perRight","bar","barSelected","knobLeft","knobRight","priceParam","minTemp","maxTemp","right","history","useHistory","isNaN","per","Number","toFixed","offsetLeft","newSearch","set","append","delete","priceURL","ControllerBtn","AsideBlock","FilterContainer","SizeFilter","ColorFilter","ColorSpan","$border","$color","PriceFilter","PriceTag","PriceBar","PriceKnob","ClearBtn","SizeSelect","param","faSquare","includes","faCheckSquare","newParam","ColorSelect","border","PriceSelect","$left","$right","Filter","faFilter","TrendContainer","TrendCard","TrendImage","TrendInfo","TrendPrice","TrendItem","PictureContainer","AsideContainer","aside","Controller","Aside","SortContainer","GalleryBtnGroup","GalleryBtn","$four","GalleryRadio","$two","$three","MenuContainer","SortSelect","sortMap","SortMenu","currentOrder","sortMenuDOM","sold_desc","price_desc","price_asc","title","Object","keys","Sort","faThLarge","faTh","faAlignJustify","rotate","PageBtn","$selected","Result","PageSelect","selected","Page","page_count","n","Pagination","per_page","number_start","number_end","IndexContainer","ProductList","window","scrollTo","rows","PopupItem","PopupBtnGroup","PopupBtn","$checked","CartPopup","PopupContent","LoginPopup","useAdminProduct","step","setStep","productToAdd","setProductToAdd","setName","setGender","setCategory","setDesc","material","setMaterial","washing","setWashing","Array","fill","images","setImages","setSizes","setColors","setPatterns","isOn","setIsOn","isSale","setIsSale","priceStandard","setPriceStandard","priceSale","setPriceSale","Colors","checkForm","Set","saveProduct","handleInputChange","toUpperCase","toLowerCase","handleSetStep","searchProductAPI","lastProduct","handleFormSubmit","scrollIntoView","go","addProductAPI","handleAddPattern","obj","ele","code","handleDeletePattern","currentTarget","StepContainer","FirstStepContainer","SecondStepContainer","$step","ThirdStepContainer","MainContainer","main","LeftContainer","RightContainer","FlowNode","FlowText","$fixed","FlowContent","InputBlock","UploadBtn","ImgInput","CheckInput","InputTitle","SizeInput","ColorInput","PatternInput","PriceInput","FirstStepInputs","disabled","required","placeholder","FirstStep","SecondStepInputs","sizesLength","colorsLength","entries","j","faTimes","SecondStep","onSubmit","ThirdStepInputs","ThirdStep","AddProduct","unblock","block","confirm","TableContainer","SizePopup","element","measure","word","ColorPopup","EditPopup","DeletePopup","PopupCover","$isOpened","PopupWrapper","PopupContainer","$type","PopupHeader","$cart","PopupTitle","Popup","faCheck","createContext","ListPage","currentPath","currentTitle","previousPath","Provider","ImageMain","$isLoading","ImageCarousel","Image","Qty","QtySelector","ContentContainer","SpecContainer","ColorSelector","Msg","SizeSelector","ColorLabel","$isNull","PriceIsSale","QtyAndAdd","AddBtn","WishList","Content","DetailContainer","DetailTag","TagBtn","DetailContent","InfoContainer","SizeContainer","Detail","ItemContainer","OffMessage","BreadCrumb","setPath","ProductPage","useParams","getProduct","FlowMobile","FlowContainer","CheckoutFlow","NameNote","Price","SellingPrice","ErrorMsg","MobileItem","ItemTitle","ItemContent","ItemImage","ItemName","CartItem","subtotal","MobileCartItem","ADDSTYLE","TotalContainer","MobileCartContainer","CartPage","ToDetailBtn","Item","info","setInfo","handleIsOpened","faPen","Information","handleSelectChange","faPlus","FilterBtn","Input","Form","td","$isError","Total","$safe","$caution","$danger","SubItem","setType","isEditing","setIsEditing","handleIsEditing","updatePatternAPI","updatedAt","Quantity","SortBtn","BooleanSvg","FontAwesomeIcon","NaN","sold","setOrder","handleSort","AdminProductPage","useRouteMatch","AsideContent","AdminPage","subPath","library","add","fab","Layout","App","exact","store","configureStore","reducer","productReducer","generalReducer","cartReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uTAAaA,EAAQ,CACjBC,SAAU,CACNC,YAAa,OACbC,aAAc,OACdC,SAAU,OACVC,GAAI,OACJC,IAAK,OACLC,IAAK,OACLC,GAAI,OACJC,GAAI,OACJC,UAAW,OACXC,KAAM,OACNC,UAAW,QAEfC,WAAY,CACRC,IAAK,MACLC,GAAI,MACJC,EAAG,MACHC,EAAG,MACHC,EAAG,MACHC,GAAI,OAERC,MAAO,CACHC,UAAW,OACXC,KAAM,OACNC,MAAO,OACPC,MAAO,OACPC,cAAe,OACfC,MAAO,UACPC,QAAS,UACTC,MAAO,UACPC,OAAQ,YC5BHC,EACN,6BADMA,EAEH,6BAFGA,EAGN,4BAHMA,EAIN,4BAJMA,EAKL,4BAGKC,EAAYC,YAAH,oZAGLhC,EAAMoB,MAAMG,MAMGvB,EAAMoB,MAAMG,OAW/BU,EAAWC,IAAOC,GAAV,6fAGJnC,EAAMoB,MAAMG,MAOOvB,EAAMoB,MAAMG,OAcnCa,EAAY,CACrB/B,GAAI2B,YAAF,8GACehC,EAAMC,SAASI,GACbL,EAAMa,WAAWE,IAGpCP,GAAIwB,YAAF,gHACehC,EAAMC,SAASO,GACbR,EAAMa,WAAWE,IAGpCN,GAAIuB,YAAF,gHACehC,EAAMC,SAASQ,GACbT,EAAMa,WAAWG,GAGpCqB,GAAIL,YAAF,gHACehC,EAAMC,SAASW,UACbZ,EAAMa,WAAWK,GAGpCoB,EAAGN,YAAF,gHACgBhC,EAAMC,SAASS,UACbV,EAAMa,WAAWG,GAGpCuB,KAAMP,YAAF,gHACahC,EAAMC,SAASU,KACbX,EAAMa,WAAWI,IAK3BuB,EAAKN,IAAO7B,GAAV,qDACT+B,EAAU/B,GACHL,EAAMoB,MAAMG,OAGZkB,EAAKP,IAAO1B,GAAV,qDACT4B,EAAU5B,GACHR,EAAMoB,MAAMG,OAGZmB,EAAKR,IAAOzB,GAAV,qDACT2B,EAAU3B,GACHT,EAAMoB,MAAMG,OAGZoB,GAAIT,IAAOI,EAAV,qDACRF,EAAUE,EACHtC,EAAMoB,MAAMG,OAGZqB,GAAOV,IAAOK,KAAV,qDACXH,EAAUG,KACHvC,EAAMoB,MAAMG,OAGZsB,GAAKX,IAAOG,GAAV,qDACTD,EAAUC,GACHrC,EAAMoB,MAAMG,OAIZuB,GAAMZ,IAAOa,OAAV,gMAEK/C,EAAMC,SAASK,IACnBN,EAAMoB,MAAMC,UAKZrB,EAAMoB,MAAME,MAIhB0B,GAAUd,IAAOa,OAAV,kVAKdX,EAAUG,MACG,SAAAU,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KAE3B,SAAAiC,GAAK,OAAIA,EAAMC,QAAUD,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAMC,aACrE,SAAA4B,GAAK,OAAKA,EAAME,QAAUF,EAAMC,QAAWD,EAAMjD,MAAMoB,MAAMI,MAAQyB,EAAME,OAASF,EAAMjD,MAAMoB,MAAMK,cAAgBwB,EAAMC,QAAUD,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAMC,aAC7L,SAAA4B,GAAK,OAAKA,EAAME,OAAmCF,EAAMC,QAAUD,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAME,KAAtF2B,EAAMjD,MAAMoB,MAAMI,SAEhC,SAAAyB,GAAK,OAAIA,EAAME,QAAUF,EAAMC,QAAUD,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAMC,aACjF,SAAA4B,GAAK,OAAKA,EAAME,OAAuCF,EAAMC,QAAUD,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAMK,cAA1FwB,EAAMjD,MAAMoB,MAAMC,aACtD,SAAA4B,GAAK,OAAKA,EAAME,SAAWF,EAAMC,QAAWD,EAAMjD,MAAMoB,MAAME,KAAO2B,EAAMjD,MAAMoB,MAAMI,SAE1F,SAAAyB,GAAK,OAAIA,EAAMC,QAAU,UAAY,iBAGtCE,GAAclB,IAAOmB,IAAV,0BACXC,GAAgBpB,IAAOmB,IAAV,2JAEpBvB,G,QCtJOyB,GAAW,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,GAAIC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,KAElC,OACE,gBAAC,OAAD,CAAMF,GAAIA,EAAV,UACY,OAATE,GACC,eAAChB,EAAD,UAAKe,IAEG,MAATC,GACC,eAACf,GAAD,UAAIc,IAEI,SAATC,GACC,eAACd,GAAD,UAAOa,QCJTE,GAAgBzB,IAAO0B,IAAV,gFAEf9B,GAKE+B,GAAa3B,YAAOD,EAAPC,CAAH,8hCA8DV4B,GAAY5B,YAAOY,GAAPZ,CAAH,4NAUE,SAAAe,GAAK,OAAIA,EAAMjD,MAAMC,SAASQ,MAKzCsD,GAAc7B,IAAO8B,MAAV,oPAUF,SAAAf,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAMpC2C,GAAW,SAAC,GAAU,IAATC,EAAQ,EAARA,GACjB,OACE,uCACE,eAACH,GAAD,CAAaG,GAAIA,EAAIC,KAAK,aAC1B,eAACL,GAAD,UACE,wBAAOM,QAASF,EAAhB,SACI,eAAC,IAAD,CAAiBG,KAAMC,cAOpB,SAASC,KACtB,OACE,eAACZ,GAAD,UACE,gBAACE,GAAD,WACE,iCACE,8BAAI,eAAC,GAAD,CAAUL,GAAG,IAAIC,KAAK,2BAAOC,KAAK,SACtC,gCACE,eAAC,GAAD,CAAUQ,GAAG,eACb,eAAC,GAAD,CAAUV,GAAG,cAAcC,KAAK,2BAAOC,KAAK,OAC5C,gCACE,gCACE,eAAC,GAAD,CAAUQ,GAAG,mBACb,eAAC,GAAD,CAAUV,GAAG,kBAAkBC,KAAK,eAAKC,KAAK,OAC9C,gCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,uBAAuBC,KAAK,qBAAMC,KAAK,QACxD,8BAAI,eAAC,GAAD,CAAUF,GAAG,yBAAyBC,KAAK,qBAAMC,KAAK,QAC1D,8BAAI,eAAC,GAAD,CAAUF,GAAG,uBAAuBC,KAAK,oCAAWC,KAAK,QAC7D,8BAAI,eAAC,GAAD,CAAUF,GAAG,0BAA0BC,KAAK,qBAAMC,KAAK,QAC3D,8BAAI,eAAC,GAAD,CAAUF,GAAG,wBAAwBC,KAAK,qBAAMC,KAAK,QACzD,8BAAI,eAAC,GAAD,CAAUF,GAAG,0BAA0BC,KAAK,qBAAMC,KAAK,cAG/D,gCACE,eAAC,GAAD,CAAUQ,GAAG,qBACb,eAAC,GAAD,CAAUV,GAAG,oBAAoBC,KAAK,eAAKC,KAAK,OAChD,gCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,yBAAyBC,KAAK,8BAAUC,KAAK,QAC9D,8BAAI,eAAC,GAAD,CAAUF,GAAG,yBAAyBC,KAAK,oCAAWC,KAAK,QAC/D,8BAAI,eAAC,GAAD,CAAUF,GAAG,4BAA4BC,KAAK,qBAAMC,KAAK,QAC7D,8BAAI,eAAC,GAAD,CAAUF,GAAG,2BAA2BC,KAAK,qBAAMC,KAAK,QAC5D,8BAAI,eAAC,GAAD,CAAUF,GAAG,8BAA8BC,KAAK,qBAAMC,KAAK,QAC/D,8BAAI,eAAC,GAAD,CAAUF,GAAG,0BAA0BC,KAAK,qBAAMC,KAAK,QAC3D,8BAAI,eAAC,GAAD,CAAUF,GAAG,4BAA4BC,KAAK,qBAAMC,KAAK,oBAKrE,gCACE,eAAC,GAAD,CAAUQ,GAAG,YACb,eAAC,GAAD,CAAUV,GAAG,IAAIC,KAAK,2BAAOC,KAAK,OAClC,gCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,qDAAaC,KAAK,SAC5C,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,qDAAaC,KAAK,SAC5C,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,qDAAaC,KAAK,eAGhD,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,YAExC,iCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,eAAKC,KAAK,SACpC,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,iBCvKhD,IAAMc,GAAUtC,IAAO0B,IAAV,6DACT9B,GAKE2C,GAAOvC,YAAOD,EAAPC,CAAH,oVAsBJwC,GAAUxC,IAAOmB,IAAV,6aAWU,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAcjD4D,GAAkBzC,IAAOmB,IAAV,2MAYfuB,GAAmB1C,IAAOmB,IAAV,sIAUP,SAASwB,KACtB,OACE,eAACL,GAAD,UACE,gBAACC,GAAD,WACE,8BAAI,eAAC,GAAD,CAAUjB,GAAG,IAAIC,KAAK,2BAAOC,KAAK,SACtC,gCACE,eAAC,GAAD,CAAUF,GAAG,cAAcC,KAAK,2BAAOC,KAAK,OAC5C,gBAACgB,GAAD,WACE,gBAACC,GAAD,WACE,eAAC,GAAD,CAAUnB,GAAG,kBAAkBC,KAAK,eAAKC,KAAK,OAC9C,gCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,uBAAuBC,KAAK,qBAAMC,KAAK,QACxD,8BAAI,eAAC,GAAD,CAAUF,GAAG,yBAAyBC,KAAK,qBAAMC,KAAK,QAC1D,8BAAI,eAAC,GAAD,CAAUF,GAAG,uBAAuBC,KAAK,oCAAWC,KAAK,QAC7D,8BAAI,eAAC,GAAD,CAAUF,GAAG,0BAA0BC,KAAK,qBAAMC,KAAK,QAC3D,8BAAI,eAAC,GAAD,CAAUF,GAAG,wBAAwBC,KAAK,qBAAMC,KAAK,QACzD,8BAAI,eAAC,GAAD,CAAUF,GAAG,0BAA0BC,KAAK,qBAAMC,KAAK,cAG/D,gBAACiB,GAAD,WACE,eAAC,GAAD,CAAUnB,GAAG,oBAAoBC,KAAK,eAAKC,KAAK,OAChD,gCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,yBAAyBC,KAAK,8BAAUC,KAAK,QAC9D,8BAAI,eAAC,GAAD,CAAUF,GAAG,yBAAyBC,KAAK,oCAAWC,KAAK,QAC/D,8BAAI,eAAC,GAAD,CAAUF,GAAG,4BAA4BC,KAAK,qBAAMC,KAAK,QAC7D,8BAAI,eAAC,GAAD,CAAUF,GAAG,2BAA2BC,KAAK,qBAAMC,KAAK,QAC5D,8BAAI,eAAC,GAAD,CAAUF,GAAG,8BAA8BC,KAAK,qBAAMC,KAAK,QAC/D,8BAAI,eAAC,GAAD,CAAUF,GAAG,0BAA0BC,KAAK,qBAAMC,KAAK,QAC3D,8BAAI,eAAC,GAAD,CAAUF,GAAG,4BAA4BC,KAAK,qBAAMC,KAAK,oBAKrE,gCACE,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,OAClC,eAACgB,GAAD,UACE,eAACE,GAAD,UACE,gCACE,8BAAI,eAAC,GAAD,CAAUpB,GAAG,IAAIC,KAAK,qDAAaC,KAAK,QAC5C,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,qDAAaC,KAAK,QAC5C,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,qDAAaC,KAAK,kBAKpD,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,c,+CC3HxCoB,GAAcC,YAAH,0HAUJC,GAAS9C,IAAOmB,IAAV,gRAYJyB,IAGFG,GAAM,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAEjB,EAAkCC,oBAAS,GAA3C,oBAAOC,EAAP,KAAkBC,EAAlB,KAMA,OACI,uCACKD,GACG,eAACJ,GAAD,IAEJ,sBAAKM,IAAKJ,EAAMI,IAAKC,IAAKL,EAAMK,IAAKC,OATvB,WAClBH,GAAa,U,+CChCfI,GAAMC,6CAENC,GAAiB,SAACC,EAAUC,GAE9B,IAAMC,EAAM,GACZD,EAAS,IAAIE,gBAAgBF,GAC7B,IAAMG,EAASJ,EAAS,GAClBK,EAAWL,EAAS,GAwB1B,GAPGI,GACCF,EAAII,KAAK,CAAC,SAjBI,CACdC,IAAK,IACLC,MAAO,KAeuBJ,KAE/BC,GACCH,EAAII,KAAK,CAAC,WAhBM,CAChBG,KAAM,IACNC,OAAQ,IACRC,KAAM,IACNC,UAAW,IACXC,MAAO,IACPC,QAAS,IACTC,OAAQ,IACRC,QAAS,KAQyBX,KAGnCJ,EAAOgB,IAAI,QAAQ,CAClB,IAAMC,EAAQjB,EAAOkB,IAAI,QAAQC,MAAM,KAAKC,KAAI,SAAAvD,GAAI,MAChD,CAAC,UAAWA,MAEhBoC,EAAII,KAAJ,MAAAJ,EAAG,aAASgB,IAGhB,GAAGjB,EAAOgB,IAAI,SAAS,CACnB,IAAMK,EAASrB,EAAOkB,IAAI,SAASC,MAAM,KAAKC,KAAI,SAAAvD,GAAI,MAClD,CAAC,WAAYA,MAEjBoC,EAAII,KAAJ,MAAAJ,EAAG,aAASoB,IAGhB,GAAGrB,EAAOgB,IAAI,SAAS,CACnB,IAAMM,EAAStB,EAAOkB,IAAI,SAASC,MAAM,KACzClB,EAAII,KAAK,CAAC,OAAQiB,EAAO,IAAK,CAAC,OAAQA,EAAO,KAGlD,GAAGtB,EAAOgB,IAAI,SAAS,CACnB,IAAMO,EAAQvB,EAAOkB,IAAI,SACzBjB,EAAII,KAAK,CAAC,SA9BG,CAAC,aAAc,YAAa,YAAa,YA8BzBmB,QAAQD,GAAO,IAGhD,GAAGvB,EAAOgB,IAAI,QAAQ,CAClB,IAAMS,EAAOzB,EAAOkB,IAAI,QACxBjB,EAAII,KAAK,CAAC,QAASoB,IAGvB,GAAGzB,EAAOgB,IAAI,SAAS,CACnB,IAAMU,EAAQ1B,EAAOkB,IAAI,SACzBjB,EAAII,KAAK,CAAC,SAAUqB,IAGxB,GAAG1B,EAAOgB,IAAI,WAAW,CACrB,IAAMW,EAAU3B,EAAOkB,IAAI,WAC3BjB,EAAII,KAAK,CAAC,WAAYsB,IAG1B,IAAMC,EAAQ,IAAI1B,gBAAgBD,GAElC,OAAO4B,MAAM,GAAD,OAAIjC,GAAJ,qBAAoBgC,IAC/BE,MAAK,SAAAC,GACFC,QAAQC,IAAR,UAAeL,IACf,IAAIM,EAAM,KACV,GAAmB,MAAfH,EAAII,OACJD,EAAM,2CACH,IAAmB,MAAfH,EAAII,OAGX,MAAM,IAAIC,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAFNH,EAAM,uCAKV,OADAF,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,aAI5BG,GAAgB,SAAAvE,GAClB,OAAOwD,MAAMjC,GAAG,oBAAgBvB,IAC/ByD,MAAK,SAAAC,GACF,IAAIG,EAAM,KACV,GAAmB,MAAfH,EAAII,OACJD,EAAM,2CACH,IAAmB,MAAfH,EAAII,OAGX,MAAM,IAAIC,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAFNH,EAAM,uCAKV,OADAF,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,aAI5BI,GAAyB,WAC3B,OAAOhB,MAAMjC,GAAG,qBACfkC,MAAK,SAAAC,GACF,IAAIG,EAAM,KACV,GAAmB,MAAfH,EAAII,OACJD,EAAM,2CACH,IAAmB,MAAfH,EAAII,OAGX,MAAM,IAAIC,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAFNH,EAAM,uCAKV,OADAF,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,aAgC5BK,GAAmB,SAACzE,EAAI0E,GAC1B,OAAOlB,MAAM,GAAD,OAAIjC,GAAJ,qBAAoBvB,GAAM,CAClC2E,OAAQ,QACRC,QAAS,CACL,eAAgB,oBAEpBnI,KAAMoI,KAAKC,UAAUJ,KAExBjB,MAAK,SAAAC,GACF,IAAIG,EAAM,KACV,OAAQH,EAAII,QACR,KAAK,IACDD,EAAM,uCACN,MAEJ,KAAK,IACDA,EAAM,uCACN,MAEJ,KAAK,IACDA,EAAM,+CACN,MAEJ,QAAS,MAAM,IAAIE,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAGnB,OADAL,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,aC5LrBW,GAAeC,aAAY,CACtCzF,KAAM,UACN0F,aAVmB,CACnBC,mBAAoB,KACpBC,SAAU,KACVT,QAAS,KACTU,MAAO,KACPC,KAAM,CAAC7F,KAAM,GAAItC,MAAO,GAAIoI,IAAK,KAMjCC,SAAU,CACRC,sBAAuB,SAACC,EAAOC,GAC7BD,EAAMP,mBAAqBQ,EAAOC,SAEpCC,YAAa,SAACH,EAAOC,GACnBD,EAAMN,SAAWO,EAAOC,SAE1BE,WAAY,SAACJ,EAAOC,GAClBD,EAAMf,QAAUgB,EAAOC,SAEzBG,SAAU,SAACL,EAAOC,GAChBD,EAAML,MAAQM,EAAOC,SAEvBI,QAAS,SAACN,EAAOC,GACfD,EAAMJ,KAAK7F,KAAOkG,EAAOC,SAE3BK,SAAU,SAACP,EAAOC,GAChBD,EAAMJ,KAAKnI,MAAQwI,EAAOC,SAE5BM,OAAQ,SAACR,EAAOC,GACdD,EAAMJ,KAAKC,IAAMI,EAAOC,YAKvB,GAQHZ,GAAamB,QAPfV,GADK,GACLA,sBACAI,GAFK,GAELA,YACAC,GAHK,GAGLA,WACAC,GAJK,GAILA,SACAC,GALK,GAKLA,QACAC,GANK,GAMLA,SACAC,GAPK,GAOLA,OAaWE,GAAc,SAACzE,EAAUC,GAAX,OAAsB,SAAAyE,GAC/C3E,GAAeC,EAAUC,GACtB8B,MAAK,SAAA4C,GACJ,IAAIA,EAAOlC,GAET,OADAiC,EAASR,GAAY,KACdQ,EAASN,GAASO,EAAOjC,UAElCgC,EAASR,GAAYS,EAAOnC,OAC5BkC,EAASN,GAAS,YAgBTf,MAAf,QC1EauB,GAAYtB,aAAY,CACnCzF,KAAM,OACN0F,aAPmB,CACnBsB,KAAM,KACNC,aAAc,IAMdjB,SAAU,CACRkB,QAAS,SAAChB,EAAOC,GACfD,EAAMc,KAAOb,EAAOC,SAEtBe,WAAY,SAACjB,EAAOC,GAClBD,EAAMc,KAAKI,MAAK,SAAAC,GAAI,OAClBA,EAAKC,aAAenB,EAAOC,QAAQkB,cACnCvB,IAAMI,EAAOC,QAAQL,KAEzBwB,WAAY,SAACrB,EAAOC,GAClBD,EAAMc,KAAOd,EAAMc,KAAKQ,QAAO,SAACH,EAAMI,GAAP,OAAiBA,IAAUtB,EAAOC,YAEnEsB,QAAS,SAACxB,EAAOC,GACfD,EAAMc,KAAKvE,KAAK0D,EAAOC,UAEzBuB,gBAAiB,SAACzB,EAAOC,GACvBD,EAAMe,aAAed,EAAOC,YAK3B,GAMHW,GAAUJ,QALZO,GADK,GACLA,QACAC,GAFK,GAELA,WACAO,GAHK,GAGLA,QACAH,GAJK,GAILA,WACAI,GALK,GAKLA,gBASIC,GAAiB,SAAAP,GAAI,OAAI,SAAAR,GAC7B,OAAO7B,GAAcqC,EAAK5G,IACvByD,MAAK,SAAA4C,GACJ,IAAIA,EAAOlC,GAET,MADAiC,EAASN,GAASO,EAAOjC,UACnB,IAAIL,MAAMsC,EAAOjC,SAEzB,OAAOiC,EAAOnC,QAEfT,MAAK,SAAAiB,GACJkC,EAAKrH,KAAOmF,EAAQA,QAAQnF,KAC5B,IAAM6H,EAAc1C,EAAQ2C,SAASV,MAAK,SAAAW,GAAO,OAAKA,EAAQtH,KAAO4G,EAAKC,cACpEU,EAAQ7C,EAAQA,QAAQ8C,SAASD,MAAME,MAAM,GAAI,GACvDb,EAAKpH,KAAO4H,EAAYG,GAAO/H,KAC/BoH,EAAK1J,MAAQkK,EAAYM,MAAMnI,KAC/BqH,EAAKe,MAAQP,EAAYO,MACzBf,EAAKgB,eAAiBlD,EAAQA,QAAQkD,eACtChB,EAAKiB,WAAanD,EAAQA,QAAQmD,WAClCjB,EAAKvD,MAAQqB,EAAQA,QAAQrB,MAC7BuD,EAAKtD,QAAUoB,EAAQA,QAAQpB,QAC/B,IAAMwE,EAAUpD,EAAQA,QAAQqD,OAAOpB,MAAK,SAAAqB,GAAG,OAAIA,EAAIC,WACvDrB,EAAKxF,IAAM0G,EAAQ1G,IACnBwF,EAAKvF,IAAMyG,EAAQzG,OAEpBgD,OAAM,SAAAC,GAAC,OAAIX,QAAQC,IAAIU,EAAEF,cAGjB8D,GAAiB,SAAAC,GAAK,OAAI,SAAA/B,GACrCgC,QAAQC,IACNF,EAAMpF,IAAN,yCAAU,WAAM6D,GAAN,UAAA0B,EAAA,sEACAlC,EAASe,GAAeP,IADxB,gCAECA,GAFD,2CAAV,wDAIAnD,MAAK,SAAA0E,GACLxE,QAAQC,IAAIuE,GACZ/B,EAASK,GAAQ0B,SASN7B,MAAf,QCxFe,SAASiC,GAAS3B,GAE7B,IAAMR,EAAWoC,eA0DjB,MAAO,CACHC,iBAzDqB,SAAAzB,GAAK,OAAI,WAC9BZ,EAASU,GAAWE,IACpB,IAAI0B,EAAY7D,KAAK8D,MAAMC,aAAaC,QAAQ,UAAY,GAC5DH,EAAYA,EAAU3B,QAAO,SAACH,EAAMkC,GAAP,OAAaA,IAAM9B,KAChD4B,aAAaG,QAAQ,OAAQlE,KAAKC,UAAU4D,MAsD5CM,gBAnDoB,SAAA1E,GACpB,GAAIA,EAAE2E,OAAOC,MAAb,CACA9C,EAASM,GAAW,CAACG,WAAYD,EAAKC,WAAYvB,IAAK6D,SAAS7E,EAAE2E,OAAOC,UACzE,IAAIR,EAAY7D,KAAK8D,MAAMC,aAAaC,QAAQ,UAAY,GAC5DH,EAAYA,EAAU3F,KAAI,SAAA+F,GAItB,OAHGA,EAAEjC,aAAeD,EAAKC,aACrBiC,EAAExD,IAAM6D,SAAS7E,EAAE2E,OAAOC,QAEvBJ,KAEXF,aAAaG,QAAQ,OAAQlE,KAAKC,UAAU4D,MA0C5CU,eAvCmB,SAACC,GACpB,IAAIX,EAAY7D,KAAK8D,MAAMC,aAAaC,QAAQ,UAAY,GAU5D,GATiB,QAAdQ,IACCjD,EAASM,GAAW,CAACG,WAAYD,EAAKC,WAAYvB,IAAKsB,EAAKtB,IAAI,KAChEoD,EAAYA,EAAU3F,KAAI,SAAA+F,GAItB,OAHGA,EAAEjC,aAAeD,EAAKC,aACrBiC,EAAExD,KAAO,GAENwD,MAGE,QAAdO,EAAqB,CACpB,GAAGzC,EAAKtB,KAAK,EAAG,OAChBc,EAASM,GAAW,CAACG,WAAYD,EAAKC,WAAYvB,IAAKsB,EAAKtB,IAAI,KAChEoD,EAAYA,EAAU3F,KAAI,SAAA+F,GAItB,OAHGA,EAAEjC,aAAeD,EAAKC,aACrBiC,EAAExD,KAAO,GAENwD,KAGfF,aAAaG,QAAQ,OAAQlE,KAAKC,UAAU4D,KAmB5CY,SAhBa,SAAA/C,GACb,GAAmB,IAAhBA,EAAKgD,OACR,OAAOhD,EAAKxD,KAAI,SAAA6D,GAAI,OACfA,EAAKtD,QAAUsD,EAAKiB,WAAajB,EAAKgB,gBAAkBhB,EAAKtB,OAChEkE,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,MAa7BC,SAVa,SAAAnD,GACb,QAAIA,EAAa+C,QACV/C,EAAaoD,MAAK,SAAAC,GAAG,OAAIA,OC3CxC,I,2BAAMC,GAAU9L,IAAOmB,IAAV,0jBAwBM,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASW,aACvB,SAAAqC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SACtC,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAMpCyM,GAAgB/L,IAAOmB,IAAV,6YAuBb6K,GAAWhM,IAAOiM,GAAV,uMAOK,SAAAlL,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,QAClC,SAAAsC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAKpC6M,GAAYlM,IAAOmB,IAAV,sHAQTgL,GAAWnM,IAAOmB,IAAV,wTAGVjB,EAAUG,MACG,SAAAU,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KAEhC,SAAAiC,GAAK,OAAIA,EAAMjD,MAAMC,SAASW,aAC5B,SAAAqC,GAAK,OAAIA,EAAMjD,MAAMa,WAAWI,KAGtC,SAAAgC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SACrB,SAAAuB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KAGpC,SAAAiC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAMpCgN,GAAYpM,YAAOc,GAAPd,CAAH,8BAGTqM,GAAQrM,IAAOsM,MAAV,mLAYEC,GAAO,WAEhB,IAAMnE,EAAWoC,eACXjC,EAAOiE,cAAY,SAAA/E,GAAK,OAAIA,EAAMc,KAAKA,QACvCnB,EAAQoF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQU,SAE3CqF,EAAUC,mBAChB,EAA6BC,cAArBjJ,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAElBiJ,qBAAU,WACR,IAAMC,EAAWhG,KAAK8D,MAAMC,aAAaC,QAAQ,UAAY,GAC7DzC,EAAS8B,GAAe2C,MACvB,CAACzE,IAEJwE,qBAAU,WACRH,EAAQK,QAAQC,SAAU,IACzB,CAACrJ,EAAUC,IAEd,IACE8G,EACEF,KADFE,iBAOF,OACE,gBAACqB,GAAD,WACE,eAAClL,GAAD,UACE,yBAAOsB,QAAQ,OAAf,UACE,eAAC,IAAD,CAAiBC,KAAM6K,MACtBzE,GAAQA,EAAKgD,OAAS,GACrB,eAAC7K,GAAD,UAAO6H,EAAKiD,QAAQ,SAACC,EAAKC,GAAN,OAAcD,EAAMC,EAAIpE,MAAM,UAIxD,wBAAOrF,KAAK,WAAWD,GAAG,OAAOiL,IAAKR,IACtC,eAACJ,GAAD,CAAOnK,QAAQ,SACf,gBAAC6J,GAAD,aACKxD,IAASA,EAAK2E,OAAM,SAAAtE,GAAI,OAAIA,EAAKrH,WAClC6F,EACE,eAAC5G,EAAD,UAAK4G,IAEL,eAAC5G,EAAD,iDAGH+H,GAAQA,EAAK2E,OAAM,SAAAtE,GAAI,OAAIA,EAAKrH,UAAU6F,GACzC,uCACGmB,EAAKgD,OAAS,EACb,8BACGhD,EAAKxD,KAAI,SAAC6D,EAAMkC,GACf,IAAMvH,EAAG,mBAAeqF,EAAK5G,IAC7B,OACE,gBAACgK,GAAD,WACE,eAACE,GAAD,UACE,eAAC,OAAD,CAAM5K,GAAIiC,EAAV,SACE,eAAC,GAAD,CAAKP,MAAO,CAACI,IAAKwF,EAAKxF,IAAKC,IAAKuF,EAAKvF,WAG1C,gBAAC8I,GAAD,WACGvD,EAAKtB,IADR,MACgBsB,EAAKrH,KACnB,gDAAQqH,EAAKpH,KAAb,mBAAyBoH,EAAK1J,SAC7B0J,EAAKtD,QACJ,gBAAC5E,GAAD,WACE,gBAACA,GAAD,eAAQkI,EAAKgB,kBADf,IAEIhB,EAAKiB,cAGT,2CAAIjB,EAAKgB,qBAGb,yBAAQuD,QAAS1C,EAAiBK,GAAlC,SACE,eAAC,IAAD,CAAiB3I,KAAMiL,UAnBZxE,EAAKC,iBA0B1B,eAACrI,EAAD,2EAEF,eAAC,OAAD,CAAMc,GAAG,QAAQ6L,QA3DG,WAC5BV,EAAQK,QAAQC,SAAU,GA0DlB,SACI,eAACX,GAAD,CAAWpL,QAASuH,EAAKgD,OAAS,EAAlC,kDClNH,OAA0B,iCCKnC8B,GAAgBrN,IAAOsN,GAAV,0HAIf1N,GAKS2N,GAAO,WAChB,OACE,eAACF,GAAD,UACE,eAAC,OAAD,CAAM/L,GAAG,IAAT,SACE,sBAAK8B,IAAKoK,GAAMC,OAAO,OAAOpK,IAAI,cCFtCqK,GAAgB1N,IAAOmB,IAAV,iJAKG,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAI3CqO,GAAkB3N,IAAOmB,IAAV,qXAafvB,EAGAA,GAMAgO,GAAa5N,IAAOmB,IAAV,gIAGZvB,GAOEiO,GAAc7N,IAAOmB,IAAV,wJAKXvB,GAMAkO,GAAY9N,YAAOY,GAAPZ,CAAH,kFAEXJ,GAKEmO,GAAc/N,IAAO8B,MAAV,klBACblC,EA8BIA,GAOFoO,GAAehO,IAAOmB,IAAV,8LAGZvB,GAWAqO,GAAajO,YAAOc,GAAPd,CAAH,8BC9HDkO,I,2BAAAA,GDkIA,WAEb,IAAMC,EAASzB,mBACf,EAA6BC,cAArBjJ,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAYlB,OAJAiJ,qBAAU,WACRuB,EAAOrB,QAAQC,SAAU,IACxB,CAACrJ,EAAUC,IAGZ,yBAAQyK,MAXI,CACZX,OAAQ,OACRY,SAAU,WACVC,OAAQ,MAQR,SACE,eAACZ,GAAD,UACE,gBAACC,GAAD,WACE,gBAACC,GAAD,WACE,eAACG,GAAD,CAAa/L,GAAG,MAAMC,KAAK,WAAWgL,IAAKkB,IAC3C,eAACL,GAAD,UACE,wBAAO5L,QAAQ,MAAf,SACI,eAAC,IAAD,CAAiBC,KAAMoM,UAG7B,eAAClM,GAAD,IACA,eAAC,GAAD,IACA,eAACM,GAAD,OAEF,eAAC,GAAD,IACA,gBAACkL,GAAD,WACE,eAAC,OAAD,CAAMvM,GAAG,iBAAT,SACE,eAAC2M,GAAD,CAAYhN,QAAM,EAACD,SAAO,EAA1B,wCAIF,gBAACgN,GAAD,WACE,+BACE,eAACpN,GAAD,UACE,eAAC,OAAD,CAAMU,GAAG,IAAT,SAAa,eAAC,IAAD,CAAiBa,KAAMqM,YAGxC,+BACE,eAAC5N,GAAD,UACE,eAAC,OAAD,CAAMU,GAAG,IAAT,SAAa,eAAC,IAAD,CAAiBa,KAAMsM,YAGxC,eAAC,GAAD,kBEvKRC,GAAgB1O,IAAOmB,IAAV,0DAIbwN,GAAkB3O,IAAOmB,IAAV,2MAOjBvB,GAKEgP,GAAgB5O,IAAOmB,IAAV,yDAIb0N,GAAkB7O,IAAOmB,IAAV,+IAKR,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAKlCwP,GAAa9O,YAAOD,EAAPC,CAAH,8GAGZJ,GAKEmP,GAAc/O,IAAOmB,IAAV,4BAEX6N,GAAUhP,YAAOY,GAAPZ,CAAH,4BAEPiP,GAAejP,IAAOmB,IAAV,oJASZ+N,GAAalP,IAAOiM,GAAV,ofAIZrM,GAWiB,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MC7EtCsQ,I,wBAAAA,GD+FA,WAEb,OACE,oCACE,eAACT,GAAD,UACE,gBAACC,GAAD,WACE,gBAACI,GAAD,WACE,eAAC,GAAD,IACA,gBAACE,GAAD,WACE,eAACD,GAAD,UACE,eAAC,OAAD,CAAM1N,GAAG,IAAT,SAAa,eAAC,IAAD,CAAiBa,KAAM,CAAC,MAAO,kBAE9C,eAAC6M,GAAD,UACE,eAAC,OAAD,CAAM1N,GAAG,IAAT,SAAa,eAAC,IAAD,CAAiBa,KAAM,CAAC,MAAO,mBAE9C,eAAC6M,GAAD,UACE,eAAC,OAAD,CAAM1N,GAAG,IAAT,SAAa,eAAC,IAAD,CAAiBa,KAAM,CAAC,MAAO,uBAIlD,gBAAC2M,GAAD,WACE,gBAACI,GAAD,WACE,eAAC,GAAD,CAAU5N,GAAG,IAAIC,KAAK,2BAAOC,KAAK,OAClC,gCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,uCAASC,KAAK,QACxC,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,QACtC,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,cAG1C,gBAAC0N,GAAD,WACE,eAAC,GAAD,CAAU5N,GAAG,IAAIC,KAAK,2BAAOC,KAAK,OAClC,gCACE,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,iCAAQC,KAAK,QACvC,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,QACtC,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,2BAAOC,KAAK,QACtC,8BAAI,eAAC,GAAD,CAAUF,GAAG,IAAIC,KAAK,MAAMC,KAAK,sBAM/C,eAACoN,GAAD,UACE,eAACC,GAAD,UACE,eAAClO,GAAD,yEErIV,I,wEAAMyO,GAAgBpP,IAAOmB,IAAV,0FAMbkO,GAAkBrP,IAAOmB,IAAV,mFAOfP,GAAMZ,IAAOa,OAAV,2ZASQ,SAAAE,GAAK,OAAIA,EAAMjD,MAAMC,SAASG,YAClC,SAAA6C,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMK,iBAEE,SAAAwB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAEtD,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMK,iBASpC+P,GAAUtP,YAAOY,GAAPZ,CAAH,4FAOPuP,GAAWvP,YAAOY,GAAPZ,CAAH,8FAORwP,GAAMxP,IAAOa,OAAV,gLAGa,SAAAE,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMK,iBAO3CkQ,GAAezP,IAAOmB,IAAV,sVAgBQ,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMK,iBAK/CmQ,GAAiB1P,IAAOmB,IAAV,4BAEdwO,GAAc,SAAC,GAAyB,IAAxBvK,EAAuB,EAAvBA,KAAMwK,EAAiB,EAAjBA,YACpBC,EAAI,WAAOzK,GACXhC,EAAG,+CAA2CgC,GAC9C/B,EAAG,qBAAiB+B,GAC1B,OACE,eAAC,OAAD,CAAM9D,GAAIuO,EAAM1C,QAASyC,EAAzB,SACE,sBAAKxM,IAAKA,EAAKC,IAAKA,OAKbyM,GAAW,WAEtB,MCpGa,WAEb,MAAkB7M,mBAAS,GAA3B,oBAAO8M,EAAP,KAAUC,EAAV,KACA,EAAsC/M,mBAAS,SAA/C,oBAAOgN,EAAP,KAAoBC,EAApB,KACA,EAAoCjN,oBAAS,GAA7C,oBAAOkN,EAAP,KAAmBC,EAAnB,KACA,EAAkCnN,oBAAS,GAA3C,oBAAOoN,EAAP,KAAkBC,EAAlB,KACA,EAAkCrN,oBAAS,GAA3C,oBAAOsN,EAAP,KAAkBC,EAAlB,KAEMC,EAAI/D,iBAAO,MACXgE,EAAShE,iBAAO,MAChBiE,EAAYjE,iBAAO,MAEzBE,qBAAU,WACAsD,EAARH,EAAI,EAAmB,QAA0B,WAChD,CAACA,EAAGG,IAEPtD,qBAAU,WAaR,OAZI2D,IACFI,EAAU7D,QAAU8D,YAAW,WAC7BF,EAAO5D,QAAQsB,MAAMyC,WAAa,KAClCH,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAAK,IAAhE,OACAa,YAAW,WACTF,EAAO5D,QAAQsB,MAAMyC,WAAa,MAClCH,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAA3D,OACAC,EAAKD,EAAE,EAAE,QAEV,MAEFQ,GAAWQ,aAAaJ,EAAU7D,SAC9B,kBAAMiE,aAAaJ,EAAU7D,YACnC,CAAC4D,EAAQX,EAAGQ,IAEf,IA2BMS,EAAkB,SAAA1K,GAEtB,OADAoK,EAAO5D,QAAQsB,MAAMyC,WAAa,OAC/BvK,EAAE2K,MAAMR,EAAE3D,QAAU,GAAKxG,EAAE2K,MAAMR,EAAE3D,UAAY,IACzC4D,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAAK,IAAhE,OAENzJ,EAAE2K,MAAMR,EAAE3D,QAAU,GAAKxG,EAAE2K,MAAMR,EAAE3D,SAAW,IACxC4D,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAAK,IAAhE,QAETW,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAA3D,OACGzJ,EAAE2K,MAAMR,EAAE3D,SAAW,IAAYkD,EAAKD,EAAE,EAAE,GAC1CzJ,EAAE2K,MAAMR,EAAE3D,QAAU,IAAYkD,EAAKD,EAAE,EAAE,QAA5C,IAoDF,MAAO,CAELE,cACAS,SAEAQ,gBA9FsB,SAAA5K,GACtBA,EAAE6K,iBACFV,EAAE3D,QAAUxG,EAAE2K,MACdb,GAAc,GACdE,GAAa,IA2Fbc,gBAzFsB,SAAA9K,GACtBA,EAAE6K,iBACFb,GAAa,GACVH,IAAYO,EAAO5D,QAAQsB,MAAMyC,WAAa,MAC9CJ,EAAE3D,SAAWqD,GAAc7J,EAAE2K,MAAQR,EAAE3D,QAAU,IAClD4D,EAAO5D,QAAQsB,MAAM0C,UAArB,2BAAqD,KAAOf,EAAE,EAAE,GAAK,IAArE,gBAAgFzJ,EAAE2K,MAAMR,EAAE3D,QAA1F,SAEC2D,EAAE3D,SAAWqD,GAAc7J,EAAE2K,MAAQR,EAAE3D,QAAU,IAClD4D,EAAO5D,QAAQsB,MAAM0C,UAArB,2BAAqD,KAAOf,EAAE,EAAE,GAAK,IAArE,gBAAgFzJ,EAAE2K,MAAMR,EAAE3D,QAA1F,UAkFFuE,cA/EoB,SAAA/K,IAChB+J,GAAaF,GAAYa,EAAgB1K,GAC7C8J,GAAc,IA8EdkB,iBA5EuB,SAAAhL,GACvBkK,GAAa,GACVL,GAAYa,EAAgB1K,GAC/B8J,GAAc,IA0EdmB,gBA1DsB,SAAAjL,GACtBkK,GAAa,IA0DbZ,YAvDkB,SAAAtJ,GACd+J,GAAW/J,EAAE6K,kBAuDjBK,kBApDwB,SAAAnG,GAAS,OAAI,WACrCqF,EAAO5D,QAAQsB,MAAMyC,WAAa,KACjB,aAAdxF,IACDqF,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAAK,IAAhE,QAEe,YAAd1E,IACDqF,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAAK,IAAhE,QAEFa,YAAW,WAGT,OAFAF,EAAO5D,QAAQsB,MAAMyC,WAAa,OAClCH,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAAgD,KAAOf,EAAE,EAAE,GAA3D,OACiB,YAAd1E,EAAgC2E,EAAKD,EAAE,EAAE,GAC3B,aAAd1E,EAAiC2E,EAAKD,EAAE,EAAE,QAA7C,OAyCF0B,kBArCwB,SAAAnL,GACxB4J,EAAe5J,EAAE2E,OAAOC,QAqCxBwG,iBAlCuB,SAAAtM,GAAI,OAAI,WAC/BsL,EAAO5D,QAAQsB,MAAMyC,WAAa,KACtB,IAATzL,GAA8B,UAAhB6K,IACfS,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAEU,IAAT1L,GAA8B,UAAhB6K,IACfS,EAAO5D,QAAQsB,MAAM0C,UAArB,sBAEFF,YAAW,WACTF,EAAO5D,QAAQsB,MAAMyC,WAAa,OACtB,IAATzL,GAA8B,UAAhB6K,IACfS,EAAO5D,QAAQsB,MAAM0C,UAArB,qBACAd,EAAKD,EAAE,EAAE,IAEC,IAAT3K,GAA8B,UAAhB6K,IACfS,EAAO5D,QAAQsB,MAAM0C,UAArB,qBACAd,EAAKD,EAAE,EAAE,UDJX4B,GAXFjB,EADF,EACEA,OACAT,EAFF,EAEEA,YACAiB,EAHF,EAGEA,gBACAE,EAJF,EAIEA,gBACAC,EALF,EAKEA,cACAC,EANF,EAMEA,iBACAC,EAPF,EAOEA,gBACA3B,EARF,EAQEA,YACA4B,EATF,EASEA,kBACAC,EAVF,EAUEA,kBACAC,EAXF,EAWEA,iBAQF,OACE,gBAACtC,GAAD,CAAewC,aAAcN,EAAkBO,YAAaN,EAA5D,UACE,eAAC9B,GAAD,UACE,gCACE,8BACE,mCACE,wBACExN,KAAK,QACLV,KAAK,SACL2J,MAAM,QACN6B,QAAyB,UAAhBkD,EACT6B,SAAUL,IAEZ,eAACjC,GAAD,CAAKrC,QAASuE,EAAiB,UAGnC,8BACE,mCACE,wBACEzP,KAAK,QACLV,KAAK,SACL2J,MAAM,QACN6B,QAAyB,UAAhBkD,EACT6B,SAAUL,IAEZ,eAACjC,GAAD,CAAKrC,QAASuE,EAAiB,eAKvC,gBAAChC,GAAD,WACE,eAACJ,GAAD,CAASnC,QAASqE,EAAkB,YAApC,SACE,eAAC,IAAD,CAAiBrP,KAAMC,QAEzB,eAACmN,GAAD,CAAUpC,QAASqE,EAAkB,WAArC,SACE,eAAC,IAAD,CAAiBrP,KAAMC,WAG3B,gBAACiN,GAAD,CACEpC,IAAKyD,EACLtC,MA7Cc,CAClB0C,UAAW,qBACXD,WAAY,MA4CRkB,YAAab,EACbc,YAAaZ,EACba,UAAWZ,EALb,UAOE,eAAC,GAAD,CAAajM,KAAM,EAAGwK,YAAaA,IACnC,eAAC,GAAD,CAAaxK,KAAM,EAAGwK,YAAaA,IACnC,eAAC,GAAD,CAAaxK,KAAM,EAAGwK,YAAaA,IACnC,eAAC,GAAD,CAAaxK,KAAM,EAAGwK,YAAaA,IACnC,eAAC,GAAD,CAAaxK,KAAM,EAAGwK,YAAaA,IACnC,eAAC,GAAD,CAAaxK,KAAM,EAAGwK,YAAaA,WE3K5B,OAA0B,4CCA1B,OAA0B,0CCMnCsC,GAAiBlS,IAAOmB,IAAV,8BAEdgR,GAAmBnS,IAAOmB,IAAV,kOAMlBvB,GAQEwS,GAAcpS,IAAOmB,IAAV,2UAKW,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,YAWnDS,GAKEyS,GAAerS,IAAOmB,IAAV,0KAUZmR,GAAiBtS,IAAOmB,IAAV,ssBAII,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAGlC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMC,SAASC,eAElC,SAAA+C,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAGvB,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMC,SAASG,YAC5B,SAAA6C,GAAK,OAAIA,EAAMjD,MAAMa,WAAWC,OACtC,SAAAmC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,QAGpCO,GAKe,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMC,SAASE,gBAG9B,SAAA8C,GAAK,OAAIA,EAAMjD,MAAMC,SAASK,MAG7CwB,GAKe,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMC,SAASI,MAG9B,SAAA4C,GAAK,OAAIA,EAAMjD,MAAMC,SAASO,KAG7CsB,GAKe,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMC,SAASO,MAG9B,SAAAyC,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,QAMpC8T,GAAU,WACrB,OACE,eAACL,GAAD,UACE,gBAACC,GAAD,WACE,eAACC,GAAD,UACE,gBAAC,OAAD,CAAM9Q,GAAG,IAAT,UACE,eAAC+Q,GAAD,UACE,gBAACC,GAAD,WACE,iCACE,sCACA,6CAEF,wBACA,+DAGJ,sBAAKlP,IAAKoP,GAAoBnP,IAAI,4BAGtC,eAAC+O,GAAD,UACE,gBAAC,OAAD,CAAM9Q,GAAG,IAAT,UACE,eAAC+Q,GAAD,UACE,gBAACC,GAAD,WACE,iCACE,sCACA,6CAEF,wBACA,+DAGJ,sBAAKlP,IAAKqP,GAAkBpP,IAAI,gCCpItCqP,GAAc1S,IAAOmB,IAAV,8BAEXwR,GAAgB3S,IAAOmB,IAAV,gWAMbvB,EAGAA,EAGAA,GAWOgT,GAAO,WAElB,MAA0B3P,qBAA1B,oBAAO4P,EAAP,KAAcC,EAAd,KAWA,OAVAlG,qBAAU,WhB8ODpH,MAAM,0CAA2C,CACpDmB,OAAQ,MACRC,QAAS,CACL,iBAAkB,KAClB,cAAgB,aAAhB,OAA8BmM,kDAGrCtN,MAAK,SAAAC,GAAG,OAAIA,EAAIO,UAChBR,MAAK,SAAAS,GACF,IAAMX,EAAQ,IAAI1B,gBAAgB,CAC9BmP,OAAQ9M,EAAKlE,GACbiR,YAAa,WACbC,MAAO,IACRC,WACH,OAAO3N,MAAM,0CAA4CD,EAAO,CAC5DoB,OAAQ,MACRC,QAAS,CACL,iBAAkB,KAClB,cAAgB,aAAhB,OAA8BmM,kDAGrCtN,MAAK,SAAAC,GAAG,OAAIA,EAAIO,agBlQLR,MAAK,SAAAS,GACnB4M,EACE5M,EAAKnB,KAAI,SAAAiF,GAAG,MACV,CAAChI,GAAIgI,EAAIhI,GAAIoR,KAAMpJ,EAAIqJ,YAAa9P,IAAKyG,EAAIsJ,KAAKC,gBAIvD,IAGD,eAACb,GAAD,UACE,eAACC,GAAD,UAEIE,GAASA,EAAM9N,KAAI,SAAAyO,GAAI,OACrB,+BACE,oBAAGvI,OAAO,SAASwI,IAAI,aAAaC,KAAMF,EAAKjQ,IAA/C,SACE,sBAAKH,IAAKoQ,EAAKjQ,IAAKF,IAAKmQ,EAAKJ,UAFxBI,EAAKxR,Y,SCvCrB2R,GAAc3T,IAAO4T,QAAV,+MAeXC,GAAiB7T,IAAOmB,IAAV,mYAYI,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAY7CyU,GAAY9T,IAAOmB,IAAV,ofA4BTP,GAAMZ,IAAOa,OAAV,0UAGa,SAAAE,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAehC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMC,SAASG,YAClC,SAAA6C,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAIlC2U,GAAe/T,YAAOS,GAAPT,CAAH,iOAIH,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QACvB,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,QAIlC,SAAAsC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAKpCwU,GAAkBhU,IAAOmB,IAAV,oVAOR,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAClC,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,OAKzCmB,GAEa,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMC,SAASW,aAK3CuV,GAAsBjU,IAAOK,KAAV,wDACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAE3C0U,GAAqBlU,IAAOK,KAAV,wDACF,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAGpC8U,GAAmB,WAC5B,OACI,uCACI,gBAACR,GAAD,WACI,iCACI,gBAACE,GAAD,WACA,eAAC,OAAD,CAAMvS,GAAG,MACT,sBAAK8B,IAAI,yCAAyCC,IAAI,QACtD,gBAAC2Q,GAAD,WACI,eAACC,GAAD,mBACA,eAACC,GAAD,qBAEJ,gBAACJ,GAAD,WACI,eAAC,GAAD,UACA,eAAC,IAAD,CAAiB3R,KAAMiS,QAEvB,eAAC,GAAD,UACA,eAAC,IAAD,CAAiBjS,KAAMkS,cAI3B,eAAC,OAAD,CAAM/S,GAAG,IAAT,SACA,eAACd,EAAD,mCAGJ,gBAACuT,GAAD,WACI,8CACA,oDAGR,gBAACJ,GAAD,WACI,iCACI,gBAACE,GAAD,WACA,eAAC,OAAD,CAAMvS,GAAG,MACT,sBAAK8B,IAAI,yCAAyCC,IAAI,QACtD,gBAACyQ,GAAD,WACI,eAAC,GAAD,UACA,eAAC,IAAD,CAAiB3R,KAAM6K,QAEvB,eAAC,GAAD,UACA,eAAC,IAAD,CAAiB7K,KAAMsM,eAI3B,eAAC,OAAD,CAAMnN,GAAG,IAAT,SACA,eAACd,EAAD,mCAGJ,eAACC,GAAD,+BCrLH6T,GAAetN,aAAY,CACtCzF,KAAM,UACN0F,aARmB,CACnBsN,UAAU,EACV/L,aAAc,GACdgM,UAAW,IAMXjN,SAAU,CACRkN,YAAa,SAAChN,EAAOC,GACnBD,EAAM8M,SAAW7M,EAAOC,SAE1BuB,gBAAiB,SAACzB,EAAOC,GACvBD,EAAMe,aAAed,EAAOC,SAE9B+M,aAAc,SAACjN,EAAOC,GACpBD,EAAM+M,UAAY9M,EAAOC,YAKxB,GAIH2M,GAAapM,QAHfuM,GADK,GACLA,YACAvL,GAFK,GAELA,gBACAwL,GAHK,GAGLA,aAGaJ,MAAf,QCxBe,SAASK,GAAYtN,EAAMX,EAAS6C,EAAOgL,GAExD,MAAkCtR,oBAAS,GAA3C,oBAAO2R,EAAP,KAAkBC,EAAlB,KACA,EAA8B5R,mBAAS,CAACG,IAAK,GAAIC,IAAK,KAAtD,oBAAOyG,EAAP,KAAgBgL,EAAhB,KAEMC,EAAYrI,mBAEZtE,EAAWoC,eAEjBoC,qBAAU,WACR,IAAG2H,GACEhL,GAAU7C,EAAf,CACA,IAAMsO,EAAmBtO,EAAUA,EAAQA,QAAR,UAAmB6C,EAAnB,MAA6B,GAAG/H,KAAO,GAC1E4G,EAASL,GAAQiN,IACjB5M,EAASJ,GAAS,KAClBI,EAASH,GAAO,OACf,CAACvB,EAAS6C,EAAOnB,EAAUmM,IAmG9B,MAAO,CACLU,gBAhBF,SAA0BC,GAGxB,IAFA,IAAI9U,EAAI8U,EACFC,EAAM,GACLhK,SAAS/K,EAAE,KAAQ,GAAG,CAE3B,IADA,IAAMkK,EAAI,GACFQ,EAAE,EAAGA,EAAE,EAAGA,IAChBR,EAAEtG,KAAKmH,SAAS/K,EAAE,KAAD,IAAE,GAAK0K,EAAE,GAAV,SAAe,GAAIA,KAErCqK,EAAInR,KAAKsG,EAAE8K,UAAUC,KAAK,KAC1BjV,EAAI+K,SAAS/K,EAAE,KAGjB,OADA+U,EAAInR,KAAK5D,GACF+U,EAAIC,UAAUC,KAAK,MAK1BvL,UACAgL,aACAC,YACA3D,gBA1EsB,SAAA9K,GACtBA,EAAE6K,iBACF,IAAMmE,EAAUhP,EAAEiP,YAAYD,QAAU,EAAIhP,EAAEiP,YAAYD,QAAU,EAC9DE,EAAUlP,EAAEiP,YAAYC,QAAU,EAAIlP,EAAEiP,YAAYC,QAAU,EAC9DC,EAAcnP,EAAE2E,OAAOwK,YACvBC,EAAOJ,EAAUG,EACjBE,EAAOH,EAAUC,EACvBV,EAAUjI,QAAQsB,MAAMwH,KAAxB,WAAwC,IAALF,EAAnC,KACAX,EAAUjI,QAAQsB,MAAMyH,IAAxB,WAAuC,IAALF,EAAlC,MAmEAG,eAhEqB,SAAAxP,GACG,QAArBA,EAAE2E,OAAO8K,SACVjB,EAAW,CAAC1R,IAAKkD,EAAE2E,OAAO7H,IAAKC,IAAKiD,EAAE2E,OAAO5H,OA+D/CuR,YACAoB,oBA5D0B,WAC1BnB,GAAcD,IA4DdxJ,eAtFqB,SAAAC,GACrB,GAAiB,QAAdA,EAAqB,OAAOjD,EAASH,GAAOZ,EAAKC,IAAI,IACxD,GAAiB,QAAd+D,EAAqB,CACtB,GAAGhE,EAAKC,KAAK,EAAG,OAChBc,EAASH,GAAOZ,EAAKC,IAAI,MAmF3B2O,iBAlGuB,SAAA3P,GACvB8B,EAASL,GAAQzB,EAAE2E,OAAOC,QAC1B9C,EAASJ,GAAS,MAiGlBkO,kBA/FwB,SAAAC,GAAM,OAAI,SAAA7P,GAC/B6P,GACH/N,EAASJ,GAAS1B,EAAE2E,OAAOC,UA8F3BF,gBA5FsB,SAAA1E,GACtB8B,EAASH,GAAOkD,SAAS7E,EAAE2E,OAAOC,UA4FlCkL,gBA7DsB,WACtB,IAAI/O,EAAK7F,OAAS6F,EAAKnI,MAAO,OAAOkJ,EAASc,GAAgB,sDAWhE,SAA8B2D,GAC5B,IACMwJ,EAAU,CACdxN,WAFiBnC,EAAQ2C,SAASV,MAAK,SAAAW,GAAO,OAAKA,EAAQI,MAAMnI,OAAS8F,EAAKnI,OAAWoK,EAAQC,GAAO/H,OAAS6F,EAAK7F,QAAOQ,GAG9HsF,IAAKD,EAAKC,KAENuD,EAAUgC,EAASlE,MAAK,SAAAC,GAAI,OAChCA,EAAKC,aAAewN,EAAQxN,cAE1BgC,GACFA,EAAQvD,KAAOD,EAAKC,IACpB+O,EAAQ/O,IAAMuD,EAAQvD,IACtBc,EAASM,GAAW2N,MAEpBA,EAAQrU,GAAK0E,EAAQA,QAAQ1E,GAC7B6K,EAAS7I,KAAKqS,GACdjO,GjBfwBQ,EiBeAyN,EjBfQ,SAAAjO,GACpCA,EAASe,GAAeP,IACrBnD,MAAK,kBAAM2C,EAASa,GAAQL,WAFH,IAAAA,EiBiBnBgC,aAAaG,QAAQ,OAAQlE,KAAKC,UAAU+F,IA3BnDyJ,CADiBzP,KAAK8D,MAAMC,aAAaC,QAAQ,UAAY,IAE7DzC,EAASqM,IAAY,KA0DrB8B,oBAvD0B,WAC1BnO,EAASsM,GAAa,UACtBtM,EAASqM,IAAY,KAsDrB+B,iBAhHuB,SAAAvU,GAAI,OAAI,WAC/BmG,EAASqM,IAAY,IACT,SAATxS,GAA4B,UAATA,GAA6B,SAATA,GAA4B,WAATA,GAC3DmG,EAASP,GAAW,KAEtBO,EAASsM,GAAa,KACtBtM,EAASc,GAAgB,QClB7B,I,YAAMyK,GAAc3T,IAAO4T,QAAV,+MAeXC,GAAiB7T,IAAOmB,IAAV,uSAYI,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAO7C0U,GAAY9T,IAAOmB,IAAV,mMAWTsV,GAAezW,IAAOmB,IAAV,0IAUZP,GAAMZ,IAAOa,OAAV,oYAIa,SAAAE,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAYzB,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAIlC,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMC,SAASM,OAClC,SAAA0C,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAIlC2U,GAAe/T,YAAOS,GAAPT,CAAH,iOAIH,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QACvB,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,QAIlC,SAAAsC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAKpCwU,GAAkBhU,IAAOmB,IAAV,oVAOR,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAClC,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,OAKzCmB,GAEa,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMC,SAASW,aAK3CuV,GAAsBjU,IAAOK,KAAV,wDACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAE3C0U,GAAqBlU,IAAOK,KAAV,wDACF,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAGpCqX,GAAc,SAAC,GAAe,IAAdhQ,EAAa,EAAbA,QAI3B,GAFiB8D,eAKbmK,MAFFM,EADF,EACEA,gBACAsB,EAFF,EAEEA,oBAGIhT,EAAG,mBAAemD,EAAQ1E,IAEhC,OACE,gBAAC,GAAD,WACE,iCACE,gBAAC,GAAD,WACE,eAAC,OAAD,CAAMV,GAAIiC,IACV,eAAC,GAAD,CAAKP,MAAO0D,EAAQqD,OAAO,KAC3B,gBAAC,GAAD,WACGrD,EAAQpB,SACP,eAAC,GAAD,mBAEF,eAAC,GAAD,qBAEF,eAAC,GAAD,UACE,gBAACmR,GAAD,WACE,eAAC,OAAD,CAAMnV,GAAIiC,EAAV,SACE,eAAC,GAAD,UACE,eAAC,IAAD,CAAiBpB,KAAM6K,UAG3B,eAAC,GAAD,CAAKG,QAASoJ,EAAd,SACE,eAAC,IAAD,CAAiBpU,KAAMsM,iBAK/B,eAAC,OAAD,CAAMnN,GAAIiC,EAAV,SACE,eAAC/C,EAAD,UAAKkG,EAAQnF,YAIfmF,EAAQpB,QACN,gBAAC,GAAD,WACE,yCAAW2P,EAAgBvO,EAAQkD,mBACnC,yCAAWqL,EAAgBvO,EAAQmD,kBAGrC,gBAACpJ,GAAD,kBAAQwU,EAAgBvO,EAAQkD,uBC5KpC+M,GAAkB3W,IAAOmB,IAAV,8BAEfyV,GAAoB5W,IAAOmB,IAAV,qTAKnBvB,GAiBEiX,GAAW7W,YAAOO,EAAPP,CAAH,oYASU,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAc7CyX,GAAmB9W,IAAOmB,IAAV,ubAShBvB,EAMAA,EAMAA,GAMOmX,GAAQ,WAEnB,MAA4B9T,oBAAS,iBACnC,CAAC+T,KAAM,GAAIC,OAAQ,OADrB,oBAAOC,EAAP,KAAeC,EAAf,KAGA,EAA0BlU,qBAA1B,oBAAOmE,EAAP,KAAcU,EAAd,KAaA,OAXA8E,qBAAU,WACRpG,KACCf,MAAK,SAAAS,GACJ,IAAIA,EAAKC,GAAI,OAAO2B,EAAS5B,EAAKE,SAClC+Q,EAAU,CACRH,KAAM9Q,EAAKA,KAAK6C,QAAO,SAAAqO,GAAK,MAAqB,MAAjBA,EAAMtT,UACtCmT,OAAQ/Q,EAAKA,KAAK6C,QAAO,SAAAqO,GAAK,MAAqB,MAAjBA,EAAMtT,iBAG3C,IAGD,eAAC6S,GAAD,UACE,gBAACC,GAAD,WACE,eAACtW,EAAD,uCACA,gBAACuW,GAAD,WACE,wBAAO3U,QAAQ,SAAf,SAAwB,mDAD1B,IAGE,wBAAOA,QAAQ,OAAf,SAAsB,uDAEtBgV,EAAOF,OAASE,EAAOD,SACvB7P,EACE,eAAC3G,GAAD,UAAI2G,IAEJ,eAAC3G,GAAD,iDAGHyW,EAAOF,MAAQE,EAAOD,SAAW7P,GAChC,iCACE,wBAAOpF,GAAG,SAASC,KAAK,QAAQV,KAAK,WAAW8V,gBAAc,IAC7DH,EAAOD,OAAO1L,OAAS,EACtB,gBAACuL,GAAD,WAEII,EAAOD,QAAUC,EAAOD,OAAOlS,KAAI,SAAAqS,GACjC,OACE,eAAC,GAAD,CAA4B1Q,QAAS0Q,GAAnBA,EAAMpV,OAI9B,eAAC,GAAD,OAGF,eAAC8U,GAAD,UACE,eAACrW,GAAD,yCAGJ,wBAAOuB,GAAG,OAAOC,KAAK,QAAQV,KAAK,aAClC2V,EAAOF,KAAKzL,OAAS,EACpB,gBAACuL,GAAD,WAEII,EAAOF,MAAQE,EAAOF,KAAKjS,KAAI,SAAAqS,GAC7B,OACE,eAAC,GAAD,CAA4B1Q,QAAS0Q,GAAnBA,EAAMpV,OAI9B,eAAC,GAAD,OAGF,eAAC8U,GAAD,UACE,eAACrW,GAAD,kDCjJD,SAAS6W,KACtB,OACE,kCACE,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IAEE,eAAC,GAAD,OCZD,I,0CAAMC,GAAW,CACpB,CACIC,WAAY,2BACZC,MAAO,4BAEX,CACIxT,IAAK,eACLC,MAAO,eACPwC,QAAS,2BACTxB,MAAO,2BACPwS,KAAM,4BAEV,CACIvT,KAAM,qBACNC,OAAQ,qBACRC,KAAM,oCACNC,UAAW,qBACXC,MAAO,qBACPC,QAAS,qBACTC,OAAQ,qBACRC,QAAS,qBACTiT,YAAa,yDACbC,SAAU,yDACV1C,MAAO,yDACP2C,IAAK,6BAIAC,GAAU,CACnBC,SAAU,CACRC,cAAe,eACfC,YAAa,eACbC,WAAY,gBAEdC,YAAa,CACXC,MAAO,eACPC,IAAK,eACLC,KAAM,eACNC,OAAQ,4BAEVC,WAAY,CACVJ,MAAO,eACPC,IAAK,eACL9M,OAAQ,iBChCRkN,GAAezY,IAAO0B,IAAV,+DACd9B,GAIE8Y,GAAiB1Y,IAAOmB,IAAV,2fAQC,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAC5B,SAAAuC,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KACtC,SAAAiC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAGnB,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAmB5C8Z,GAAW,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,QAASrX,EAAU,EAAVA,KAE/B,OACE,eAACkX,GAAD,UACE,eAACC,GAAD,UACE,gCACE,8BACE,eAAC,OAAD,CAAMpX,GAAG,IAAT,SACE,eAAC,IAAD,CAAiBa,KAAM0W,UAG1BD,EAAQnP,MAAM,GAAG1E,KAAI,SAAC+T,EAAM9P,GAC3B,OACE,8BACE,eAAC,OAAD,CAAM1H,GAAIsX,EAAQnP,MAAM,EAAGT,EAAM,GAAGqM,KAAK,KAAzC,SACE,gCAAOkC,GAASvO,GAAO8P,QAFlB9P,MAOZzH,GACC,8BACE,eAAC,OAAD,CAAMD,GAAG,IAAT,SACE,gCAAOC,gBC/DV,SAASwX,KAEtB,MAA6BC,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAEZuD,EAAqBsF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQQ,sBACxDkB,EAAWoC,eAMjB,SAAS0O,IACP,IAAIhS,EAAoB,OAAO,IAC/B,IAAMiO,EAAMjO,EAAmBnC,KAAI,SAAA2B,GAAO,OAAIA,EAAQpB,QAAUoB,EAAQmD,WAAanD,EAAQkD,kBAC7F,OAAOuP,KAAKC,IAAL,MAAAD,KAAI,aAAQhE,IAErB,SAASkE,IACP,IAAInS,EAAoB,OAAO,KAC/B,IAAMiO,EAAMjO,EAAmBnC,KAAI,SAAA2B,GAAO,OAAIA,EAAQpB,QAAUoB,EAAQmD,WAAanD,EAAQkD,kBAC7F,OAAOuP,KAAKG,IAAL,MAAAH,KAAI,aAAQhE,IAZrBvI,qBAAU,WACRxE,ExBiCiC,SAAA1E,GAAQ,OAAI,SAAA0E,GAC/C3E,GAAeC,EAAU,IACtB+B,MAAK,SAAA4C,GACAA,EAAOlC,IACTiC,EAASZ,GAAsB,KAEjCY,EAASZ,GAAsBa,EAAOnC,WwBvC/BqT,CAAsB7V,EAASoB,MAAM,KAAK2E,MAAM,EAAG,OAC3D,CAAC/F,EAAU0E,IAad,IAAMoR,EAAUN,KAAoB,IAC9BO,EAAUJ,KAAoB,KAEpC,EAAsBpW,oBAAS,kBAAMiW,OAArC,oBAAOE,EAAP,KAAYM,EAAZ,KACA,EAAsBzW,oBAAS,kBAAMoW,OAArC,oBAAOC,EAAP,KAAYK,EAAZ,KACA,EAAoC1W,oBAAS,GAA7C,oBAAOkN,EAAP,KAAmBC,EAAnB,KAEMK,EAAI/D,iBAAO,MACXrB,EAAYqB,iBAAO,MAEnBkN,EAAKlN,iBAAO,MACZmN,EAAKnN,iBAAO,MACZoN,EAAUpN,iBAAO,KACjBqN,EAAWrN,iBAAO,KAElBsN,EAAMtN,mBACNuN,EAAcvN,mBACdwN,EAAWxN,mBACXyN,EAAYzN,mBAGZ0N,EADU,IAAIvW,gBAAgBF,GACPkB,IAAI,UAAd,UAA6B2U,EAA7B,YAAwCC,GAC3D7M,qBAAU,WACR,IAAMyN,EAAUlP,SAASiP,EAAWtV,MAAM,KAAK,IACzCwV,EAAUnP,SAASiP,EAAWtV,MAAM,KAAK,IAC/C4U,EAAOW,GACPV,EAAOW,GACPR,EAAQhN,QAAU,IAAO,KAAK2M,EAAQa,IAAUb,EAAQD,GACxDO,EAASjN,QAAU,IAAO,KAAKuN,EAAQb,IAAUC,EAAQD,GACzDI,EAAG9M,QAAUgN,EAAQhN,QAAUkN,EAAIlN,QAAQ2I,YAAc,IACzDoE,EAAG/M,QAAUiN,EAASjN,QAAUkN,EAAIlN,QAAQ2I,YAAc,IAC1DwE,EAAYnN,QAAQsB,MAAMmM,MAA1B,UAAqC,IAAMT,EAAQhN,QAAnD,KACAmN,EAAYnN,QAAQsB,MAAMwH,KAA1B,UAAoC,IAAMmE,EAASjN,QAAnD,KACAoN,EAASpN,QAAQsB,MAAMmM,MAAvB,UAAkCR,EAASjN,QAA3C,KACAqN,EAAUrN,QAAQsB,MAAMwH,KAAxB,UAAkCkE,EAAQhN,QAA1C,OACC,CAACsN,EAAYX,EAASD,IAEzB,IAAMgB,EAAUC,cAuIhB,MAAO,CACLT,MACAC,cACAC,WACAC,YAEAjJ,gBA3IsB,SAAA5K,GAKtB,GAJAX,QAAQC,IAAIgU,GACZjU,QAAQC,IAAIiU,GACZlU,QAAQC,IAAIkU,GACZnU,QAAQC,IAAImU,GACTW,MAAMd,EAAG9M,UAAY4N,MAAMb,EAAG/M,UAAY4N,MAAMZ,EAAQhN,UAAY4N,MAAMX,EAASjN,SACpF,OAAOsD,GAAc,GAEvBK,EAAE3D,QAAUxG,EAAE2K,MACX3K,EAAE2E,SAAWkP,EAAUrN,QACxBzB,EAAUyB,QAAU,IACZxG,EAAE2E,SAAWiP,EAASpN,UAC9BzB,EAAUyB,QAAU,KAEJ,OAAf8M,EAAG9M,UACJ8M,EAAG9M,QAAUkN,EAAIlN,QAAQ2I,aAET,OAAfoE,EAAG/M,UACJ+M,EAAG/M,QAAUkN,EAAIlN,QAAQ2I,aAE3BrF,GAAc,IAwHdgB,gBArHsB,SAAA9K,GACtB,GAAGmK,EAAE3D,SAAWqD,EAAW,CAEzB,GADA7J,EAAE6K,iBACuB,MAAtB9F,EAAUyB,QAAgB,CAC3B,IAAI6N,GAAQf,EAAG9M,QAAU2D,EAAE3D,QAAUxG,EAAE2K,OAAO+I,EAAIlN,QAAQ2I,YAAc,IACrEkF,EAAM,MAAKA,EAAM,KACjBA,EAAM,IAAMZ,EAASjN,UAAS6N,EAAM,IAAMZ,EAASjN,SACtDqN,EAAUrN,QAAQsB,MAAMwH,KAAxB,UAAkC+E,EAAlC,KACAV,EAAYnN,QAAQsB,MAAMmM,MAA1B,UAAqC,IAAMI,EAA3C,KACAb,EAAQhN,QAAU6N,EAClBhB,EAAOiB,QAAQnB,GAAWA,EAAUD,IAAY,IAAMmB,GAAO,KAAKE,QAAQ,KAE5E,GAAyB,MAAtBxP,EAAUyB,QAAgB,CAC3B,IAAI6N,GAAQd,EAAG/M,QAAU2D,EAAE3D,QAAUxG,EAAE2K,OAAO+I,EAAIlN,QAAQ2I,YAAc,IACrEkF,EAAM,MAAKA,EAAM,KACjBA,EAAM,IAAMb,EAAQhN,UAAS6N,EAAM,IAAMb,EAAQhN,SACpDoN,EAASpN,QAAQsB,MAAMmM,MAAvB,UAAkCI,EAAlC,KACAV,EAAYnN,QAAQsB,MAAMwH,KAA1B,UAAoC,IAAM+E,EAA1C,KACAZ,EAASjN,QAAU6N,EACnBjB,EAAOkB,QAAQpB,GAAWC,EAAUD,IAAY,IAAMmB,GAAO,KAAKE,QAAQ,QAmG9ExJ,cA9FoB,SAAA/K,GACpB,GAAG6J,EAAY,CACY,MAAtB9E,EAAUyB,UACPmN,EAAYnN,QAAQ2I,YAGtBmE,EAAG9M,QAAU8M,EAAG9M,QAAU2D,EAAE3D,QAAUxG,EAAE2K,MAFxC2I,EAAG9M,QAAUqN,EAAUrN,QAAQgO,WAI9BlB,EAAG9M,QAAUkN,EAAIlN,QAAQ2I,cAC1BmE,EAAG9M,QAAUkN,EAAIlN,QAAQ2I,cAGJ,MAAtBpK,EAAUyB,UACPmN,EAAYnN,QAAQ2I,YAGtBoE,EAAG/M,QAAU+M,EAAG/M,QAAU2D,EAAE3D,QAAUxG,EAAE2K,MAFxC4I,EAAG/M,QAAUkN,EAAIlN,QAAQ2I,YAAc0E,EAAUrN,QAAQgO,WAIxDjB,EAAG/M,QAAUkN,EAAIlN,QAAQ2I,cAC1BoE,EAAG/M,QAAUkN,EAAIlN,QAAQ2I,cAG7BrF,GAAc,GAEd,IAAI2K,EAAY,IAAIlX,gBAAgBF,GACjBoX,EAAUlW,IAAI,SAG/BkW,EAAUC,IAAI,QAAd,UAA0B5B,EAA1B,YAAiCE,IAEjCyB,EAAUE,OAAO,QAAjB,UAA6B7B,EAA7B,YAAoCE,IAGlCyB,EAAUpW,IAAI,SAChBoW,EAAUG,OAAO,QAGnB,IAAMC,EAAQ,UAAMzX,EAAN,YAAkBqX,GAEhCP,EAAQxW,KAAKmX,KAwDf7J,iBApDuB,SAAAhL,GACvB,GAAG6J,EAAY,CACY,MAAtB9E,EAAUyB,UACPmN,EAAYnN,QAAQ2I,YAGtBmE,EAAG9M,QAAU8M,EAAG9M,QAAU2D,EAAE3D,QAAUxG,EAAE2K,MAFxC2I,EAAG9M,QAAUqN,EAAUrN,QAAQgO,WAI9BlB,EAAG9M,QAAUkN,EAAIlN,QAAQ2I,cAC1BmE,EAAG9M,QAAUkN,EAAIlN,QAAQ2I,cAGJ,MAAtBpK,EAAUyB,UACPmN,EAAYnN,QAAQ2I,YAGtBoE,EAAG/M,QAAU+M,EAAG/M,QAAU2D,EAAE3D,QAAUxG,EAAE2K,MAFxC4I,EAAG/M,QAAUkN,EAAIlN,QAAQ2I,YAAc0E,EAAUrN,QAAQgO,WAIxDjB,EAAG/M,QAAUkN,EAAIlN,QAAQ2I,cAC1BoE,EAAG/M,QAAUkN,EAAIlN,QAAQ2I,cAG7BrF,GAAc,GAEd,IAAI2K,EAAY,IAAIlX,gBAAgBF,GACjBoX,EAAUlW,IAAI,SAG/BkW,EAAUC,IAAI,QAAd,UAA0B5B,EAA1B,YAAiCE,IAEjCyB,EAAUE,OAAO,QAAjB,UAA6B7B,EAA7B,YAAoCE,IAGlCyB,EAAUpW,IAAI,SAChBoW,EAAUG,OAAO,QAGnB,IAAMC,EAAQ,UAAMzX,EAAN,YAAkBqX,GAEhCP,EAAQxW,KAAKmX,KAef/B,MACAE,MACAnJ,cCtMJ,I,6IAAMiL,GAAgBpb,YAAOY,GAAPZ,CAAH,kWAMS,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAGtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMC,SAASO,KAE3CsB,GAUEyb,GAAarb,IAAOmB,IAAV,sLACM,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAG9B,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAItC,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAIlCic,GAAkBtb,YAAOqb,GAAPrb,CAAH,6QACjBJ,GAG0B,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAanDoc,GAAavb,IAAO4T,QAAV,yPAQG,SAAA7S,GAAK,OAAIA,EAAMjD,MAAMC,SAASQ,MAClC,SAAAwC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QASpCoc,GAAcxb,IAAO4T,QAAV,2JAYX6H,GAAYzb,IAAOK,KAAV,mMAIH,SAAAU,GAAK,OAAKA,EAAM2a,SAA6B,UAAjB3a,EAAM4a,SAAwB,qBAC1D,SAAA5a,GAAK,OAAKA,EAAM2a,SAA6B,UAAjB3a,EAAM4a,QAAwB,wBAGhD,SAAA5a,GAAK,OAAIA,EAAMjD,MAAMoB,MAAM6B,EAAM4a,WAGjDC,GAAc5b,IAAO4T,QAAV,8BAGXiI,GAAW7b,YAAOS,GAAPT,CAAH,0KACG,SAAAe,GAAK,OAAIA,EAAMjD,MAAMa,WAAWI,KAW3C+c,GAAW9b,IAAOmB,IAAV,kTAGQ,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAUvB,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAK/C2c,GAAY/b,IAAOK,KAAV,2PAMO,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAC3B,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMK,iBAO3C8M,GAAQrM,IAAOsM,MAAV,kIAUL0P,GAAWhc,YAAOY,GAAPZ,CAAH,2MACQ,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAKpC,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACvB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAC5B,SAAAuC,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KAK7Cmd,GAAa,SAAC,GAAY,IAAXza,EAAU,EAAVA,KAEnB,EAA6BwX,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OACZoX,EAAY,IAAIlX,gBAAgBF,GAChCuY,EAAQnB,EAAUlW,IAAI,QACxB1C,EAAOga,KAEX,GAAID,EACF,GAAKA,EAAME,SAAS5a,GAEb,GAAI0a,IAAU1a,EACnBuZ,EAAUG,OAAO,QACjB/Y,EAAOka,SACF,CACL,IAAMC,EAAWJ,EAAMpX,MAAM,IAAMtD,GAAM6T,KAAK,IAAIvQ,MAAMtD,EAAO,KAAK6T,KAAK,IACzE0F,EAAUC,IAAI,OAAQsB,GACtBna,EAAOka,UAPPtB,EAAUC,IAAI,OAAd,UAAyBkB,EAAzB,YAAkC1a,SAUpCuZ,EAAUE,OAAO,OAAQzZ,GAGvBuZ,EAAUpW,IAAI,SAChBoW,EAAUG,OAAO,QAGnB,IAAM3X,EAAG,UAAMG,EAAN,YAAkBqX,GAE3B,OACE,gBAAC,OAAD,CAAMzZ,GAAIiC,EAAV,UACE,eAAC,IAAD,CAAiBpB,KAAMA,IACvB,gCAAOX,QAKP+a,GAAc,SAAC,GAAa,IAAZrd,EAAW,EAAXA,MAUpB,EAA6B8Z,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OACZoX,EAAY,IAAIlX,gBAAgBF,GAChCuY,EAAQnB,EAAUlW,IAAI,SACxB2X,GAAS,EAEb,GAAIN,EACF,GAAKA,EAAME,SAASld,GAEb,GAAIgd,IAAUhd,EACnB6b,EAAUG,OAAO,SACjBsB,GAAS,MACJ,CACL,IAAMF,EAAWJ,EAAMpX,MAAM,IAAM5F,GAAOmW,KAAK,IAAIvQ,MAAM5F,EAAQ,KAAKmW,KAAK,IAC3E0F,EAAUC,IAAI,QAASsB,GACvBE,GAAS,OAPTzB,EAAUC,IAAI,QAAd,UAA0BkB,EAA1B,YAAmChd,SAUrC6b,EAAUE,OAAO,QAAS/b,GAGxB6b,EAAUpW,IAAI,SAChBoW,EAAUG,OAAO,QAGnB,IAAM3X,EAAG,UAAMG,EAAN,YAAkBqX,GAE3B,OACE,eAAC,OAAD,CAAMzZ,GAAIiC,EAAV,SACE,eAACkY,GAAD,CAAWC,QAASc,EAAQb,OApCjB,CACbrc,MAAO,gBACPD,MAAO,QACPD,KAAM,YACNO,OAAQ,SACRD,MAAO,SA+BsCR,QAK3Cud,GAAc,WAElB,IAWQxH,EAAoBN,KAApBM,gBAER,EAYI8D,KAXFiB,EADF,EACEA,IACAC,EAFF,EAEEA,YACAC,EAHF,EAGEA,SACAC,EAJF,EAIEA,UACAjJ,EALF,EAKEA,gBACAE,EANF,EAMEA,gBACAC,EAPF,EAOEA,cACAC,EARF,EAQEA,iBACA8H,EATF,EASEA,IACAE,EAVF,EAUEA,IACAnJ,EAXF,EAWEA,WAGF,OACE,iCACE,gBAAC0L,GAAD,WACE,sCAAQ5G,EAAgBmE,MACxB,sCAAQnE,EAAgBqE,SAE1B,eAACwC,GAAD,UACE,uBAAK7O,IAAK+M,EAAV,UACE,sBAAK/M,IAAKgN,EAAa7L,MA7Bd,CACfwH,KAAM,KACN2E,MAAO,QA4BC,eAACwB,GAAD,CAAW9O,IAAKiN,EAAUwC,OAAK,EAACtO,MAjCxB,CAChBmM,MAAO,QAgCmDxI,YAAab,IAC/D,eAAC6K,GAAD,CAAW9O,IAAKkN,EAAWwC,QAAM,EAACvO,MArCzB,CACjBwH,KAAM,QAoCuD7D,YAAab,SAGvEf,GACC,eAAC,GAAD,CACE6B,YAAaZ,EACba,UAAWZ,EACXO,aAAcN,QAOXsL,GAAS,WACpB,IAGA,EAA6B5D,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAIlB,OAFAgC,QAAQC,IAAIjC,GAGV,uCACE,eAACyX,GAAD,UACE,wBAAOlZ,QAAQ,SAAf,SACE,eAAC,IAAD,CAAiBC,KAAM0a,UAG3B,gBAACvB,GAAD,WACE,eAAC9a,EAAD,uCACCmD,IAAWA,EAAOyY,SAAS,SAC1B,eAACJ,GAAD,UACE,eAAC,OAAD,CAAM1a,GAAIoC,EAAV,SACE,iEAIN,gBAAC6X,GAAD,WACE,eAAC9a,GAAD,2BACA,8BAzBM,CAAC,IAAK,IAAK,KA0BRsE,KAAI,SAAAvD,GAAI,OACb,8BACE,eAAC,GAAD,CAAiBA,UADVA,WAMf,gBAACga,GAAD,WACE,eAAC/a,GAAD,2BACA,8BAlCO,CAAC,QAAS,SAAU,QAAS,OAAQ,SAmClCsE,KAAI,SAAA7F,GAAK,OACf,8BACE,eAAC,GAAD,CAAkBA,WADXA,WAMf,gBAAC0c,GAAD,WACE,eAACnb,GAAD,2BACA,eAAC,GAAD,cCxVJ4a,GAAarb,IAAOmB,IAAV,sLACM,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAG9B,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAItC,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAIlCyd,GAAiB9c,YAAOqb,GAAPrb,CAAH,4HAChBJ,GASEmd,GAAY/c,IAAO4T,QAAV,8GAQToJ,GAAahd,IAAOmB,IAAV,+JAWV8b,GAAYjd,IAAOmB,IAAV,6IAOI,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KAI7Coe,GAAald,IAAOmB,IAAV,qLAGD,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAI3B,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAKpC2d,GAAY,SAAC,GAAa,IAAZ/F,EAAW,EAAXA,MAEVnC,EAAoBN,KAApBM,gBAER,OACE,gBAAC8H,GAAD,WACE,eAACC,GAAD,UACE,eAAC,OAAD,CAAM1b,GAAG,YAAT,SACE,eAAC,GAAD,CAAK0B,MAAOoU,EAAMrN,OAAO,SAI7B,gBAACkT,GAAD,WACE,eAAC,OAAD,CAAM3b,GAAG,YAAT,SACE,eAACb,GAAD,UAAI2W,EAAM7V,SAGV6V,EAAM9R,QACJ,gBAAC4X,GAAD,WACE,gBAACxc,GAAD,kBAAWuU,EAAgBmC,EAAMxN,mBACjC,gBAAClJ,GAAD,kBAAWuU,EAAgBmC,EAAMvN,kBAGnC,gBAACnJ,GAAD,kBAAWuU,EAAgBmC,EAAMxN,0BAQhCmN,GAAQ,WAEnB,MAA4B9T,qBAA5B,oBAAOiU,EAAP,KAAeC,EAAf,KACA,EAA0BlU,qBAA1B,oBAAOmE,EAAP,KAAcU,EAAd,KAaA,OAXA8E,qBAAU,WACRpG,KAAyBf,MAAK,SAAAS,GAC5B,IAAIA,EAAKC,GAEP,OADAgR,IACOrP,EAAS5B,EAAKE,SAEvB+Q,EAAUjR,EAAKA,KAAKuD,MAAM,EAAG,IAC7B3B,SAED,IAGD,gBAACgV,GAAD,WACE,eAACtc,EAAD,wCACE0W,IACA9P,EACE,eAAC3G,GAAD,UAAI2G,IAEJ,eAAC3G,GAAD,iDAGHyW,IAAW9P,IACV8P,EAAO3L,OAAS,EACd2L,EAAOnS,KAAI,SAAAqS,GAAK,OACd,eAAC,GAAD,CAA0BA,MAAOA,GAAjBA,EAAMpV,OAGxB,eAACvB,GAAD,4CClIJ4L,GAAQrM,IAAOsM,MAAV,mLAYL8Q,GAAmBpd,IAAOmB,IAAV,iGAIlBvB,GAKEyd,GAAiBrd,IAAOsd,MAAV,oPAMI,SAAAvc,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,QAE/CM,GAQE2d,GAAavd,IAAO8B,MAAV,+JAYH0b,GAAQ,SAAC,GAAc,IAAbzU,EAAY,EAAZA,OAErB,OACI,uCACGA,GACC,uCACE,eAACwU,GAAD,CAAYvb,GAAG,SAASC,KAAK,aAC7B,eAAC,GAAD,CAAOC,QAAQ,cAGnB,gBAACmb,GAAD,WACE,eAACD,GAAD,UACE,eAAC,OAAD,CAAM9b,GAAG,YAAT,SACE,sBAAK8B,IAAI,gCAAgCC,IAAI,kBAGhD0F,GACC,eAAC,GAAD,IAEF,eAAC,GAAD,WChEJ0U,GAAgBzd,IAAOmB,IAAV,gLAMG,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAG3Cue,GAAkB1d,IAAOmB,IAAV,8EAEjBvB,GAKE+d,GAAa3d,YAAOY,GAAPZ,CAAH,2GAGC,SAAAe,GAAK,OAAIA,EAAMjD,MAAMC,SAASM,MAE3CuB,GACE,SAAAmB,GAAK,OAAIA,EAAM6c,OAAS,oBAIxBC,GAAe7d,IAAO8B,MAAV,qLAKD,SAAAf,GAAK,OAAIA,EAAM+c,MAAQ,kBACvB,SAAA/c,GAAK,OAAIA,EAAMgd,QAAU,kBACzB,SAAAhd,GAAK,OAAIA,EAAM6c,OAAS,kBAMnCI,GAAgBhe,IAAOmB,IAAV,0SAKA,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KAc7CyD,GAAOvC,IAAOmB,IAAV,oaAEY,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAC3B,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAMpC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAIrB,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAa3CgE,GAAUxC,IAAOC,GAAV,gUAMe,SAAAc,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAG/B,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAEtC,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMK,iBAK3B,SAAAwB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAIlCiN,GAAQrM,IAAOsM,MAAV,mLAYL2R,GAAa,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,QAAShZ,EAAW,EAAXA,MAE5B,EAA6B8T,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OACZoX,EAAY,IAAIlX,gBAAgBF,GAEtCoX,EAAUC,IAAI,QAAS9V,GACnB6V,EAAUpW,IAAI,SAChBoW,EAAUG,OAAO,QAGnB,IAAM3X,EAAG,UAAMG,EAAN,YAAkBqX,GAE3B,OACE,eAAC,OAAD,CAAMzZ,GAAIiC,EAAV,SACE,eAAC7C,GAAD,UAAOwd,EAAQhZ,QAKfiZ,GAAW,WAEb,IAAMxa,EAAWqV,qBAAWC,IAAtBtV,OAEAya,GADNza,EAAS,IAAIE,gBAAgBF,IACDkB,IAAI,SAE1BwZ,EAAc3R,mBAEdwR,EAAU,CACdI,UAAW,iCACXC,WAAY,oCACZC,UAAW,qCAGPC,EAAQL,EAAeF,EAAQE,GAAgBF,EAAQI,UAM7D,OAJA1R,qBAAU,WACRyR,EAAYvR,QAAQC,SAAU,IAC7B,CAACpJ,IAGF,gBAACqa,GAAD,WACE,gBAAC,GAAD,WACE,wBAAO9b,QAAQ,cACf,eAACxB,GAAD,UAAO+d,IACP,eAAC7d,GAAD,UAAK,eAAC,IAAD,CAAiBuB,KAAMC,WAE9B,wBAAOJ,GAAG,YAAYC,KAAK,WAAWgL,IAAKoR,IAC3C,eAAC,GAAD,CAAOnc,QAAQ,cACf,eAAC,GAAD,UACGwc,OAAOC,KAAKT,GAASnZ,KAAI,SAAAG,GAAK,OAC7B,8BACE,eAAC,GAAD,CAAiBgZ,UAAShZ,WADnBA,YASR0Z,GAAO,WAClB,OACI,uCACI,gBAACnB,GAAD,WACE,gBAACC,GAAD,WACE,eAACC,GAAD,UACE,wBAAOzb,QAAQ,cAAf,SACE,eAAC,IAAD,CAAiBC,KAAM0c,UAG3B,eAAClB,GAAD,UACE,wBAAOzb,QAAQ,gBAAf,SACE,eAAC,IAAD,CAAiBC,KAAM2c,UAG3B,eAACnB,GAAD,CAAYC,OAAK,EAAjB,SACE,wBAAO1b,QAAQ,eAAf,SACE,eAAC,IAAD,CAAiBC,KAAM4c,IAAgBjO,UAAW,CAAEkO,OAAQ,aAIlE,eAAC,GAAD,OAEF,eAACnB,GAAD,CAAcC,MAAI,EAAC9b,GAAG,cAAcT,KAAK,UAAUU,KAAK,UACxD,eAAC4b,GAAD,CAAcE,QAAM,EAAC/b,GAAG,gBAAgBT,KAAK,UAAUU,KAAK,UAC5D,eAAC4b,GAAD,CAAcD,OAAK,EAAC5b,GAAG,eAAeT,KAAK,UAAUU,KAAK,cCvM9Db,GAAgBpB,IAAOmB,IAAV,sKAUb8d,GAAUjf,IAAOa,OAAV,uZAIe,SAAAE,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACjC,SAAA4B,GAAK,OAAIA,EAAMme,UAAYne,EAAMjD,MAAMoB,MAAMC,UAAY4B,EAAMjD,MAAMoB,MAAMI,SAEzE,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAEpC,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAKzB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,QAClC,SAAAsC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAIrB,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MACtC,SAAAkC,GAAK,OAAIA,EAAMme,WAAane,EAAMjD,MAAMoB,MAAMI,SAKrD6f,GAASnf,IAAOmB,IAAV,oEACNvB,GAKAwf,GAAa,SAAC,GAAY,IAAXha,EAAU,EAAVA,KAEjB,EAA6B4T,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OACZoX,EAAY,IAAIlX,gBAAgBF,GAChCsM,EAAc9E,SAAS4P,EAAUlW,IAAI,UAAY,EAEvDkW,EAAUC,IAAI,OAAQ5V,GACtB,IAAMia,EAAYpP,IAAgB7K,EAE5B7B,EAAG,UAAMG,EAAN,YAAkBqX,GAE3B,OACI,eAACkE,GAAD,CAASC,UAAWG,EAApB,SACI,eAAC,OAAD,CAAM/d,GAAIiC,EAAV,SAAe,eAAC7C,GAAD,UAAO0E,SAK5Bka,GAAO,SAAC,GAQV,IAR4B,IAAjBC,EAAgB,EAAhBA,WAEX,EAA6BvG,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OACZoX,EAAY,IAAIlX,gBAAgBF,GAChCsM,EAAc9E,SAAS4P,EAAUlW,IAAI,UAAY,EAEnD2a,EAAI,EACFrK,EAAM,GACLqK,GAAGD,GACNpK,EAAInR,KAAKwb,GACTA,IAGDvP,IAAgBkF,EAAI,IACnB4F,EAAUC,IAAI,OAAQ/K,EAAY,GAEnCA,IAAgBkF,EAAIA,EAAI5J,OAAO,IAC9BwP,EAAUC,IAAI,OAAQ/K,EAAY,GAGtC,IAAM1M,EAAG,UAAMG,EAAN,YAAkBqX,GAG3B,OACI,gBAAC,GAAD,WAEM9K,IAAgBkF,EAAI,IAClB,eAAC8J,GAAD,UACI,eAAC,OAAD,CAAM3d,GAAIiC,EAAV,SACI,eAAC,IAAD,CAAiBpB,KAAMC,IAAe0O,UAAW,CAAEkO,OAAQ,UAItE7J,EAAIpQ,KAAI,SAAAK,GAAI,OACT,eAAC,GAAD,CAEIA,KAAMA,GADDA,MAIX6K,IAAgBkF,EAAIA,EAAI5J,OAAO,IAC7B,eAAC0T,GAAD,UACI,eAAC,OAAD,CAAM3d,GAAIiC,EAAV,SACI,eAAC,IAAD,CAAiBpB,KAAMC,IAAe0O,UAAW,CAAEkO,QAAS,cAQvES,GAAa,SAAC,GAAgB,IAAftY,EAAc,EAAdA,SAIhB+L,EAAsC/L,EAAtC+L,MAAOwM,EAA+BvY,EAA/BuY,SAAUta,EAAqB+B,EAArB/B,KAAMma,EAAepY,EAAfoY,WAEzBI,GAAgBva,EAAO,GAAKsa,EAAW,EACvCE,EAAcxa,IAASma,EACzBI,EAAezM,GAAS9N,EAAO,GAAKsa,EAAW,EAE/CC,EAAeD,EAAW,EAK9B,OACI,uCAEI,eAACP,GAAD,UACI,+BAAIQ,EAAJ,MAAqBC,EAArB,gBAAoC1M,EAApC,2BAEJ,eAAC,GAAD,CAAWqM,mBClIjBzI,GAAmB9W,IAAOmB,IAAV,wZAOhBvB,EAGAA,EAGAA,GAcAigB,GAAiB7f,IAAOmB,IAAV,gOAUE,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAGpC2gB,GAAc,WAEzB,MAA6B9G,qBAAWC,IAAhCvV,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAEZwD,EAAWqF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQS,YAC9CC,EAAQoF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQU,SAC3CgB,EAAWoC,eAejB,OAbAoC,qBAAU,WACRmT,OAAOC,SAAS,EAAG,GACnB,IAAMjF,EAAY,IAAIlX,gBAAgBF,GAClCoX,EAAUpW,IAAI,SAChBoW,EAAUC,IAAI,OAAQ,GAExB,IAAMpC,EAAUlV,EAASoB,MAAM,KAAK2E,MAAM,EAAG,GAE7C,OADArB,EAASD,GAAYyQ,EAAD,WAAcmC,KAC3B,WACL3S,EAASR,GAAY,QAEtB,CAAClE,EAAUC,EAAQyE,IAGpB,uCACE,gBAAC,GAAD,YACIjB,IACAC,EACE,eAAC3G,GAAD,UAAI2G,IAEJ,eAAC5G,EAAD,iDAGH2G,IAAaC,IACZD,EAAS8Y,KAAK1U,OAAS,EACrBpE,EAAS8Y,KAAKlb,KAAI,SAAA2B,GAAO,OACvB,eAAC,GAAD,CAA8BA,QAASA,GAArBA,EAAQ1E,OAG5B,eAACxB,EAAD,2CAIN,eAACqf,GAAD,UACG1Y,GACC,eAAC,GAAD,CAAiBA,mBCvFrB+Y,GAAYlgB,IAAOmB,IAAV,uUASTvB,GAUAugB,GAAgBngB,IAAOmB,IAAV,mHAObif,GAAWpgB,IAAOa,OAAV,iVAGQ,SAAAE,GAAK,OAAIA,EAAMsf,SAAWtf,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAMC,aAEtE,SAAA4B,GAAK,OAAIA,EAAMsf,SAAWtf,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAMI,SAE3E,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAC5B,SAAAuC,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KACtC,SAAAiC,GAAK,OAAIA,EAAMsf,SAAWtf,EAAMjD,MAAMoB,MAAMI,MAAQyB,EAAMjD,MAAMoB,MAAMG,SAG3D,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAC/B,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAEhC,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAM7BghB,GAAY,WAEvB,IAAM5Z,EAAU8F,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQA,WAC7CW,EAAOmF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQW,QAE1CyC,EAAUpD,EAAQA,QAAQqD,OAAOpB,MAAK,SAAAqB,GAAG,OAAIA,EAAIC,WACjDiL,EAAQxO,EAAQA,QAAQpB,QAAUoB,EAAQA,QAAQmD,WAAanD,EAAQA,QAAQkD,eAGnF4M,EACE7B,KADF6B,iBAGF,OACE,uCACE,gBAAC0J,GAAD,WACI,+BACE,sBAAK9c,IAAK0G,EAAQ1G,IAAKC,IAAKyG,EAAQzG,QAEtC,iCACE,eAAC7C,EAAD,UAAKkG,EAAQA,QAAQnF,OACrB,gBAACd,GAAD,4BAAQyU,KACR,gBAACzU,GAAD,4BAAQ4G,EAAK7F,KAAb,mBAAyB6F,EAAKnI,SAC9B,gBAACuB,GAAD,4BAAQ4G,EAAKC,aAGnB,gBAAC6Y,GAAD,WACE,eAACC,GAAD,CAAUjT,QAASqJ,IAAnB,SACE,eAAC9V,GAAD,yCAEF,eAAC,OAAD,CAAMY,GAAG,QAAQ6L,QAASqJ,IAA1B,SACE,eAAC4J,GAAD,UACE,eAAC1f,GAAD,kDCjFN6f,GAAevgB,IAAOmB,IAAV,iMAImB,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAGzC,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAI1C2hB,GAAa,WAEtB,IAAMhM,EAAYhI,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ8P,aAErD,OACI,qCACmB,UAAdA,GACG,gBAAC+L,GAAD,WACI,eAAC9f,GAAD,6CACA,eAAC,OAAD,CAAMa,GAAG,IAAT,SACI,eAACZ,GAAD,+C,kBCpBT,SAAS+f,GAAT,GAAgF,IAArDC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,QAASC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,gBAAiBhL,EAAM,EAANA,IAE9E2E,EAAUC,cAEhB,EAAwBxX,mBAAS,IAAjC,oBAAO1B,EAAP,KAAauf,EAAb,KACA,EAA4B7d,mBAAS,IAArC,oBAAOa,EAAP,KAAeid,EAAf,KACA,EAAgC9d,mBAAS,IAAzC,oBAAOc,EAAP,KAAiBid,EAAjB,KACA,EAAwB/d,mBAAS,IAAjC,oBAAOmQ,EAAP,KAAa6N,EAAb,KACA,EAAgChe,mBAAS,IAAzC,oBAAOie,EAAP,KAAiBC,EAAjB,KACA,EAA8Ble,mBAAS,IAAvC,oBAAOme,EAAP,KAAgBC,EAAhB,KACA,EAA4Bpe,mBAASqe,MAAM,GAAGC,KAAK,CAACne,IAAK,MAAzD,oBAAOoe,EAAP,KAAeC,EAAf,KAEA,EAA0Bxe,mBAAS,IAAnC,oBAAO2B,EAAP,KAAc8c,EAAd,KACA,EAA4Bze,mBAAS,IAArC,oBAAO+B,EAAP,KAAe2c,EAAf,KAEA,EAAgC1e,mBAAS,IAAzC,oBAAOoG,EAAP,KAAiBuY,EAAjB,KACA,EAAwB3e,oBAAS,GAAjC,oBAAO4e,EAAP,KAAaC,EAAb,KACA,EAA4B7e,oBAAS,GAArC,qBAAO8e,GAAP,MAAeC,GAAf,MACA,GAA0C/e,mBAAS,GAAnD,sBAAOgf,GAAP,MAAsBC,GAAtB,MACA,GAAkCjf,mBAAS,GAA3C,sBAAOkf,GAAP,MAAkBC,GAAlB,MAEM1b,GAAU8F,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQA,WAC7C8B,GAAegE,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ8D,gBAClDJ,GAAWoC,eAEjBoC,qBAAU,WACFlG,KACJoa,EAAQpa,GAAQA,QAAQnF,MACxBwf,EAAUra,GAAQA,QAAQ5C,QAC1Bkd,EAAYta,GAAQA,QAAQ8C,SAASjI,MACrC0f,EAAQva,GAAQA,QAAQ0M,MACxB+N,EAAYza,GAAQA,QAAQwa,UAC5BG,EAAW3a,GAAQA,QAAQ0a,SAC3BK,EAAUH,MAAM,GAAGC,KAAK,CAACne,IAAK,KAAK2B,KAAI,SAAC/B,EAAO8H,GAAR,OAAcpE,GAAQA,QAAQqD,OAAOe,GAAvB,6BAAgC9H,GAAhC,IAAuChB,GAAI0E,GAAQA,QAAQqD,OAAOe,GAAG9I,GAAIoB,IAAKsD,GAAQA,QAAQqD,OAAOe,GAAG1H,MAAOJ,MACpK0e,EAAShb,GAAQA,QAAQA,GAAQA,QAAQ8C,SAASD,OAAOxE,KAAI,SAAAvD,GAAI,OAAIA,EAAK4W,MAAL,6BAAiB5W,GAAjB,IAAuB4W,MAAO5W,EAAK4W,MAAMtT,MAAM,OAAQtD,MAC5HmgB,EAAUjb,GAAQA,QAAQ2b,WAC3B,CAAC3b,KA4IJ,SAAS4b,KACL,SAAI1d,EAAMsI,OAAM,SAAA1L,GAAI,OAAIA,EAAKA,UAAUwD,EAAOkI,OAAM,SAAAhO,GAAK,OAAIA,EAAMqC,WAChE,IAAIghB,IAAI3d,EAAMG,KAAI,SAAAvD,GAAI,OAAIA,EAAKA,SAAOA,OAASoD,EAAM2G,QACpDnD,GAASc,GAAgB,0CAClB,GAER,IAAIqZ,IAAIvd,EAAOD,KAAI,SAAA7F,GAAK,OAAIA,EAAMqC,SAAOC,OAASwD,EAAOuG,SACxDnD,GAASc,GAAgB,0CAClB,IAKf,SAASsZ,KACL,OAAQ9B,GACJ,KAAK,EACD,OAAOG,EAAgB,6BAChBD,GADe,IAElBrf,OAAMuC,SAAQC,WAAUqP,OAAM8N,WAAUE,UACxCI,OAAQA,EACHzY,QAAO,SAAA/F,GAAK,OAAIA,EAAMI,OACtB2B,KAAI,SAAC/B,EAAOgG,GAAR,OAAkBhG,EAAMI,KAAQ,CACjCA,IAAKJ,EAAMI,IACXC,IAAI,GAAD,OAAK9B,EAAL,aAAcyH,EAAM,OAE/BO,MAAO,CAAC,OAAQ,SAAU,OAAQ,YAAa,SAAS6S,SAASrY,GAAY,WAA0B,YAAbA,EAAyB,cAA6B,WAAbA,EAAwB,aAAe,kBAGlL,KAAK,EACD,QAAGue,OACCzB,EAAgB,6BACTD,GADQ,IAEXhc,QAAOI,aAEJ,GAKf,KAAK,EASD,OARA6b,EAAgB,6BACTD,GADQ,IAEXvX,WACAhE,MAAOwc,EACPvc,QAASyc,GACTnY,eAAgBqY,GAChBpY,WAAYsY,OAET,GAwCnB,MAAO,CACH5gB,OACAuC,SACAC,WACAqP,OACA8N,WACAE,UACAI,SAEA5c,QACA8c,WACA1c,SACA2c,YAEAtY,WACAuY,cAEAC,OACAC,UACAC,UACAC,aACAC,iBACAC,oBACAC,aACAC,gBAEAK,kBA3PsB,SAAAnc,GACtB,OAAQA,EAAE2E,OAAO1J,MACb,IAAK,OAED,OADGiH,IAAcJ,GAASc,GAAgB,KACnC4X,EAAQxa,EAAE2E,OAAOC,OAE5B,IAAK,SACD,GAAmB,SAAhB5E,EAAE2E,OAAOjJ,GAAe,OAAO+e,EAAU,KAC5C,GAAmB,WAAhBza,EAAE2E,OAAOjJ,GAAiB,OAAO+e,EAAU,KAC9C,MAEJ,IAAK,WAAY,OAAOC,EAAY1a,EAAE2E,OAAOC,OAC7C,IAAK,OAAQ,OAAO+V,EAAQ3a,EAAE2E,OAAOC,OACrC,IAAK,WAAY,OAAOiW,EAAY7a,EAAE2E,OAAOC,OAC7C,IAAK,UAAW,OAAOmW,EAAW/a,EAAE2E,OAAOC,OAC3C,IAAK,QACD,OAAOuW,EAAUD,EAAOzc,KAAI,SAAC/B,EAAOgG,GAAR,OAAkBA,IAAUmC,SAAS7E,EAAE2E,OAAOjJ,GAAGyH,OAAO,IAAtC,6BAAgDzG,GAAhD,IAAuDI,IAAKkD,EAAE2E,OAAOC,QAASlI,MAEhI,IAAK,OAED,OADGsD,EAAE2E,OAAOjJ,GAAGoa,SAAS,SAA4B,yCAAjB5T,IAA2BJ,GAASc,GAAgB,KACpF5C,EAAE2E,OAAOjJ,GAAGoa,SAAS,SACbsF,EAAS9c,EAAMG,KAAI,SAACvD,EAAMsJ,GAAP,OAAaA,IAAMK,SAAS7E,EAAE2E,OAAOjJ,GAAGyH,OAAO,IAAlC,6BAA4CjI,GAA5C,IAAkD4W,MAAO5W,EAAK4W,MAAMrT,KAAI,SAACuF,EAAGQ,GAAJ,OAAUA,IAAMK,SAAS7E,EAAE2E,OAAOjJ,GAAG8C,MAAM,KAAK,IAAMwB,EAAE2E,OAAOC,MAAQZ,OAAM9I,MAEzLkgB,EAAS9c,EAAMG,KAAI,SAACvD,EAAMsJ,GAAP,OAAaA,IAAMK,SAAS7E,EAAE2E,OAAOjJ,GAAGyH,OAAO,IAAlC,6BAA4CjI,GAA5C,mBAAmD8E,EAAE2E,OAAOjJ,GAAGyH,MAAM,GAAI,GAAKnD,EAAE2E,OAAOC,MAAMwX,gBAAiBlhB,MAEzJ,IAAK,QAED,OADG8E,EAAE2E,OAAOjJ,GAAGoa,SAAS,SAA4B,yCAAjB5T,IAA2BJ,GAASc,GAAgB,KAChFyY,EAAU3c,EAAOD,KAAI,SAAC7F,EAAO4L,GAAR,OAAcA,IAAMK,SAAS7E,EAAE2E,OAAOjJ,GAAGyH,OAAO,IAAlC,6BAA4CvK,GAA5C,mBAAoDoH,EAAE2E,OAAOjJ,GAAG8C,MAAM,KAAK,GAAKwB,EAAE2E,OAAOC,MAAMyX,gBAAiBzjB,MAE9J,IAAK,UACD,OAAO0iB,EAAYvY,EAAStE,KAAI,SAACuE,EAASwB,GAAV,OAAgBA,IAAMK,SAAS7E,EAAE2E,OAAOjJ,GAAGyH,OAAO,IAAlC,6BAA4CH,GAA5C,mBAAsDhD,EAAE2E,OAAOjJ,GAAG8C,MAAM,KAAK,GAAKwB,EAAE2E,OAAOC,QAAS5B,MAExJ,IAAK,QAAS,OAAOwY,EAAQxb,EAAE2E,OAAO8B,SACtC,IAAK,UAAW,OAAOiV,GAAU1b,EAAE2E,OAAO8B,SAC1C,IAAK,iBAAkB,OAAOmV,GAAiB5b,EAAE2E,OAAOC,OACxD,IAAK,aAAc,OAAOkX,GAAa9b,EAAE2E,OAAOC,SAyNpD0X,cApNkB,SAAAtc,GAClB,OAAQoa,GACJ,KAAK,EAED,GADAX,OAAOC,SAAS,EAAG,IACfze,IAASuC,IAAWC,IAAayd,EAAO,GAAGpe,IAAK,OACpD,OlC4MS,SAAA+R,GAErB,IAAM5P,EAAQ,IAAI1B,gBAAgBsR,GAElC,OAAO3P,MAAMjC,GAAG,0BAAsBgC,IACrCE,MAAK,SAAAC,GACF,IAAIG,EAAM,KACV,GAAmB,MAAfH,EAAII,OACJD,EAAM,2CACH,IAAmB,MAAfH,EAAII,OAGX,MAAM,IAAIC,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAFNH,EAAM,uCAKV,OADAF,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,YkCjOXyc,CAAiB,CAAC,CAAC,OAAQthB,KAAQkE,MAAK,SAAA4C,GAC3C,GAAGA,EAAOlC,GAAI,OAAOiC,GAASc,GAAgB,yCAC9CsZ,KACA7B,EAAQD,EAAK,MAGrB,KAAK,EACoB,SAAlBpa,EAAE2E,OAAO1J,OACLihB,MACC7B,EAAQD,EAAK,GACbX,OAAOC,SAAS,EAAG,MAEnBD,OAAOC,SAAS,EAAG,IAGN,SAAlB1Z,EAAE2E,OAAO1J,OACRsf,EAAgB,IAChBF,EAAQD,EAAK,GACbX,OAAOC,SAAS,EAAG,GACnB0B,EAAS,KAEb,MAEJ,KAAK,EACD,IAAMoB,EAAW,gBAAOlC,GAKxB,cAJOkC,EAAYle,aACZke,EAAY9d,OACnB6b,EAAgBiC,GAChBnC,EAAQD,EAAK,GACNX,OAAOC,SAAS,EAAG,KAmLlC+C,iBA7KqB,SAAAzc,GAErB,OADAA,EAAE6K,iBACM7K,EAAE2E,OAAOjJ,IACb,IAAK,OACD,IAAMuH,EAAQ7C,GAAQA,QAAQ8C,SAASD,MAAME,MAAM,GAAI,GACvD,OAAO6Y,KACH7b,GAAiBC,GAAQA,QAAQ1E,GAAI,CACjCT,OACAuC,SACAC,WACAqP,OACA8N,WACAE,UACAI,SACA5c,QACAI,SACAuE,UACD9D,MAAK,SAAA4C,GACJ,IAAKA,EAAOlC,GAER,OADAiC,GAASc,GAAgBb,EAAOjC,UACzByP,EAAI/I,QAAQkW,iBAEvB5a,GAASc,GAAgB,KACzB1J,MAAM,6BACNgb,EAAQyI,QAGZpN,EAAI/I,QAAQkW,iBAGpB,IAAK,WAED,OADArd,QAAQC,IAAIgb,GACL4B,MlCpBD,SAAA9b,GAClB,OAAOlB,MAAM,GAAD,OAAIjC,GAAJ,aAAoB,CAC5BoD,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBnI,KAAMoI,KAAKC,UAAUJ,KAExBjB,MAAK,SAAAC,GACF,IAAIG,EAAM,KACV,GAAmB,MAAfH,EAAII,OACJD,EAAM,2CACH,IAAmB,MAAfH,EAAII,OAGX,MAAM,IAAIC,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAFNH,EAAM,uCAKV,OADAF,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,YkCJM8c,CAActC,GACrCnb,MAAK,SAAA4C,GACF,IAAKA,EAAOlC,GAAI,CACZ,IAAM2c,EAAW,gBAAOlC,GAUxB,OATY,IAATF,WACQoC,EAAYzZ,gBACZyZ,EAAYzd,aACZyd,EAAYxd,eACZwd,EAAYlZ,sBACZkZ,EAAYjZ,YAEvBgX,EAAgBiC,GAChBtjB,MAAM6I,EAAOjC,SACN2Z,OAAOC,SAAS,EAAG,GAE9Ba,EAAgB,IAChBzY,GAASc,GAAgB,KACzB1J,MAAM,6BACNgb,EAAQxW,KAAK,mCA4HzBse,aACAE,eACAW,iBAjEqB,SAAA5Z,GAAK,OAAI,SAAAjD,GAC9B,OAAQA,EAAE2E,OAAO1J,MACb,IAAK,OACmB,yCAAjBiH,IAA2BJ,GAASc,GAAgB,KACvD,IAAMka,EAAM,CAAC5hB,KAAM,IAInB,OAHAkd,OAAOC,KAAK7G,GAAQvO,IAAQxE,KAAI,SAAAse,GAAG,OAC/BD,EAAIC,GAAgB,UAARA,EAAkB,CAAC,EAAG,GAAK,KAEpC3B,EAAS,GAAD,oBAAK9c,GAAL,CAAYwe,KAE/B,IAAK,QAED,MADoB,yCAAjB5a,IAA2BJ,GAASc,GAAgB,KAChDyY,EAAU,GAAD,oBAAK3c,GAAL,CAAa,CAACzD,KAAM,GAAI+hB,KAAM,iBAsDtDC,oBAhDwB,SAAAva,GAAK,OAAI,SAAA1C,GACjC,OAAQA,EAAEkd,cAAcjiB,MACpB,IAAK,OACD,GAAoB,IAAjBqD,EAAM2G,OAAc,OAEvB,MADoB,yCAAjB/C,IAA2BJ,GAASc,GAAgB,KAChDwY,EAAS9c,EAAMmE,QAAO,SAACvH,EAAMsJ,GAAP,OAAaA,IAAM9B,MAEpD,IAAK,QACD,GAAqB,IAAlBhE,EAAOuG,OAAc,OAExB,MADoB,yCAAjB/C,IAA2BJ,GAASc,GAAgB,KAChDyY,EAAU3c,EAAO+D,QAAO,SAACvH,EAAMsJ,GAAP,OAAaA,IAAM9B,UC5PlE,I,SAAMya,GAAgBzjB,IAAOmB,IAAV,sKAIb,SAAAJ,GAAK,OAAKA,EAAMC,SAAW,mBAK3B0iB,GAAqB1jB,YAAOyjB,GAAPzjB,CAAH,4BAClB2jB,GAAsB3jB,YAAOyjB,GAAPzjB,CAAH,0HAEP,SAAAe,GAAK,OAAIA,EAAM6iB,OAAS,GAAqB,IAAhB7iB,EAAM6iB,MAAc,SAAW,UAIxEC,GAAqB7jB,YAAOyjB,GAAPzjB,CAAH,gGACN,SAAAe,GAAK,OAAIA,EAAM6iB,OAAS,GAAqB,IAAhB7iB,EAAM6iB,MAAc,SAAW,UAKxEE,GAAgB9jB,IAAO+jB,KAAV,yJAUbC,GAAgBhkB,IAAOmB,IAAV,4BACb8iB,GAAiBjkB,IAAOmB,IAAV,4BAGd+iB,GAAWlkB,IAAOmB,IAAV,6TACRjB,EAAUG,MAEQ,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,QAS9BY,EAAU3B,IAId4lB,GAAWnkB,IAAOmB,IAAV,sGACRjB,EAAU3B,IAEH,SAAAwC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACvB,SAAA4B,GAAK,OAAIA,EAAMqjB,QAAU,WAGpCC,GAAcrkB,IAAOiM,GAAV,oXAUP/L,EAAU5B,IACH,SAAAyC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,YAEtC+kB,IACsB,SAAAnjB,GAAK,OAAIA,EAAMC,SAAWD,EAAMjD,MAAMoB,MAAMG,QAElE8kB,IACW,SAAApjB,GAAK,OAAIA,EAAMC,SAAWD,EAAMjD,MAAMoB,MAAMG,SAIvDilB,GAAatkB,IAAOmB,IAAV,6uBAIVjB,EAAUE,EAMNF,EAAUG,KAMEH,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,QAa9CU,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAItCiX,GAAezW,IAAOmB,IAAV,mKASZojB,GAAYvkB,YAAOc,GAAPd,CAAH,oFACTE,EAAUC,IACG,SAAAY,GAAK,OAAIA,EAAMjD,MAAMa,WAAWI,KAI7CylB,GAAWxkB,IAAOmB,IAAV,mSASO,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASW,aAQ7C+lB,GAAazkB,IAAOmB,IAAV,4IASVujB,GAAa1kB,IAAOmB,IAAV,sJASVwjB,GAAY3kB,IAAOmB,IAAV,obAmBU,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASQ,MAKjDqmB,GAAa5kB,IAAOmB,IAAV,0YAiBS,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASQ,MAKjDsmB,GAAe7kB,IAAOmB,IAAV,sKAWZ2jB,GAAa9kB,IAAOmB,IAAV,sHAQH4jB,GAAkB,SAAC,GAA+F,IAA9FrE,EAA6F,EAA7FA,KAAMnf,EAAuF,EAAvFA,KAAMuC,EAAiF,EAAjFA,OAAQC,EAAyE,EAAzEA,SAAUqP,EAA+D,EAA/DA,KAAM8N,EAAyD,EAAzDA,SAAUE,EAA+C,EAA/CA,QAASI,EAAsC,EAAtCA,OAAeiB,GAAuB,EAA9Brb,MAA8B,EAAvBqb,mBAE7Fja,EAAegE,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ8D,gBAExD,OACI,uCACI,gBAAC8b,GAAD,WACI,wBAAOpiB,QAAQ,OAAf,0BACA,wBACIgJ,MAAO3J,EACPuQ,SAAU2Q,EACVxgB,KAAK,OACLV,KAAK,OACLS,GAAG,OACHgjB,SAAUtE,EAAO,EACjBuE,UAAQ,IAEZ,gCAAwB,yCAAjBzc,GAA6BA,OAExC,gBAAC8b,GAAD,WACI,kDACA,gBAACG,GAAD,WACI,wBACI1X,QAAoB,MAAXjJ,EACTgO,SAAU2Q,EACVxgB,KAAK,QACLV,KAAK,SACLS,GAAG,OACHgjB,SAAUtE,EAAO,EACjBuE,UAAQ,IAEZ,wBAAO/iB,QAAQ,OAAf,0BACA,wBACI6K,QAAoB,MAAXjJ,EACTgO,SAAU2Q,EACVxgB,KAAK,QACLV,KAAK,SACLS,GAAG,SACHgjB,SAAUtE,EAAO,EACjBuE,UAAQ,IAEZ,wBAAO/iB,QAAQ,SAAf,0BACA,gCAGR,gBAACoiB,GAAD,WACI,wBAAOpiB,QAAQ,WAAf,0BACA,0BACIgJ,MAAOnH,EACP+N,SAAU2Q,EACVlhB,KAAK,WACLS,GAAG,WACHgjB,SAAmB,IAATtE,EACVuE,UAAQ,EAAC3b,QAAQ,IANrB,UAQI,yBAAQ4B,MAAM,GAAd,mBACA,yBAAQA,MAAM,OAAd,gCACA,yBAAQA,MAAM,SAAd,gCACA,yBAAQA,MAAM,OAAd,+CACA,yBAAQA,MAAM,YAAd,gCACA,yBAAQA,MAAM,QAAd,gCACA,yBAAQA,MAAM,UAAd,gCACA,yBAAQA,MAAM,SAAd,gCACA,yBAAQA,MAAM,UAAd,mCAEJ,6BAEJ,gBAACoZ,GAAD,WACI,wBAAOpiB,QAAQ,OAAf,0BACA,2BACIgJ,MAAOkI,EACPtB,SAAU2Q,EACVlhB,KAAK,OACLS,GAAG,OACHgjB,SAAUtE,EAAO,EACjBT,KAAK,SAGb,gBAACqE,GAAD,WACI,wBAAOpiB,QAAQ,WAAf,0BACA,2BACIgJ,MAAOgW,EACPpP,SAAU2Q,EACVlhB,KAAK,WACLS,GAAG,WACHgjB,SAAUtE,EAAO,EACjBT,KAAK,SAGb,gBAACqE,GAAD,WACI,wBAAOpiB,QAAQ,UAAf,sCACA,2BACIgJ,MAAOkW,EACPtP,SAAU2Q,EACVlhB,KAAK,UACLS,GAAG,UACHgjB,SAAUtE,EAAO,EACjBT,KAAK,SAGb,gBAACqE,GAAD,WACI,wBAAOpiB,QAAQ,QAAf,iEACCsf,EAAOzc,KAAI,SAAC/B,EAAO8H,GAAR,OACR,gBAAC0Z,GAAD,WACI,wBACItZ,MAAOlI,EAAMI,IACb8hB,YAAcpa,EAAa,iBAAT,iBAClBgH,SAAU2Q,EACVxgB,KAAK,OACLV,KAAK,QACLS,GAAE,gBAAW8I,GACbka,SAAUtE,EAAO,EACjBuE,SAAgB,IAANna,IAEd,eAACyZ,GAAD,CAAWtjB,QAAM,EAACD,QAAkB,IAAT0f,GAAuB,IAATA,EAAzC,sCACA,4BAZW5V,aAoB7Bqa,GAAY,SAAC,GAAoD,IAAnDzE,EAAkD,EAAlDA,KAEhB,EAUID,GAAgB,CAACC,OAAMC,QAZuC,EAA5CA,QAYcC,aAZ8B,EAAnCA,aAYmBC,gBAZgB,EAArBA,kBAGzCtf,EADJ,EACIA,KACAuC,EAFJ,EAEIA,OACAC,EAHJ,EAGIA,SACAqP,EAJJ,EAIIA,KACA8N,EALJ,EAKIA,SACAE,EANJ,EAMIA,QACAI,EAPJ,EAOIA,OACAiB,EARJ,EAQIA,kBACAG,EATJ,EASIA,cAIJ,OACI,gBAACc,GAAD,CAAoB1iB,QAAkB,IAAT0f,EAA7B,UACI,gBAAC2D,GAAD,CAAarjB,SAAO,EAApB,UACI,gBAACkjB,GAAD,kBAEI,uCAEJ,eAACC,GAAD,CAAUC,QAAM,EAAhB,qDAIJ,kCACI,eAAC,GAAD,CAAsB1D,OAAMnf,OAAMuC,SAAQC,WAAUqP,OAAM8N,WAAUE,UAASI,SAAQiB,sBACrF,eAAC,GAAD,UACI,eAAC3hB,GAAD,CAASmB,KAAK,SAASV,KAAK,OAAO4L,QAASyV,EAAe5hB,QAAkB,IAAT0f,EAAYsE,SAAmB,IAATtE,EAA1F,yCAOP0E,GAAmB,SAAC,GAAuH,IAAtH1E,EAAqH,EAArHA,KAAMnX,EAA+G,EAA/GA,MAAO3E,EAAwG,EAAxGA,MAAOI,EAAiG,EAAjGA,OAAQyd,EAAyF,EAAzFA,kBAAmBU,EAAsE,EAAtEA,iBAAkBI,EAAoD,EAApDA,oBAAqB8B,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,aAE3H9c,EAAegE,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ8D,gBAExD,OACI,uCACI,gBAAC8b,GAAD,WACI,gBAACI,GAAD,WACI,kDACW,iBAAVnb,GACG,eAACgb,GAAD,CAAWtiB,KAAK,SAASkL,QAASgW,EAAiB5Z,GAAQhI,KAAK,OAAON,QAAM,EAACD,QAAkB,IAAT0f,GAAuB,IAATA,EAArG,yCAGH9b,EAAM2G,OAAS,EACZhC,GAASuO,GAAQvO,GACb3E,EAAMG,KAAI,SAACvD,EAAMsJ,GAAP,OACN,gBAAC6Z,GAAD,WACI,iCACI,wBAAOziB,QAAO,eAAU4I,GAAxB,2BACA,wBACII,MAAO1J,EAAKA,KACZsQ,SAAU2Q,EACVxgB,KAAK,OACLV,KAAK,OACLS,GAAE,eAAU8I,GACZtJ,KAAK,IACLwjB,SAAmB,IAATtE,IAAe2E,EAAcva,EAAIua,EAAc,GACzDJ,UAAQ,IAEZ,gCAAwB,yCAAjBzc,GAA6BA,OAEvCkW,OACI6G,QAAQzN,GAAQvO,IAChBxE,KAAI,SAACsC,EAAMme,GAAP,OACD,iCACI,yBAAOtjB,QAAO,UAAKmF,EAAK,GAAV,YAAgByD,GAA9B,UAAoCzD,EAAK,GAAzC,OACa,UAAZA,EAAK,GACF,uCACI,wBACI6D,MAAO1J,EAAK6F,EAAK,IAAI,GACrByK,SAAU2Q,EACVxgB,KAAK,SACLV,KAAK,OACLS,GAAE,UAAKqF,EAAK,GAAV,cAAkByD,GACpBsO,IAAI,IACJ4L,SAAmB,IAATtE,GAAuB,IAATA,IARhC,IAUI,wBACIxV,MAAO1J,EAAK6F,EAAK,IAAI,GACrByK,SAAU2Q,EACVxgB,KAAK,SACLV,KAAK,OACLS,GAAE,UAAKqF,EAAK,GAAV,cAAkByD,GACpBsO,IAAI,IACJ4L,SAAmB,IAATtE,GAAuB,IAATA,OAIhC,wBACIxV,MAAO1J,EAAK6F,EAAK,IACjByK,SAAU2Q,EACVxgB,KAAK,SACLV,KAAK,OACLS,GAAE,UAAKqF,EAAK,GAAV,YAAgByD,GAClBsO,IAAI,IACJ4L,SAAmB,IAATtE,GAAuB,IAATA,MA/B1B8E,MAqClB,eAAC5kB,GAAD,CACIuM,QAASoW,EAAoBzY,GAC7B7I,KAAK,SACLV,KAAK,OACLyjB,SAAmB,IAATtE,IAAe2E,EAAcva,EAAIua,EAAc,GAJ7D,SAMI,eAAC,IAAD,CAAiBljB,KAAMsjB,UA7Df3a,MAiEpB,eAACrK,GAAD,uCAGJ,qCACK6gB,MAAM,GAAGC,KAAK,IAAIxc,KAAI,kBACnB,eAAC4f,GAAD,UACI,iCACI,mDACA,wBACI1iB,KAAK,OACLV,KAAK,OACLC,KAAK,IACLwjB,UAAQ,EACRC,UAAQ,iBAQxC,gBAACX,GAAD,WACI,gBAACI,GAAD,WACI,kDACA,eAACH,GAAD,CAAWtiB,KAAK,SAASkL,QAASgW,IAAoB5hB,KAAK,QAAQN,QAAM,EAACD,QAAkB,IAAT0f,GAAuB,IAATA,EAAjG,yCAEH1b,GAAUA,EAAOD,KAAI,SAAC7F,EAAO4L,GAAR,OAClB,gBAAC8Z,GAAD,WACI,iCACI,wBAAO1iB,QAAO,eAAU4I,GAAxB,2BACA,wBACII,MAAOhM,EAAMqC,KACbuQ,SAAU2Q,EACVxgB,KAAK,OACLV,KAAK,QACLS,GAAE,eAAU8I,GACZtJ,KAAK,KACLwjB,SAAmB,IAATtE,IAAe4E,EAAexa,EAAIwa,EAAe,GAC3DL,UAAQ,IAEZ,gCAAwB,yCAAjBzc,GAA6BA,OAExC,iCACI,wBAAOtG,QAAO,eAAU4I,GAAxB,2BACA,wBACII,MAAOhM,EAAMokB,KACbxR,SAAU2Q,EACVxgB,KAAK,QACLV,KAAK,QACLS,GAAE,eAAU8I,GACZka,SAAmB,IAATtE,GAAuB,IAATA,OAGhC,eAAC9f,GAAD,CACIuM,QAASoW,EAAoBzY,GAC7B7I,KAAK,SACLV,KAAK,QACLyjB,SAAmB,IAATtE,IAAe4E,EAAexa,EAAIwa,EAAe,GAJ/D,SAMI,eAAC,IAAD,CAAiBnjB,KAAMsjB,UAhCd3a,aAyC/B4a,GAAa,SAAC,GAAoD,IAAnDhF,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,gBAE9C,EAWIJ,GAAgB,CAACC,OAAMC,UAASC,eAAcC,oBAV9Cjc,EADJ,EACIA,MACA8c,EAFJ,EAEIA,SACA1c,EAHJ,EAGIA,OACA2c,EAJJ,EAIIA,UACAva,EALJ,EAKIA,MACAqb,EANJ,EAMIA,kBACAG,EAPJ,EAOIA,cACAG,EARJ,EAQIA,iBACAI,EATJ,EASIA,iBACAI,EAVJ,EAUIA,oBAmBJ,OAfA3W,qBAAU,WACN,GAAY,IAAT8T,EAAH,CACA,GAA0B,iBAAvBE,EAAarX,MACZmY,EAAS,CAAC,CAAClgB,KAAM,aACd,CACH,IAAI2T,EAAMmM,MAAM,GAAGC,KAAK,CAAC/f,KAAM,KAC/Bkd,OAAOC,KAAK7G,GAAQ8I,EAAarX,QAAQxE,KAAI,SAAAse,GAAG,OAC5ClO,EAAIpQ,KAAI,SAAAuF,GAAC,OAAIA,EAAE+Y,GAAgB,UAARA,EAAkB,CAAC,EAAG,GAAK,QAEtD3B,EAASvM,GAEbwM,EAAUL,MAAM,GAAGC,KAAK,CAAChgB,KAAM,GAAI+hB,KAAM,gBAC1C,CAAC1C,EAAarX,MAAOmX,EAAMgB,EAAUC,IAIpC,gBAACgC,GAAD,CAAqB3iB,QAAkB,IAAT0f,EAAYkD,MAAOlD,EAAjD,UACI,gBAAC2D,GAAD,CAAarjB,SAAO,EAApB,UACI,gBAACkjB,GAAD,kBAEI,uCAEJ,eAACC,GAAD,CAAUC,QAAM,EAAhB,2DAKA,wBAAMpiB,GAAG,YAAY2jB,SAAU5C,EAA/B,UACI,eAAC,GAAD,CACIrC,KAAMA,EACNnX,MAAOqX,EAAarX,OAAS,KAC7B3E,MAAOA,EACPI,OAAQA,EACRoC,MAAOA,EACPqb,kBAAmBA,EACnBU,iBAAkBA,EAClBI,oBAAqBA,IAEzB,gBAAC,GAAD,WACI,eAACziB,GAAD,CAASmB,KAAK,SAASV,KAAK,OAAO4L,QAASyV,EAAe5hB,QAAkB,IAAT0f,EAAYsE,SAAmB,IAATtE,EAA1F,gCACA,eAAC5f,GAAD,CAASmB,KAAK,SAASV,KAAK,OAAO4L,QAASyV,EAAe5hB,QAAkB,IAAT0f,EAAYsE,SAAmB,IAATtE,EAA1F,gCACA,eAAC5f,GAAD,CAASmB,KAAK,SAASjB,QAAkB,IAAT0f,EAAYsE,SAAmB,IAATtE,EAAtD,sDAQlBkF,GAAkB,SAAC,GAAiF,IAAhFlF,EAA+E,EAA/EA,KAAMrX,EAAyE,EAAzEA,SAAUwY,EAA+D,EAA/DA,KAAME,EAAyD,EAAzDA,OAAQE,EAAiD,EAAjDA,cAAeE,EAAkC,EAAlCA,UAAWM,EAAuB,EAAvBA,kBAC9E,OACI,uCACI,gBAAC6B,GAAD,WACI,8DACCjb,GAAYA,EAAStE,KAAI,SAACuE,EAASwB,GAAV,OACtB,gBAAC+Z,GAAD,4BACSvb,EAAQ9H,KADjB,mBAC6B8H,EAAQpK,MADrC,IAEI,wBAAOgD,QAAO,gBAAW4I,GAAzB,4BACA,wBACII,MAAO5B,EAAQK,MACfmI,SAAU2Q,EACVxgB,KAAK,SACLV,KAAK,UACLS,GAAE,gBAAW8I,GACbsO,IAAI,IACJ4L,SAAmB,IAATtE,MAVC5V,SAe3B,gBAACwZ,GAAD,WACI,8DACA,gBAACG,GAAD,WACI,wBACI1X,QAAS8U,EACT/P,SAAU2Q,EACVxgB,KAAK,WACLV,KAAK,QACLS,GAAG,QACHgjB,SAAmB,IAATtE,IAEd,wBAAOxe,QAAQ,QAAf,gCACA,wBACIgJ,MAAO6W,EACPjQ,SAAU2Q,EACVxgB,KAAK,WACLV,KAAK,UACLS,GAAG,UACHgjB,SAAmB,IAATtE,IAEd,wBAAOxe,QAAQ,UAAf,mCAEJ,gBAAC4iB,GAAD,WACQ,wBAAO5iB,QAAQ,iBAAf,2BACA,wBACIgJ,MAAO+W,EACPnQ,SAAU2Q,EACVxgB,KAAK,SACLV,KAAK,iBACLS,GAAG,iBACHoX,IAAI,IACJ4L,SAAmB,IAATtE,IAEd,wBAAOxe,QAAQ,iBAAf,2BACA,wBACIgJ,MAAOiX,EACPrQ,SAAU2Q,EACVxgB,KAAK,SACLV,KAAK,aACLS,GAAG,aACHoX,IAAI,IACJ4L,SAAmB,IAATtE,cAQhCmF,GAAY,SAAC,GAAoD,IAAnDnF,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,gBAE7C,EAeIJ,GAAgB,CAACC,OAAMC,UAASC,eAAcC,oBAd9CxX,EADJ,EACIA,SACAuY,EAFJ,EAEIA,YACAC,EAHJ,EAGIA,KACAC,EAJJ,EAIIA,QACAC,EALJ,EAKIA,OACAC,EANJ,EAMIA,UACAC,EAPJ,EAOIA,cACAC,EARJ,EAQIA,iBACAC,EATJ,EASIA,UACAC,EAVJ,EAUIA,aACAK,EAXJ,EAWIA,kBACAG,EAZJ,EAYIA,cACAG,EAbJ,EAaIA,iBACAP,EAdJ,EAcIA,YAmBJ,OAfA5V,qBAAU,WACN,GAAY,IAAT8T,GACCE,EAAahc,OAAUgc,EAAa5b,OAAxC,CACA,IAAImQ,EAAM,GACVyL,EAAahc,MAAMG,KAAI,SAAAvD,GAAI,OAAIof,EAAa5b,OAAOD,KAAI,SAAA7F,GAAK,OACxDiW,EAAInR,KAAK,CAACxC,KAAMA,EAAKA,KAAMtC,MAAOA,EAAMqC,KAAMoI,MAAO,UAEzDiY,EAAYzM,GACZ2M,GAAQ,GACRE,GAAU,GACVE,EAAiB,GACjBE,EAAa,MACd,CAAC1B,EAAME,EAAcgB,EAAaE,EAASE,EAAWE,EAAkBE,IAIvE,gBAACyB,GAAD,CAAoB7iB,QAAkB,IAAT0f,EAAYkD,MAAOlD,EAAhD,UACI,gBAAC2D,GAAD,CAAarjB,SAAO,EAApB,UACI,gBAACkjB,GAAD,kBAEI,uCAEJ,eAACC,GAAD,CAAUC,QAAM,EAAhB,uEAIH/a,EAASkC,OAAS,GACf,wBAAMvJ,GAAG,WAAW2jB,SAAU5C,EAA9B,UACI,eAAC,GAAD,CAAsBrC,OAAMrX,WAAUwY,OAAME,SAAQE,gBAAeE,YAAWM,sBAC9E,gBAAC,GAAD,WACI,eAAC3hB,GAAD,CAASmB,KAAK,SAASV,KAAK,OAAO4L,QAASyV,EAAe5hB,QAAkB,IAAT0f,EAAYsE,SAAmB,IAATtE,EAA1F,gCACA,eAAC5f,GAAD,CAASmB,KAAK,SAASjB,QAAkB,IAAT0f,EAAYsE,SAAmB,IAATtE,EAAtD,4CACA,eAAC5f,GAAD,CAASqM,QAASqV,EAAavgB,KAAK,SAASjB,QAAkB,IAAT0f,EAAYsE,SAAmB,IAATtE,EAA5E,oCAQT,SAASoF,KAEpB,IAAMtL,EAAUC,cAEhB,EAAwBxX,mBAAS,GAAjC,oBAAOyd,EAAP,KAAaC,EAAb,KACA,EAAwC1d,mBAAS,IAAjD,oBAAO2d,EAAP,KAAqBC,EAArB,KAYA,OAVAjU,qBAAU,WACN,IAAMmZ,EAAUvL,EAAQwL,OAAM,WAC1B,OAAOjG,OAAOkG,QAAQ,oGAG1B,OAAO,WACHF,QAKJ,gBAACjC,GAAD,WACI,eAACE,GAAD,UACI,eAAC,GAAD,CAAgBtD,OAAMC,UAASC,eAAcC,sBAEjD,gBAACoD,GAAD,WACI,eAAC,GAAD,CAAiBvD,OAAMC,UAASC,eAAcC,oBAC9C,eAAC,GAAD,CAAgBH,OAAMC,UAASC,eAAcC,0BCpvB7D,I,8BAAMqF,GAAiBlmB,IAAOmB,IAAV,kpBAIQ,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,YAEzCe,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SACZ,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACxB,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAQ9B,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MASzD4X,GAAezW,IAAOmB,IAAV,mKASZof,GAAevgB,IAAOmB,IAAV,0OAcLglB,GAAY,WAErB,IAAMzf,EAAU8F,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQA,WAC7C6C,EAAQ7C,EAAUA,EAAQA,QAAQ8C,SAASD,MAAQ,KAEzD,OACI,eAAC2c,GAAD,UACKxf,GAAkC,iBAAvB6C,EAAME,MAAM,GAAI,GACxB,eAAChJ,GAAD,gDAEA,mCACI,iCACI,gCACI,wBACCiG,EACGgY,OAAOC,KAAK7G,GAAQvO,EAAME,MAAM,GAAI,KAAK1E,KAAI,SAACqhB,EAASpd,GACnD,IAAMqd,EAAUD,EACfthB,MAAM,KACNC,KAAI,SAAAuhB,GAAI,OAAIA,EAAK,GAAG5D,cAAgB4D,EAAK7c,MAAM,MAC/C4L,KAAK,KACN,OACI,gCACKgR,EACD,6BAAIvO,GAAQvO,EAAME,MAAM,GAAI,IAAI2c,OAF3Bpd,MAKf,UAGd,iCACKtC,EAAUA,EAAQA,QAAQ6C,GAAOxE,KAAI,SAAA+F,GAAC,OACnC,gCACI,8BAAKA,EAAEtJ,OACNkd,OAAOC,KAAK7G,GAAQvO,EAAME,MAAM,GAAI,KAAK1E,KAAI,SAACygB,EAAGxc,GAAJ,OAC1C,8BACK8B,EAAE0a,GAAF,UAAU1a,EAAE0a,GAAZ,MAAqB,KADjBxc,QAHR8B,EAAE9I,OAQV,aAQhBukB,GAAa,WAEtB,IAAM7f,EAAU8F,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQA,WAEnD,OACI,eAACwf,GAAD,UACI,mCACI,iCACI,gCACI,6CACA,gDAGR,iCACKxf,EAAUA,EAAQA,QAAQ2b,OAAOtd,KAAI,SAAC7F,EAAO4L,GAAR,OAClC,gCACI,8BAAK5L,EAAMqC,OACX,8BAAKrC,EAAMokB,SAFNxY,MAIR,aAOZ0b,GAAY,WAErB,IAAM9f,EAAU8F,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQA,WAE7CmP,EAAMnJ,mBAEZ,EAcI+T,GAAgB,CAAC5K,QAbjBtU,EADJ,EACIA,KACAuC,EAFJ,EAEIA,OACAC,EAHJ,EAGIA,SACAqP,EAJJ,EAIIA,KACA8N,EALJ,EAKIA,SACAE,EANJ,EAMIA,QACAI,EAPJ,EAOIA,OACA5c,EARJ,EAQIA,MACAI,EATJ,EASIA,OACAyd,EAVJ,EAUIA,kBACAU,EAXJ,EAWIA,iBACAI,EAZJ,EAYIA,oBACAR,EAbJ,EAaIA,iBAIJ,OACI,eAACmD,GAAD,CAAgBjZ,IAAK4I,EAArB,SACKnP,GAAWA,EAAQA,QAAQ8C,SAASjI,OAASwC,GAC1C,wBAAM/B,GAAG,OAAO2jB,SAAU5C,EAA1B,UACI,eAAC,GAAD,CACIrC,KAAM,EACNnf,KAAMA,EACNuC,OAAQA,EACRC,SAAUA,EACVqP,KAAMA,EACN8N,SAAUA,EACVE,QAASA,EACTI,OAAQA,EACRiB,kBAAmBA,IAEvB,eAAC,GAAD,CACI/B,KAAM,EACN9b,MAAOA,EACPI,OAAQA,EACRyd,kBAAmBA,EACnBU,iBAAkBA,EAClBI,oBAAqBA,EACrBha,MAAK,OAAE7C,QAAF,IAAEA,OAAF,EAAEA,EAASA,QAAQ8C,SAASD,MAAME,MAAM,GAAI,GACjD4b,YAAa3e,EAAQA,QAAQA,EAAQA,QAAQ8C,SAASD,OAAOgC,OAC7D+Z,aAAc5e,EAAQA,QAAQ2b,OAAO9W,SAEzC,eAAC,GAAD,UACI,eAACzK,GAAD,CAASmB,KAAK,SAASjB,SAAO,EAA9B,kCAQXylB,GAAc,WAEvB,IAAMjM,EAAUC,cAEV/T,EAAU8F,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQA,WAE3C8P,EAAqB7B,KAArB6B,iBAOR,OACI,gBAAC,GAAD,WACI,eAAChW,EAAD,qEACA,iCACI,eAACM,GAAD,CAASqM,QAASqJ,EAAkBxV,SAAO,EAA3C,0BACA,eAAC,OAAD,CAAMM,GAAG,IAAI6L,QAVG,WpCiCP,IAAAnL,KoChCA0E,EAAQA,QAAQ1E,GpCiC9BwD,MAAM,GAAD,OAAIjC,GAAJ,qBAAoBvB,GAAM,CAClC2E,OAAQ,SACRC,QAAS,CACL,eAAgB,sBAGvBnB,MAAK,SAAAC,GACF,IAAIG,EAAM,KACV,OAAQH,EAAII,QACR,KAAK,IACDD,EAAM,uCACN,MAEJ,KAAK,IACDA,EAAM,+CACN,MAEJ,QAAS,MAAM,IAAIE,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAGnB,OADAL,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,aoC1DzBX,MAAK,kBAAM+U,EAAQyI,SAQZ,SACI,eAACniB,GAAD,CAASE,SAAO,EAAhB,mCC1Md0lB,GAAa1mB,IAAOmB,IAAV,yOACD,SAAAJ,GAAK,OAAIA,EAAM4lB,UAAY,IAAM,OAC9B,SAAA5lB,GAAK,OAAIA,EAAM4lB,UAAY,UAAY,YAYnDC,GAAe5mB,IAAOmB,IAAV,kRAeZ0lB,GAAiB7mB,IAAOmB,IAAV,4VACH,SAAAJ,GAAK,OAAIA,EAAM4lB,UAAY,iBAAmB,sBAChD,SAAA5lB,GAAK,OAAIA,EAAM4lB,UAAY,IAAM,OAG/B,SAAA5lB,GAAK,MAAoB,SAAhBA,EAAM+lB,MAAmB,QAAU,WAMrC,SAAA/lB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAC3B,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAM7C4nB,GAAc/mB,IAAOmB,IAAV,2RACc,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAWpD,SAAA4B,GAAK,OAAIA,EAAMimB,OAAS,oBAGxBC,GAAajnB,YAAOO,EAAPP,CAAH,qGAEC,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMO,WAKtC8gB,GAAevgB,IAAOmB,IAAV,yFAML+lB,GAAQ,SAAC,GAAY,IAAXjlB,EAAU,EAAVA,KAEbsS,EAAW/H,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ6P,YAGhDiC,EACA7B,KADA6B,iBAGJ,OACI,eAACkQ,GAAD,CAAYC,UAAWpS,EAAvB,SACI,gBAACqS,GAAD,WACI,wBAAOzZ,QAASqJ,EAAiBvU,KACjC,gBAAC4kB,GAAD,CAAgBF,UAAWpS,EAAUuS,MAAO7kB,EAA5C,UACI,gBAAC8kB,GAAD,CAAaC,MAAgB,SAAT/kB,EAApB,UACc,SAATA,GACG,gBAACglB,GAAD,WACI,eAAC,IAAD,CAAiB9kB,KAAMglB,MAD3B,4DAKJ,eAACvmB,GAAD,CAAKuM,QAASqJ,EAAiBvU,GAA/B,SACI,eAAC,IAAD,CAAiBE,KAAMsjB,WAG/B,gBAAC,GAAD,WACc,UAATxjB,GACG,eAAC,GAAD,IAEM,SAATA,GACG,eAAC,GAAD,IAEM,SAATA,GACG,eAAC,GAAD,IAEM,UAATA,GACG,eAAC,GAAD,IAEM,SAATA,GACG,eAAC,GAAD,IAEM,WAATA,GACG,eAAC,GAAD,gBClHtB6hB,GAAgB9jB,IAAO+jB,KAAV,mGASN9K,GAAkBmO,0BAEhB,SAASC,KAEtB,MAA6B1a,cAArBjJ,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OACZiV,EAAUlV,EAASoB,MAAM,KACzBwiB,EAAc1O,EAAQA,EAAQrN,OAAO,GACrCgc,EAAehQ,GAASqB,EAAQrN,OAAO,GAAKgM,GAASqB,EAAQrN,OAAO,GAAG+b,GAAe,EAEtF9M,EAAUC,cAShB,OAPA7N,qBAAU,WACR,IAAI2a,EAAa,CACf,IAAMC,EAAe5O,EAAQnP,MAAM,EAAGmP,EAAQrN,OAAO,GAAG8J,KAAK,KAC7DmF,EAAQxW,KAAKwjB,MAEd,CAAChN,EAAS5B,EAAS2O,IAGpB,eAACtO,GAAgBwO,SAAjB,CAA0Bvc,MAAO,CAACxH,WAAUC,UAA5C,SACE,uCACG4jB,GACC,eAAC,GAAD,CAAU3O,QAASA,IAErB,eAAC1X,GAAD,UACE,gBAACE,GAAD,WACE,eAAC,GAAD,CAAO2H,QAAM,IACb,gBAAC,GAAD,WACE,eAACzI,EAAD,UAAKinB,IACL,eAAC,GAAD,IACA,eAAC,GAAD,YAKJ,eAAC,GAAD,IAEF,eAAC,GAAD,CAAOtlB,KAAK,eCzDpB,I,oFAAM4R,GAAiB7T,IAAOmB,IAAV,mFAOdumB,GAAY1nB,IAAOmB,IAAV,6dAsBO,SAAAJ,GAAK,OAAIA,EAAM4mB,YAAc,UAG7CC,GAAgB5nB,IAAOmB,IAAV,qdAafvB,EAKAA,EAKAA,GAQSioB,GAAQ,SAAC,GAAc,IAAbrG,EAAY,EAAZA,OAErB,EAMI7M,KALFvD,EADF,EACEA,gBACA0E,EAFF,EAEEA,eACAhM,EAHF,EAGEA,QACAgL,EAJF,EAIEA,WACAC,EALF,EAKEA,UAQF,OALAnI,qBAAU,WACR,IAAM5C,EAAMwX,EAAO7Y,MAAK,SAAAqB,GAAG,OAAoB,IAAhBA,EAAIC,WACnC6K,EAAW,CAAC1R,IAAK4G,EAAI5G,IAAKC,IAAK2G,EAAI3G,QAClC,CAACme,EAAQ1M,IAGV,gBAAC,GAAD,WACE,gBAAC4S,GAAD,CAAW1V,YAAaZ,EAAxB,UACE,sBAAKhO,IAAK0G,EAAQ1G,IAAKC,IAAKyG,EAAQzG,IAAK4J,IAAK8H,IAC9C,eAAC,GAAD,CAAK/R,MAAO8G,OAEd,gBAAC8d,GAAD,CAAeza,QAAS2I,EAAxB,UACG0L,EAAO/X,MAAM,EAAG,GAAG1E,KAAI,SAAA/B,GAAK,OAC3B,+BACE,eAAC,GAAD,CAAKA,MAAOA,KADJA,EAAMhB,OAIlB,+BACE,eAAC,GAAD,CAAKgB,MAAO,CAACI,IAAK,gMAAiMC,IAAK,UAE1N,+BACE,eAAC,GAAD,CAAKL,MAAO,CAACI,IAAK,gMAAiMC,IAAK,UAE1N,+BACE,eAAC,GAAD,CAAKL,MAAO,CAACI,IAAK,wKAAyKC,IAAK,iBC/FpMykB,GAAM9nB,IAAOmB,IAAV,m8BAwBuB,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAOlC,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QACvB,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMC,SAASW,aAS9CqpB,GAAc,SAAC,GAA4C,IAA3CzgB,EAA0C,EAA1CA,IAAK0D,EAAqC,EAArCA,gBAAiBI,EAAoB,EAApBA,eAE/C,OACI,gBAAC0c,GAAD,WACI,wBACI7lB,KAAK,SACLiJ,MAAO5D,EACP8R,IAAK,EACLtH,SAAU9G,IAEd,iCACI,yBAAQmC,QAAS,kBAAM/B,EAAe,QAAtC,SACI,eAAC,IAAD,CAAiBjJ,KAAMC,IAAe0O,UAAW,CAAEkO,OAAQ,SAE/D,yBAAQ7R,QAAS,kBAAM/B,EAAe,QAAtC,SACI,eAAC,IAAD,CAAiBjJ,KAAMC,IAAe0O,UAAW,CAAEkO,OAAQ,cCnDzEgJ,GAAmBhoB,IAAOmB,IAAV,2EAMhBmR,GAAiBtS,IAAOmB,IAAV,4LAED,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMa,WAAWI,KAU7CkpB,GAAgBjoB,IAAOmB,IAAV,yGASb+mB,GAAgBloB,IAAOmB,IAAV,2JAYbgnB,GAAMnoB,YAAOU,GAAPV,CAAH,6CACE,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAGhC4oB,GAAepoB,IAAOmB,IAAV,6nBAcG,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,QAMpC,SAAAsC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QACvB,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMC,SAASW,aAQ3B,SAAAqC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAM3CkpB,GAAaroB,IAAOsM,MAAV,2uBAIA,SAAAvL,GAAK,OAAKoK,SAASpK,EAAM4a,OAAOlS,MAAM,GAAI,KAAO0B,SAAS,SAAU,IAAO,qBAAuB,qBAI1F,SAAApK,GAAK,OAAIA,EAAM4a,UAGjC,SAAA5a,GAAK,OAAIA,EAAMunB,SAAW,0BAWf,SAAAvnB,GAAK,OAAIA,EAAMunB,QAAU,QAAU,UAYnC,SAAAvnB,GAAK,OAAIA,EAAMunB,QAAU,QAAU,UAK9C7M,GAAYzb,IAAOK,KAAV,yIAQTkoB,GAAcvoB,IAAOmB,IAAV,gTAGK,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMa,WAAWI,KAEvC,SAAAgC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAI3B,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SACvB,SAAAuB,GAAK,OAAIA,EAAMjD,MAAMC,SAASO,MAQ3CkqB,GAAYxoB,IAAOmB,IAAV,gDAITsnB,GAASzoB,YAAOc,GAAPd,CAAH,2JAKK,SAAAe,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAClC,SAAAuC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SAKlCopB,GAAW1oB,YAAOS,GAAPT,CAAH,sNAGD,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QACvB,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMC,SAASU,QAIlC,SAAAsC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QACrB,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KAQ7Cyd,GAAc,SAAC,GAAmD,IAAlDhb,EAAiD,EAAjDA,KAAM+hB,EAA2C,EAA3CA,KAAM3Z,EAAqC,EAArCA,MAAOzK,EAA8B,EAA9BA,MAAOgX,EAAuB,EAAvBA,kBAEtCC,GAAUxM,EAEhB,OACE,gBAAC0e,GAAD,CAAY1M,OAAQ2H,EAAMgF,QAASnS,EAAnC,UACE,wBACElU,KAAK,QACLV,KAAK,QACL2J,MAAO3J,EACPuQ,SAAUoE,EAAkBC,GAC5BpJ,QAAU7N,IAAUqC,IAAU4U,IAEhC,eAAC,GAAD,QAMKwS,GAAU,SAAC,GAAsB,IAArBjiB,EAAoB,EAApBA,QAAS6C,EAAW,EAAXA,MAE1BlC,EAAOmF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQW,QAE1CkN,EAAW/H,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ6P,YAC9C/L,EAAegE,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ8D,gBAExD,EAQImM,GAAWtN,EAAMX,EAAS6C,EAAOgL,GAPnCU,EADF,EACEA,gBACA7J,EAFF,EAEEA,eACA6K,EAHF,EAGEA,iBACAjL,EAJF,EAIEA,gBACAkL,EALF,EAKEA,kBACAE,EANF,EAMEA,gBACAG,EAPF,EAOEA,oBAIF,OACE,gBAACyR,GAAD,WACE,gBAAC,GAAD,WACE,eAACznB,EAAD,UAAKmG,EAAQA,QAAQnF,OACrB,eAACd,GAAD,UAAIiG,EAAQA,QAAQ0M,UAEtB,gBAAC6U,GAAD,WACE,gBAACG,GAAD,WACE,eAAC5nB,EAAD,2BACA,iCACE,iCACE,gCAAO6G,EAAK7F,OACZ,gCACE,eAAC,IAAD,CAAiBW,KAAMC,IAAe0O,UAAW,CAAEkO,OAAQ,UAG9D3X,EAAK7F,MACJ,yBAAQ0J,MAAO7D,EAAK7F,KAAMsQ,SAAUmE,EAApC,SACGvP,EAAQA,QAAR,UAAmB6C,EAAnB,MAA6BxE,KAAI,SAAAvD,GAAI,OACpC,yBAAsB0J,MAAO1J,EAAKA,KAAlC,SAAyCA,EAAKA,MAAjCA,EAAKQ,eAM5B,gBAACkmB,GAAD,WACE,eAAC1nB,EAAD,2BACA,8BACGkG,EAAQ2C,SACRN,QAAO,SAAAO,GAAO,OAAIA,EAAQC,GAAO/H,OAAS6F,EAAK7F,QAC/CuD,KAAI,SAACuE,EAASN,GAAV,OACH,8BACE,eAAC,GAAD,CACEzH,KAAM+H,EAAQI,MAAMnI,KACpB+hB,KAAMha,EAAQI,MAAM4Z,KACpB3Z,MAAOL,EAAQK,MACfzK,MAAOmI,EAAKnI,MACZgX,kBAAmBA,KANdlN,QAWZ3B,EAAK7F,MAAQ6F,EAAKnI,OACjBwH,EAAQ2C,SAASV,MAAK,SAAAW,GAAO,OAC1BA,EAAQC,GAAO/H,OAAS6F,EAAK7F,MAAU8H,EAAQI,MAAMnI,OAAS8F,EAAKnI,SACpEyK,OAAS,IACT,eAACwe,GAAD,gDAIJzhB,EAAQA,QAAQpB,QAChB,gBAACijB,GAAD,WACE,gBAAC/nB,EAAD,kBAASyU,EAAgBvO,EAAQA,QAAQkD,mBACzC,gBAACpJ,EAAD,kBAASyU,EAAgBvO,EAAQA,QAAQmD,kBAG3C,+BACE,gBAACrJ,EAAD,kBAASyU,EAAgBvO,EAAQA,QAAQkD,qBAG5CpB,GAAiB,eAAC2f,GAAD,UAAM3f,IACxB,gBAACggB,GAAD,WACE,eAAC,GAAD,CACElhB,IAAKD,EAAKC,IACV0D,gBAAiBA,EACjBI,eAAgBA,IAElB,gBAACqd,GAAD,CAAQtb,QAASiJ,EAAiBpV,SAAO,EAAzC,UACE,eAAC,IAAD,CAAiBmB,KAAM6K,MADzB,uCAKF,eAAC0b,GAAD,UACE,gBAAC,OAAD,CAAMpnB,GAAG,IAAI6L,QAASoJ,EAAtB,UACE,eAAC,IAAD,CAAiBpU,KAAMsM,MACvB,eAAC/N,GAAD,+DCtSNkoB,GAAkB5oB,IAAOmB,IAAV,mGAEjBvB,GAKEipB,GAAY7oB,IAAOmB,IAAV,8EAIT2nB,GAAS9oB,YAAOc,GAAPd,CAAH,4pBAEG,SAAAe,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAErB,SAAAuC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAC/B,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAOhC,SAAA0B,GAAK,OAAIA,EAAMsf,SAAW,EAAI,KAYjB,SAAAtf,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAajD0pB,GAAgB/oB,IAAOmB,IAAV,wZAoBfvB,GAKEopB,GAAgBhpB,IAAOmB,IAAV,6KAEF,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAC5B,SAAAuC,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAItC,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAIlC6pB,GAAgBjpB,IAAOmB,IAAV,+WAeF,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAC5B,SAAAuC,GAAK,OAAIA,EAAMjD,MAAMa,WAAWG,KACtC,SAAAiC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAM3B6pB,GAAS,SAAC,GAAsB,IAArBxiB,EAAoB,EAApBA,QAAS6C,EAAW,EAAXA,MAE7B,EAGIoL,KAFFC,EADF,EACEA,UACAoB,EAFF,EAEEA,oBAGF,OACI,gBAAC4S,GAAD,WACE,gBAACC,GAAD,WACE,gBAACC,GAAD,CAAQ7nB,QAAS2T,EAAW5T,SAAO,EAAnC,UACE,wBAAOkB,QAAQ,gBADjB,8BAIA,gBAAC4mB,GAAD,CAAQ7nB,OAAQ2T,EAAW5T,SAAO,EAAlC,UACE,wBAAOkB,QAAQ,gBADjB,iCAKF,gBAAC6mB,GAAD,WACE,wBAAO9mB,KAAK,QAAQV,KAAK,SAASS,GAAG,cAAc+K,QAAS6H,EAAW9C,SAAUkE,IAChFtP,GACC,gBAACsiB,GAAD,WACE,eAACxoB,EAAD,2BACA,eAACC,GAAD,UAAIiG,EAAQA,QAAQwa,WACpB,eAAC1gB,EAAD,uCACA,eAACC,GAAD,UAAIiG,EAAQA,QAAQ0a,aAGxB,wBAAOnf,KAAK,QAAQV,KAAK,SAASS,GAAG,cAAc+K,SAAU6H,EAAW9C,SAAUkE,IAClF,eAACiT,GAAD,UACG1f,IAAoB,iBAAVA,EACT,eAAC9I,GAAD,gDAEA,mCACE,iCACE,gCACE,wBACCie,OAAOC,KAAK7G,GAAQvO,IAAQxE,KAAI,SAACqhB,EAASpd,GACzC,IAAMqd,EAAUD,EACbthB,MAAM,KACNC,KAAI,SAAAuhB,GAAI,OAAIA,EAAK,GAAG5D,cAAgB4D,EAAK7c,MAAM,MAC/C4L,KAAK,KACR,OACE,gCACE,gCAAOgR,IACP,gCAAOvO,GAAQvO,GAAO6c,OAFfpd,WAQjB,iCACGtC,EAAQA,QAAR,UAAmB6C,EAAnB,MAA6BxE,KAAI,SAAA+F,GAAC,OACjC,gCACE,8BAAKA,EAAEtJ,OACNkd,OAAOC,KAAK7G,GAAQvO,IAAQxE,KAAI,SAACygB,EAAGxc,GAAJ,OAC/B,8BACG8B,EAAE0a,GAAF,UAAU1a,EAAE0a,GAAZ,MAAqB,KADfxc,QAHJ8B,EAAE9I,sBCrJ3BmmB,GAAMnoB,YAAOQ,EAAPR,CAAH,mEAKH8jB,GAAgB9jB,IAAO+jB,KAAV,qFAMboF,GAAgBnpB,IAAOmB,IAAV,yMAMfvB,GASEwpB,GAAappB,IAAOmB,IAAV,gdAMM,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SASzB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,QAElCO,EACEM,EAAUE,EAIZF,EAAU3B,IAKV8qB,GAAa,SAAC,GAAe,IAAd3iB,EAAa,EAAbA,QACnB,EAAwBzD,mBAAS,CAAC,GAAI,eAAtC,oBAAO6V,EAAP,KAAawQ,EAAb,KAUA,OATA1c,qBAAU,WACR,GAAIlG,EAAJ,CACA,IAAM5C,EAA4B,MAAnB4C,EAAQ5C,OAAiB,MAAQ,QAC1CC,EAAW2C,EAAQ8C,SAASjI,KAClC+nB,EAAQ,CAAC,GAAI,aAAcxlB,EAAQC,OAIlC,CAAC2C,IAEF,eAAC,GAAD,CAAUkS,QAASE,EAAMvX,KAAI,OAAEmF,QAAF,IAAEA,OAAF,EAAEA,EAASnF,QAI7B,SAASgoB,KAAgB,IAAD,IAE3BvnB,EAAOwnB,cAAPxnB,GAEF0E,EAAU8F,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQA,WAC7CU,EAAQoF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQU,SAC3CoN,EAAYhI,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ8P,aAC/CpM,EAAWoC,eAEXjB,EAAK,OAAG7C,QAAH,IAAGA,GAAH,UAAGA,EAASA,eAAZ,iBAAG,EAAkB8C,gBAArB,aAAG,EAA4BD,MAAME,MAAM,GAAI,GAS1D,OAPAmD,qBAAU,WAER,OADAxE,E1C7BoB,SAAApG,GAAE,OAAI,SAAAoG,GAC9B7B,GAAcvE,GACXyD,MAAK,SAAA4C,GACJ,IAAIA,EAAOlC,GAET,OADAiC,EAASP,GAAW,KACbO,EAASN,GAASO,EAAOjC,UAElCgC,EAASP,GAAWQ,EAAOnC,OAC3BkC,EAASN,GAAS,W0CqBT2hB,CAAWznB,IACb,WACLoG,EAASP,GAAW,QAErB,CAAC7F,EAAIoG,IAGJ,uCACE,eAAC,GAAD,CAAY1B,QAAO,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAASA,UAC9B,eAACxF,GAAD,UACE,gBAACE,GAAD,WACE,eAAC,GAAD,KACEsF,IACAU,EACE,eAAC,GAAD,UAAMA,IAEN,eAAC,GAAD,iDAGHV,IAAYU,GACX,gBAAC,GAAD,WACE,gBAAC+hB,GAAD,WACE,eAAC,GAAD,CAAO3H,OAAQ9a,EAAQA,QAAQqD,SAC/B,eAAC,GAAD,CAASrD,QAASA,EAAS6C,MAAOA,OAEpC,eAAC,GAAD,CAAQ7C,QAASA,EAAS6C,MAAOA,KAC/B7C,EAAQA,QAAQrB,OAChB,eAAC+jB,GAAD,UACE,+FAQV,eAAC,GAAD,IAEa,SAAd5U,GACC,eAAC,GAAD,CAAOvS,KAAK,UAEbyE,GAAyB,UAAd8N,GACV,eAAC,GAAD,CAAOvS,KAAK,YC1IxB,I,kEAAMynB,GAAa1pB,IAAOiM,GAAV,wHAGa,SAAAlL,GAAK,OAAIA,EAAMC,QAAUD,EAAMjD,MAAMoB,MAAMG,MAAQ0B,EAAMjD,MAAMoB,MAAMC,aACrF,SAAA4B,GAAK,OAAIA,EAAMC,SAAWD,EAAMjD,MAAMoB,MAAMG,SAGnDsqB,GAAgB3pB,IAAOmB,IAAV,qaAKLvB,EAMAM,EAAUE,GACH,SAAAW,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,YAElCS,GAORskB,GAAWlkB,IAAOmB,IAAV,uTACRjB,EAAUE,GAEQ,SAAAW,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,QAS9BY,EAAU5B,IAId6lB,GAAWnkB,IAAOmB,IAAV,uIACRjB,EAAUE,GAEH,SAAAW,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACvB,SAAA4B,GAAK,OAAIA,EAAMqjB,QAAU,UAEhClkB,EAAU3B,IAId8lB,GAAcrkB,IAAOiM,GAAV,+VASP/L,EAAU5B,IACH,SAAAyC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,YAEtC+kB,IACsB,SAAAnjB,GAAK,OAAIA,EAAMC,SAAWD,EAAMjD,MAAMoB,MAAMG,QAElE8kB,IACW,SAAApjB,GAAK,OAAIA,EAAMC,SAAWD,EAAMjD,MAAMoB,MAAMG,SAIhDuqB,GAAe,SAAC,GAAY,IAAXlJ,EAAU,EAAVA,KAC1B,OACI,gBAACiJ,GAAD,WACI,gCACI,gBAAC,GAAD,CAAa3oB,QAAkB,IAAT0f,EAAtB,UACI,gBAAC,GAAD,kBAEI,uCAEJ,gBAAC,GAAD,CAAU0D,QAAM,EAAhB,wBAEI,4EAGR,gBAAC,GAAD,CAAapjB,QAAkB,IAAT0f,EAAtB,UACI,gBAAC,GAAD,kBAEI,uCAEJ,gBAAC,GAAD,CAAU0D,QAAM,EAAhB,0BAEI,8FAGR,gBAAC,GAAD,CAAapjB,QAAkB,IAAT0f,EAAtB,UACI,gBAAC,GAAD,kBAEI,uCAEJ,gBAAC,GAAD,uBAEI,mEAIZ,gCACI,eAACgJ,GAAD,CAAY1oB,QAAkB,IAAT0f,EAArB,qEAGA,eAACgJ,GAAD,CAAY1oB,QAAkB,IAAT0f,EAArB,yFAGA,eAACgJ,GAAD,CAAY1oB,QAAkB,IAAT0f,EAArB,8DC1GVmJ,GAAW7pB,IAAOmB,IAAV,mJAERvB,EAKIM,EAAUG,MAIdypB,GAAQ9pB,IAAOI,EAAV,qHACQ,SAAAW,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAClC,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMC,SAASQ,KACzCqB,GACe,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAI7CurB,GAAe/pB,YAAO8pB,GAAP9pB,CAAH,8KACL,SAAAe,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,SAEjB,SAAAuB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MACtC,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAMtC6qB,GAAWhqB,IAAOK,KAAV,mKACRH,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMM,QAGlCI,GAMAqqB,GAAajqB,IAAOmB,IAAV,oDAGV+oB,GAAYlqB,IAAOmB,IAAV,+PAKLjB,EAAUE,EAEdR,GASAsmB,GAAiBlmB,IAAOmB,IAAV,0lBAKNjB,EAAUE,GACH,SAAAW,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SASZ,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MASzDsrB,GAAcnqB,YAAOkmB,GAAPlmB,CAAH,oXAOHE,EAAUG,MAOC,SAAAU,GAAK,OAAIA,EAAMjD,MAAMC,SAASO,MAIjD8rB,GAAYpqB,IAAOmB,IAAV,2HAOTkpB,GAAWrqB,IAAOmB,IAAV,8BAIDmpB,GAAW,SAAC,GAAmB,IAAlB1hB,EAAiB,EAAjBA,KAAMI,EAAW,EAAXA,MAEtBzF,EAAG,mBAAeqF,EAAK5G,IAEvBuoB,GAAY3hB,EAAKtD,QAAUsD,EAAKiB,WAAajB,EAAKgB,gBAAkBhB,EAAKtB,IAEzEkB,EAAegE,cAAY,SAAA/E,GAAK,OAAIA,EAAMc,KAAKC,gBAGjDyM,EACAN,KADAM,gBAGJ,EAII1K,GAAQ3B,GAHR6B,EADJ,EACIA,iBACAO,EAFJ,EAEIA,gBACAI,EAHJ,EAGIA,eAGJ,OACI,gCACI,8BACI,eAAC,OAAD,CAAM9J,GAAIiC,EAAV,SACI,eAAC,GAAD,CAAKP,MAAO,CAACI,IAAKwF,EAAKxF,IAAKC,IAAKuF,EAAKvF,WAG9C,gCACKuF,EAAKrH,KACN,gBAACsoB,GAAD,WACI,iDAASjhB,EAAKpH,QACd,iDAASoH,EAAK1J,eAGtB,gCACI,iDAAS0J,EAAKpH,QACd,iDAASoH,EAAK1J,YAElB,8BACK0J,EAAKtD,QACF,uCACI,gBAACykB,GAAD,eACM9U,EAAgBrM,EAAKiB,eAE3B,gDAEI,mCAAKoL,EAAgBrM,EAAKgB,yBAIlC,gBAAC,GAAD,eACMqL,EAAgBrM,EAAKgB,qBAInC,gCACI,eAAC,GAAD,CACItC,IAAKsB,EAAKtB,IACV0D,gBAAiBA,EACjBI,eAAgBA,IAEnB5C,GACG,eAACwhB,GAAD,UAAWxhB,EAAaQ,QAGhC,8BACI,gBAAC,GAAD,eACMiM,EAAgBsV,QAG1B,8BACI,eAAC3pB,GAAD,CAAKuM,QAAS1C,EAAiBzB,GAA/B,SACI,eAAC,IAAD,CAAiB7G,KAAMiL,cAQ9Bod,GAAiB,SAAC,GAAmB,IAAlB5hB,EAAiB,EAAjBA,KAAMI,EAAW,EAAXA,MAE5BzF,EAAG,mBAAeqF,EAAK5G,IAEvBuoB,GAAY3hB,EAAKtD,QAAUsD,EAAKiB,WAAajB,EAAKgB,gBAAkBhB,EAAKtB,IAEzEkB,EAAegE,cAAY,SAAA/E,GAAK,OAAIA,EAAMc,KAAKC,gBAGjDyM,EACAN,KADAM,gBAGJ,EAII1K,GAAQ3B,GAHR6B,EADJ,EACIA,iBACAO,EAFJ,EAEIA,gBACAI,EAHJ,EAGIA,eAGJ,OACI,8BACI,gBAAC6e,GAAD,WACI,gBAACC,GAAD,WACI,eAACE,GAAD,UACI,eAAC,OAAD,CAAM9oB,GAAIiC,EAAV,SACI,eAAC,GAAD,CAAKP,MAAO,CAACI,IAAKwF,EAAKxF,IAAKC,IAAKuF,EAAKvF,WAG9C,gBAACgnB,GAAD,WACKzhB,EAAKrH,KACN,gBAACsoB,GAAD,WACI,iDAASjhB,EAAKpH,QACd,iDAASoH,EAAK1J,kBAI1B,eAACirB,GAAD,UACI,mCACI,iCACI,gCACI,+CACA,+CACA,+CACA,6BAGR,iCACI,gCACI,8BACKvhB,EAAKtD,QACF,uCACI,gBAACykB,GAAD,eACM9U,EAAgBrM,EAAKiB,eAE3B,gDAEI,mCAAKoL,EAAgBrM,EAAKgB,yBAIlC,gBAAC,GAAD,eACMqL,EAAgBrM,EAAKgB,qBAInC,gCACI,eAAC,GAAD,CACItC,IAAKsB,EAAKtB,IACV0D,gBAAiBA,EACjBI,eAAgBA,IAEnB5C,GACG,eAACwhB,GAAD,UAAWxhB,EAAaQ,QAGhC,8BACI,gBAAC,GAAD,eACMiM,EAAgBsV,QAG1B,8BACI,eAAC3pB,GAAD,CAAKuM,QAAS1C,EAAiBzB,GAA/B,SACI,eAAC,IAAD,CAAiB7G,KAAMiL,0BC/QzDlM,GAAclB,IAAOmB,IAAV,4BAEXC,GAAgBpB,IAAOmB,IAAV,sKAEbvB,GAQAsmB,GAAiBlmB,IAAOmB,IAAV,0lBAKNjB,EAAUE,GACH,SAAAW,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SASZ,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MASzDkN,GAAgB/L,YAAOkmB,GAAPlmB,CAAH,iiBAILJ,EAkBRA,GAKA6qB,GAAW3qB,YAAH,yLAGRF,GAOA8qB,GAAiB1qB,IAAOmB,IAAV,+iBAOdjB,EAAU3B,GACVqB,GAKW,SAAAmB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAQ3B,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,QAE9Ba,EAAU5B,GAGVmsB,IAORre,GAAYpM,YAAOc,GAAPd,CAAH,oGAGTE,EAAU3B,IACV,SAAAwC,GAAK,OAAKA,EAAMC,SAAWypB,MAG3BE,GAAsB3qB,IAAOmB,IAAV,2LAGnBvB,EAIIM,EAAUG,MAML,SAASuqB,KAEpB,IAAMxiB,EAAWoC,eACXjC,EAAOiE,cAAY,SAAA/E,GAAK,OAAIA,EAAMc,KAAKA,QACvCnB,EAAQoF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQU,SAC3CoB,EAAegE,cAAY,SAAA/E,GAAK,OAAIA,EAAMc,KAAKC,gBAErDoE,qBAAU,WACN,GAAIrE,GAASA,EAAKgD,OAAlB,CACA,IAAM4J,EAAMmM,MAAM/Y,EAAKgD,QAAQgW,KAAK,IAAIxc,KAAI,SAACqhB,EAASpd,GAUlD,OATGT,EAAKS,GAAO1B,IAAMiB,EAAKS,GAAOW,QAC7Byc,EAAU,uEAES,IAApB7d,EAAKS,GAAO1B,MACX8e,EAAU,sDAEV7d,EAAKS,GAAO3D,QACZ+gB,EAAU,qFAEPA,KAEXhe,EAASc,GAAgBiM,OAC1B,CAAC/M,EAAUG,IAEd,IACI0M,EACAN,KADAM,gBAGJ,EAGI1K,KAFAe,EADJ,EACIA,SACAK,EAFJ,EAEIA,SAGJ,OACI,eAAC,GAAD,UACI,gBAAC,GAAD,WACI,eAACrL,EAAD,iCACA,eAAC,GAAD,CAAcogB,KAAM,IACpB,gBAAC,GAAD,WACI,mCACI,iCACI,gCACI,wBACA,2DACA,8DACA,+CACA,+CACA,+CACA,6BAGPnY,GAAQA,EAAK2E,OAAM,SAAAtE,GAAI,OAAIA,EAAKrH,UAAU6F,GAASmB,EAAKgD,OAAS,GAC9D,iCACKhD,EAAKxD,KAAI,SAAC6D,EAAMI,GAAP,OACN,eAAC,GAAD,CAEIJ,KAAMA,EACNI,MAAOA,GAFFA,WAQxBT,GAAQA,EAAK2E,OAAM,SAAAtE,GAAI,OAAIA,EAAKrH,UAAU6F,IAAUmB,EAAKgD,OAAS,GAAM,eAAC/K,EAAD,iEACtE+H,IAASA,EAAK2E,OAAM,SAAAtE,GAAI,OAAIA,EAAKrH,WAChC6F,EACI,eAAC5G,EAAD,UAAK4G,IAEL,eAAC5G,EAAD,oDAIZ,gBAACmqB,GAAD,WACI,gBAAClqB,GAAD,wCAAU8H,EAAOA,EAAKgD,OAAS,IAA/B,OACA,kCACOhD,IAASA,EAAK2E,OAAM,SAAAtE,GAAI,OAAIA,EAAKrH,WAChC6F,EACI,eAAC5G,EAAD,UAAK4G,IAEL,eAAC5G,EAAD,iDAGP+H,GAAQA,EAAK2E,OAAM,SAAAtE,GAAI,OAAIA,EAAKrH,UAAU6F,IACvCmB,EAAKgD,OAAS,EACVhD,EAAKxD,KAAI,SAAC6D,EAAMI,GAAP,OACL,eAAC,GAAD,CAEIJ,KAAMA,EACNI,MAAOA,GAFFA,MAMb,eAACxI,EAAD,sEAKhB,gBAACkqB,GAAD,WACKniB,IAASnB,GACN,mFAEI,sCACMmB,EAAKgD,OAAS,EACZ0J,EAAgB3J,EAAS/C,IAEzB,OAGPoD,EAASnD,GACN,eAAC,GAAD,CAAWxH,SAAU2K,EAASnD,GAA9B,sCAIA,eAAC,OAAD,CAAMlH,GAAG,IAAT,SACI,eAAC,GAAD,CAAWN,SAAU2K,EAASnD,GAA9B,2CAOhB,gBAAC,OAAD,CAAMlH,GAAG,cAAT,UACI,eAAC,IAAD,CAAiBa,KAAMC,IAAe0O,UAAW,CAAEkO,OAAQ,MAD/D,sCCxPpB,I,0CAAM8E,GAAgB9jB,IAAO+jB,KAAV,+GAQbmC,GAAiBlmB,IAAOmB,IAAV,qsBAQNjB,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAUZ,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MASzDgsB,GAAc7qB,YAAOc,GAAPd,CAAH,oDAIXsb,GAAkBtb,IAAOmB,IAAV,geAKfjB,EAAUE,GAUK,SAAAW,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAGnB,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMC,SAASQ,MAMrDusB,GAAO,SAAC,GAAe,IAAdpkB,EAAa,EAAbA,QAEL0B,EAAWoC,eAEjB,EAAwBvH,qBAAxB,oBAAO8nB,EAAP,KAAaC,EAAb,KAEApe,qBAAU,WACNrG,GAAcG,EAAQ1E,IACrByD,MAAK,SAAA4C,GACF2iB,EAAQ3iB,EAAOnC,WAEpB,CAACQ,EAAQ1E,KAEZ,IAAMipB,EAAiB,SAAA3kB,GACnB8B,EAASP,GAAWkjB,IACpB3iB,EAASqM,IAAY,IACrBrM,EAASsM,GAAapO,EAAEkd,cAAcjiB,QAG1C,OACI,qCACKwpB,GACG,gCACI,8BAAKrkB,EAAQ1E,KACb,8BAAwB,MAAnB0E,EAAQ5C,OAAiB,eAAO,iBACrC,8BAAKyT,GAAS,GAAGwT,EAAKrkB,QAAQ8C,SAASjI,QACvC,8BAAKmF,EAAQnF,OACb,8BAAKwpB,EAAKrkB,QAAQ0M,MAAQ,MAC1B,8BAAK2X,EAAKrkB,QAAQwa,UAAY,MAC9B,8BAAK6J,EAAKrkB,QAAQ0a,SAAW,MAC7B,8BACI,eAACyJ,GAAD,CAAatpB,KAAK,OAAO4L,QAAS8d,EAAgBhqB,QAAM,EAACD,SAAO,EAAhE,4BAEJ,8BACI,eAAC6pB,GAAD,CAAatpB,KAAK,QAAQ4L,QAAS8d,EAAgBhqB,QAAM,EAACD,SAAO,EAAjE,4BAEJ,8BACI,eAACJ,GAAD,CAAKW,KAAK,OAAO4L,QAAS8d,EAA1B,SACI,eAAC,IAAD,CAAiB9oB,KAAM+oB,UAG/B,8BACI,eAACtqB,GAAD,CAAKW,KAAK,SAAS4L,QAAS8d,EAA5B,SACI,eAAC,IAAD,CAAiB9oB,KAAMiL,gBAStC+d,GAAc,WAEvB,IAAM/iB,EAAWoC,eAEXrD,EAAWqF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQS,YAC9CC,EAAQoF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQU,SAC3CoN,EAAYhI,cAAY,SAAA/E,GAAK,OAAIA,EAAM/C,QAAQ8P,aAErD,EAA4BvR,mBAAS,IAArC,oBAAOa,EAAP,KAAeid,EAAf,KACA,EAAgC9d,mBAAS,IAAzC,oBAAOc,EAAP,KAAiBid,EAAjB,KAEApU,qBAAU,WAEN,OADAxE,EAASD,GAAY,CAACrE,EAAQC,GAAW,KAClC,WACHqE,EAASR,GAAY,QAE1B,CAACQ,EAAUtE,EAAQC,IAEtB,IAAMqnB,EAAqB,SAAA9kB,GACvB,MAAqB,WAAlBA,EAAE2E,OAAO1J,KAA0Bwf,EAAUza,EAAE2E,OAAOC,OACpC,aAAlB5E,EAAE2E,OAAO1J,KAA4Byf,EAAY1a,EAAE2E,OAAOC,YACxC,gBAAlB5E,EAAE2E,OAAO1J,OACRwf,EAAU,IACVC,EAAY,OAIpB,OACI,uCACI,gBAAC,GAAD,WACI,eAAC1gB,EAAD,qEACA,gBAAC,GAAD,WACI,iCACI,eAACuqB,GAAD,CAAatpB,KAAK,cAAc4L,QAASie,EAAoBnqB,QAAM,EAACD,SAAO,EAA3E,sCACA,iCACI,wBAAOkB,QAAQ,SAAf,4BACA,0BAAQX,KAAK,SAAS2J,MAAOpH,EAAQgO,SAAUsZ,EAAoBppB,GAAG,SAAtE,UACI,yBAAQkJ,MAAM,GAAd,mBACA,yBAAQA,MAAM,MAAd,0BACA,yBAAQA,MAAM,QAAd,gCAGR,iCACI,wBAAOhJ,QAAQ,WAAf,4BACA,0BAAQX,KAAK,WAAW2J,MAAOnH,EAAU+N,SAAUsZ,EAAoBppB,GAAG,WAA1E,UACI,yBAAQkJ,MAAM,GAAd,mBACA,yBAAQA,MAAM,OAAd,gCACA,yBAAQA,MAAM,SAAd,gCACA,yBAAQA,MAAM,OAAd,+CACA,yBAAQA,MAAM,YAAd,gCACA,yBAAQA,MAAM,QAAd,gCACA,yBAAQA,MAAM,UAAd,gCACA,yBAAQA,MAAM,SAAd,gCACA,yBAAQA,MAAM,UAAd,yCAIZ,+BACI,gBAAC,OAAD,CAAM5J,GAAG,qBAAT,UACI,eAACV,GAAD,UACI,eAAC,IAAD,CAAiBuB,KAAMkpB,QAE3B,qEAIZ,gBAAC,GAAD,WACI,mCACI,iCACI,gCACI,qCACA,+CACA,+CACA,+CACA,+CACA,+CACA,2DACA,2DACA,2DACA,+CACA,oDAGR,iCACKlkB,IAAaC,IACVD,EAASoE,OAAS,EACdpE,EAASpC,KAAI,SAAA2B,GAAO,OAChB,eAAC,GAAD,CAAuBA,QAASA,GAArBA,EAAQ1E,OAGvB,eAACxB,EAAD,8CAKd2G,IACEC,EACI,eAAC3G,GAAD,UAAI2G,IAEJ,eAAC5G,EAAD,0DAKhB,uCACmB,UAAdgU,GAAuC,SAAdA,GAAsC,WAAdA,GAC9C,eAAC,GAAD,CAAOvS,KAAK,SAED,SAAduS,GAAsC,SAAdA,GAAsC,WAAdA,GAC7C,eAAC,GAAD,CAAOvS,KAAK,UAED,SAAduS,GAAsC,UAAdA,GAAuC,WAAdA,GAC9C,eAAC,GAAD,CAAOvS,KAAK,SAED,SAAduS,GAAsC,UAAdA,GAAuC,SAAdA,GAC9C,eAAC,GAAD,CAAOvS,KAAK,kBCjP1B6hB,GAAgB9jB,IAAO+jB,KAAV,+GAQbmC,GAAiBlmB,IAAOmB,IAAV,u1BAQNjB,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAiBZ,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAUzDysB,GAAYtrB,YAAOc,GAAPd,CAAH,oDAITurB,GAAQvrB,IAAO8B,MAAV,oLAWL0pB,GAAOxrB,IAAOyrB,GAAV,mIACFF,IACU,SAAAxqB,GAAK,OAAIA,EAAM2qB,UAAY,mBAG5B,SAAA3qB,GAAK,OAAIA,EAAM2qB,UAAY3qB,EAAMjD,MAAMoB,MAAMM,SAIxDmsB,GAAQ3rB,IAAOyrB,GAAV,kHACa,SAAA1qB,GAAK,OAAIA,EAAM6qB,OAAS7qB,EAAMjD,MAAMoB,MAAMO,WAC1C,SAAAsB,GAAK,OAAIA,EAAM8qB,UAAY9qB,EAAMjD,MAAMoB,MAAMS,UAC7C,SAAAoB,GAAK,OAAIA,EAAM+qB,SAAW/qB,EAAMjD,MAAMoB,MAAMM,SAG9DusB,GAAU,SAAC,GAAsB,IAArBziB,EAAoB,EAApBA,QAASC,EAAW,EAAXA,MAEjBiR,EAAUC,cAEhB,EAAwBxX,mBAAS,IAAjC,oBAAOhB,EAAP,KAAa+pB,EAAb,KACA,EAAsB/oB,mBAAS,GAA/B,oBAAOqE,EAAP,KAAYW,EAAZ,KAEA,EAAkChF,oBAAS,GAA3C,oBAAOgpB,EAAP,KAAkBC,EAAlB,KACA,EAA0BjpB,mBAAS,IAAnC,oBAAOmE,EAAP,KAAcU,EAAd,KAEM2a,EAAoB,SAAAnc,GACtB,OAAQA,EAAE2E,OAAO1J,MACb,IAAK,OACD,OAAOyqB,EAAQ1lB,EAAE2E,OAAOjJ,IAE5B,IAAK,MAED,OADGoF,GAAOU,EAAS,IACZG,EAAO3B,EAAE2E,OAAOC,SAM7BihB,EAAkB,SAAA7lB,GACpB,GAAqB,SAAlBA,EAAE2E,OAAO1J,KAAiB,OAAO2qB,GAAa,GACjD,GAAqB,SAAlB5lB,EAAE2E,OAAO1J,KAAiB,CACzB,IAAIU,IAASkJ,SAAS7D,GAGlB,OAFA0kB,EAAQ,IACR/jB,EAAO,GACAikB,GAAa,IhDwFX,SAAClqB,EAAIsH,GAC1B,OAAO9D,MAAM,GAAD,OAAIjC,GAAJ,6BAA4BvB,GAAM,CAC1C2E,OAAQ,QACRC,QAAS,CACL,eAAgB,oBAEpBnI,KAAMoI,KAAKC,UAAUwC,KAExB7D,MAAK,SAAAC,GACF,IAAIG,EAAM,KACV,OAAQH,EAAII,QACR,KAAK,IACDD,EAAM,mDACN,MAEJ,KAAK,IACDA,EAAM,mDACN,MAEJ,KAAK,IACDA,EAAM,+CACN,MAEJ,QAAS,MAAM,IAAIE,MAAJ,UAAaL,EAAII,OAAjB,aAA4BJ,EAAIM,WAAhC,MAGnB,OADAL,QAAQC,IAAR,UAAeF,EAAII,OAAnB,aAA8BD,EAA9B,MACOH,EAAIO,OAAOR,MAAK,SAAAS,GAAI,MACvB,CAACC,GAAIT,EAAIS,GAAIC,QAASP,EAAKK,KAAMA,SAGxCG,OAAM,SAAAC,GAEH,OADAX,QAAQC,IAAIU,EAAEF,SACP,CAACD,GAAI,EAAGC,QAASE,EAAEF,agDtHtBgmB,CAAiB9iB,EAAQtH,GAAI,CACzBC,OACA2V,SAAUzM,SAAS7D,KACpB7B,MAAK,SAAA4C,GACJ,OAAIA,EAAOlC,IACX3G,MAAM,qDACCgb,EAAQyI,MAFOnb,EAASO,EAAOjC,cAOlD,OACI,gCACI,wBACA,wBACA,8BAAKkD,EAAQC,GAAO/H,OACpB,8BAAK8H,EAAQI,MAAMnI,OACnB,eAACoqB,GAAD,CACIC,MAAOtiB,EAAQK,OAAS,GACxBkiB,SAAUviB,EAAQK,OAAS,IAAML,EAAQK,MAAQ,GACjDmiB,QAASxiB,EAAQK,MAAQ,IAA+B,kBAAlBL,EAAQK,MAHlD,SAK8B,kBAAlBL,EAAQK,MAAqBL,EAAQK,MAAQ,MAEzD,gBAAC6hB,GAAD,CAAME,SAAUtkB,EAAhB,UACI,eAACmkB,GAAD,CACIxe,QAAkB,QAAT9K,EACT6P,SAAU2Q,EACVxgB,KAAK,QACLV,KAAK,OACLS,GAAG,MACHgjB,UAAWiH,IAEf,wBAAO/pB,QAAQ,WAAf,0BACA,eAACqpB,GAAD,CACIxe,QAAkB,QAAT9K,EACT6P,SAAU2Q,EACVxgB,KAAK,QACLV,KAAK,OACLS,GAAG,MACHgjB,UAAWiH,IAEf,wBAAO/pB,QAAQ,WAAf,0BACA,eAACqpB,GAAD,CACIrgB,MAAO5D,EACPwK,SAAU2Q,EACVxgB,KAAK,SACLV,KAAK,MACL6X,IAAI,IACJ4L,UAAWiH,IAzBnB,YA4BA,8BAAKA,EAAa,gCAAO7kB,IAAiBkC,EAAQ+iB,YAClD,8BACKJ,EACG,eAACX,GAAD,CAAWne,QAASgf,EAAiBlqB,KAAK,SAASV,KAAK,OAAON,QAAM,EAACD,SAAO,EAA7E,0BAIA,eAACsqB,GAAD,CAAWne,QAASgf,EAAiBlqB,KAAK,SAASV,KAAK,OAAON,QAAM,EAACD,SAAO,EAA7E,4BAKR,8BACI,eAACsqB,GAAD,CAAWrpB,KAAK,SAAShB,QAAM,EAACD,SAAO,EAAvC,gCAQV8pB,GAAO,SAAC,GAAe,IAAdpkB,EAAa,EAAbA,QAEX,EAAwBzD,qBAAxB,oBAAO2F,EAAP,KAAamC,EAAb,KASA,OAPA6B,qBAAU,WACNrG,GAAcG,EAAQ1E,IACjByD,MAAK,SAAA4C,GACF0C,EAAQ,CAACxB,MAAOlB,EAAOnC,KAAKQ,QAAQ8C,SAASD,MAAME,MAAM,GAAI,GAAIJ,SAAUhB,EAAOnC,KAAKmD,gBAEhG,CAAC3C,EAAQ1E,KAGR,uCACI,gCACI,8BAAK0E,EAAQ1E,KACb,8BAAK0E,EAAQnF,OACb,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,2BAEHqH,GAAQA,EAAKS,SAAStE,KAAI,SAAAuE,GACvB,OACI,eAAC,GAAD,CAEIA,QAASA,EACTC,MAAOX,EAAKW,OAFPD,EAAQtH,WAUxBsqB,GAAW,WAEpB,IAAMlkB,EAAWoC,eAEXrD,EAAWqF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQS,YAC9CC,EAAQoF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQU,SASjD,OAPAwF,qBAAU,WAEN,OADAxE,EAASD,GAAY,GAAI,KAClB,WACHC,EAASR,GAAY,QAE1B,CAACQ,IAGA,qCACI,gBAAC,GAAD,WACI,eAAC9H,EAAD,qEACA,gBAAC,GAAD,WACI,mCACI,iCACI,gCACI,qCACA,2DACA,+CACA,+CACA,+CACA,wBACA,2DACA,wBACA,gEAGR,iCACK6G,IAAaC,IACVD,EAASoE,OAAS,EACdpE,EAASpC,KAAI,SAAA2B,GAAO,OAChB,eAAC,GAAD,CAAuBA,QAASA,GAArBA,EAAQ1E,OAGvB,eAACxB,EAAD,8CAKd2G,IACEC,EACI,eAAC3G,GAAD,UAAI2G,IAEJ,eAAC5G,EAAD,6DCxQtBsjB,GAAgB9jB,IAAO+jB,KAAV,+GAQbmC,GAAiBlmB,IAAOmB,IAAV,+xBAQNjB,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAaZ,SAAA0B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aACtC,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MASzDyc,GAAkBtb,IAAOmB,IAAV,4LAGfjB,EAAUE,GASVmsB,GAAUvsB,IAAOa,OAAV,0tBACPX,EAAUG,MACH,SAAAU,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,SACrB,SAAAyB,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAaf,SAAAkC,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAY9B,SAAA2B,GAAK,OAAIA,EAAMjD,MAAMoB,MAAME,QAItDksB,GAAYtrB,YAAOc,GAAPd,CAAH,oDAITwsB,GAAaxsB,YAAOysB,IAAPzsB,CAAH,oEACC,SAAAe,GAAK,OAAIA,EAAMjD,MAAMC,SAASS,aAClC,SAAAuC,GAAK,OAAIA,EAAMC,QAAUD,EAAMjD,MAAMoB,MAAMO,QAAUsB,EAAMjD,MAAMoB,MAAMM,SAG9EslB,GAAa9kB,IAAO8B,MAAV,gDAIVgpB,GAAO,SAAC,GAAe,IAAdpkB,EAAa,EAAbA,QAEX,EAAwBzD,mBAAS,MAAjC,oBAAO4e,EAAP,KAAaC,EAAb,KACA,EAA4B7e,mBAAS,MAArC,oBAAO8e,EAAP,KAAeC,EAAf,KACA,EAA0C/e,mBAASypB,KAAnD,oBAAOzK,EAAP,KAAsBC,EAAtB,KACA,EAAkCjf,mBAASypB,KAA3C,oBAAOvK,EAAP,KAAkBC,EAAlB,KAEA,EAAkCnf,oBAAS,GAA3C,oBAAOgpB,EAAP,KAAkBC,EAAlB,KAEAtf,qBAAU,WACNkV,EAAQpb,EAAQrB,OAChB2c,EAAUtb,EAAQpB,SAClB4c,EAAiBxb,EAAQkD,gBAAkB,IAC3CwY,EAAa1b,EAAQmD,YAAc,MACpC,CAACnD,IAEJ,IAAM+b,EAAoB,SAAAnc,GACtB,OAAQA,EAAE2E,OAAO1J,MACb,IAAK,QACD,OAAOugB,EAAQxb,EAAE2E,OAAO8B,SAE5B,IAAK,UACD,OAAOiV,EAAU1b,EAAE2E,OAAO8B,SAE9B,IAAK,iBACD,OAAOmV,EAAiB5b,EAAE2E,OAAOC,OAErC,IAAK,aACD,OAAOkX,EAAa9b,EAAE2E,OAAOC,SAMnCihB,EAAkB,SAAA7lB,GACpB,MAAqB,SAAlBA,EAAE2E,OAAO1J,KAAwB2qB,GAAa,GAC5B,SAAlB5lB,EAAE2E,OAAO1J,KACDkF,GAAiBC,EAAQ1E,GAAI,CAChCqD,MAAOwc,EACPvc,QAASyc,EACTnY,eAAgBuB,SAAS8W,GACzBpY,WAAYsB,SAASgX,KACtB1c,MAAK,SAAA4C,GACJ,IAAIA,EAAOlC,GAAI,OAAOR,QAAQC,IAAIyC,EAAOjC,SACzC8lB,GAAa,WARrB,GAaJ,OACI,gCACI,8BAAKxlB,EAAQ1E,KACb,8BAAK0E,EAAQnF,OACb,8BACK0qB,EACG,wBACIna,SAAU2Q,EACV1V,QAAS8U,EACT5f,KAAK,WACLV,KAAK,UAGT,eAACirB,GAAD,CAAYrqB,KAAM0f,EAAOsF,IAAU1B,IAASzkB,QAAS6gB,MAG7D,8BACKoK,EACG,wBACIna,SAAU2Q,EACV1V,QAASgV,EACT9f,KAAK,WACLV,KAAK,YAGT,eAACirB,GAAD,CAAYrqB,KAAM4f,EAASoF,IAAU1B,IAASzkB,QAAS+gB,MAG/D,8BACKkK,EACG,eAAC,GAAD,CACIna,SAAU2Q,EACVvX,MAAO+W,EACPhgB,KAAK,SACLV,KAAK,iBACL6X,IAAI,MAGR6I,GAAiB,MAGzB,8BACKgK,EACG,eAAC,GAAD,CACIna,SAAU2Q,EACVvX,MAAOiX,EACPlgB,KAAK,SACLV,KAAK,aACL6X,IAAI,MAGR+I,GAAa,MAGrB,8BAAKzb,EAAQimB,OACb,8BAAKjmB,EAAQ2lB,YACb,8BACKJ,EACG,eAAC,GAAD,CAAW1qB,KAAK,OAAO4L,QAASgf,EAAiBlrB,QAAM,EAACD,SAAO,EAA/D,0BAIA,eAAC,GAAD,CAAWO,KAAK,OAAO4L,QAASgf,EAAiBlrB,QAAM,EAACD,SAAO,EAA/D,4BAKR,8BACI,eAAC,GAAD,CAAWC,QAAM,EAACD,SAAO,EAAzB,gCAQH8oB,GAAQ,WAEjB,IAAM1hB,EAAWoC,eAEXrD,EAAWqF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQS,YAC9CC,EAAQoF,cAAY,SAAA/E,GAAK,OAAIA,EAAMf,QAAQU,SAEjD,EAAwBnE,mBAAS,IAAjC,oBAAO4e,EAAP,KAAaC,EAAb,KACA,EAA4B7e,mBAAS,IAArC,oBAAO8e,EAAP,KAAeC,EAAf,KACA,EAA0B/e,mBAAS,IAAnC,oBAAOiC,EAAP,KAAc0nB,EAAd,KAEAhgB,qBAAU,WACN,IAAMjJ,EAAS,IAAIE,gBAKnB,MAJY,KAATge,GAAale,EAAOqX,IAAI,QAAS6G,GACtB,KAAXE,GAAepe,EAAOqX,IAAI,UAAW+G,GAC3B,KAAV7c,GAAcvB,EAAOqX,IAAI,QAAS9V,GACrCkD,EAASD,GAAY,GAAD,WAASxE,KACtB,WACHyE,EAASR,GAAY,QAE1B,CAACQ,EAAUyZ,EAAME,EAAQ7c,IAE5B,IAAMkmB,EAAqB,SAAA9kB,GACvB,MAAqB,UAAlBA,EAAE2E,OAAO1J,KAAyBugB,EAAQxb,EAAE2E,OAAOC,OACjC,YAAlB5E,EAAE2E,OAAO1J,KAA2BygB,EAAU1b,EAAE2E,OAAOC,YACrC,gBAAlB5E,EAAE2E,OAAO1J,OACRugB,EAAQ,IACRE,EAAU,OAIZ6K,EAAa,SAAAvmB,GACf,GAAsB,SAAlBA,EAAE2E,OAAO1J,KAAiB,CAC1B,GAAa,cAAV2D,EAAuB,OAAO0nB,EAAS,YAC1C,GAAa,aAAV1nB,EAAsB,OAAO0nB,EAAS,aACzCA,EAAS,iBACN,CACH,GAAa,eAAV1nB,EAAwB,OAAO0nB,EAAS,aAC3C,GAAa,cAAV1nB,EAAuB,OAAO0nB,EAAS,cAC1CA,EAAS,eAIjB,OACI,gBAAC,GAAD,WACI,eAACtsB,EAAD,qEACA,gBAAC,GAAD,WACI,eAAC,GAAD,CAAWiB,KAAK,cAAc4L,QAASie,EAAoBnqB,QAAM,EAACD,SAAO,EAAzE,sCACA,+BACI,0BAAQO,KAAK,QAAQ2J,MAAO2W,EAAM/P,SAAUsZ,EAA5C,UACI,yBAAQlgB,MAAM,GAAd,mBACA,yBAAQA,MAAM,IAAd,gCACA,yBAAQA,MAAM,IAAd,qCAGR,+BACI,0BAAQ3J,KAAK,UAAU2J,MAAO6W,EAAQjQ,SAAUsZ,EAAhD,UACI,yBAAQlgB,MAAM,GAAd,mBACA,yBAAQA,MAAM,IAAd,sCACA,yBAAQA,MAAM,IAAd,8CAIZ,gBAAC,GAAD,WACI,mCACI,iCACI,gCACI,qCACA,2DACA,qDACA,qDACA,8BACI,eAACqhB,GAAD,CAAShrB,KAAK,iBAAiB4L,QAAS0f,EAAxC,4BAEJ,8BACI,eAACN,GAAD,CAAShrB,KAAK,aAAa4L,QAAS0f,EAApC,4BAEJ,8BACI,eAACN,GAAD,CAAShrB,KAAK,OAAO4L,QAAS0f,EAA9B,kCAEJ,2DACA,wBACA,gEAGR,iCACK1lB,IAAaC,IACVD,EAASoE,OAAS,EACdpE,EAASpC,KAAI,SAAA2B,GAAO,OAChB,eAAC,GAAD,CAAuBA,QAASA,GAArBA,EAAQ1E,OAGvB,eAACxB,EAAD,8CAKd2G,IACEC,EACI,eAAC3G,GAAD,UAAI2G,IAEJ,eAAC5G,EAAD,wDCrUlBsjB,GAAgB9jB,IAAO+jB,KAAV,oJAOF,SAAAhjB,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMG,SAI7B,SAASytB,KAEpB,MAAsBC,cAAdjU,EAAR,EAAQA,KAAMvV,EAAd,EAAcA,IACNG,EAAaiJ,cAAbjJ,SAER,OACI,uCACKoV,IAASpV,GACN,gBAAC,GAAD,WACI,eAACnD,EAAD,UACI,eAAC,OAAD,CAAMe,GAAE,UAAKiC,EAAL,gBAAR,sEAEJ,eAAChD,EAAD,UACI,eAAC,OAAD,CAAMe,GAAE,UAAKiC,EAAL,aAAR,sEAEJ,eAAChD,EAAD,UACI,eAAC,OAAD,CAAMe,GAAE,UAAKiC,EAAL,UAAR,yEAIZ,gBAAC,IAAD,WACI,eAAC,IAAD,CAAOuV,KAAI,UAAKA,EAAL,gBAAX,SACI,eAAC,GAAD,MAEJ,eAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,aAAX,SACI,eAAC,GAAD,MAEJ,eAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,UAAX,SACI,eAAC,GAAD,MAEJ,eAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,QAAX,SACI,eAACgN,GAAD,MAEJ,eAAC,IAAD,CAAOhN,KAAI,UAAKA,EAAL,aAAX,SACI,eAACgN,GAAD,Y,kCC9CdzI,GAAiBrd,IAAOsd,MAAV,kSAOQ,SAAAvc,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMI,QAGjDM,GASAyb,GAAarb,IAAOmB,IAAV,2NACQ,SAAAJ,GAAK,OAAIA,EAAMjD,MAAMoB,MAAMC,aAG5B,SAAA4B,GAAK,OAAIA,EAAMjD,MAAMa,WAAWE,MAQjDmuB,GAAehtB,YAAOS,GAAPT,CAAH,sGACZH,GAES,SAAAkB,GAAK,OAAIA,EAAMC,QAAU,YAAc,WACnC,SAAAD,GAAK,OAAIA,EAAMC,SAAWD,EAAMjD,MAAMa,WAAWE,MAKrD,SAASouB,KAEpB,MAAoBF,cAAdjU,EAAN,EAAMA,KAAMvV,EAAZ,EAAYA,IAGN2pB,EADevgB,cAAbjJ,SACiBoB,MAAM,KAAK2E,MAAM,EAAG,GACvCmP,EAAU,CAAC,GAAI,SAIrB,OAHGsU,GAASA,EAAQnoB,KAAI,SAAA+T,GAAI,OAAIF,EAAQ5U,KAAK8U,MAIzC,uCACI,eAAC,GAAD,CAAUF,QAASA,IACnB,eAAC1X,GAAD,UACI,gBAACE,GAAD,WACI,gBAAC,GAAD,WACI,gBAAC,GAAD,WACI,eAACZ,EAAD,uCACA,iCACI,eAACwsB,GAAD,CAAchsB,QAAwB,gBAAfksB,EAAQ,GAA/B,SACoB,gBAAfA,EAAQ,GACL,gGAEA,eAAC,OAAD,CAAM5rB,GAAE,UAAKiC,EAAL,wBAAR,sEAGR,eAACypB,GAAD,CAAchsB,QAAwB,aAAfksB,EAAQ,GAA/B,SACoB,aAAfA,EAAQ,GACL,gGAEA,eAAC,OAAD,CAAM5rB,GAAE,UAAKiC,EAAL,qBAAR,sEAGR,eAACypB,GAAD,CAAchsB,QAAwB,UAAfksB,EAAQ,GAA/B,SACoB,UAAfA,EAAQ,GACL,gGAEA,eAAC,OAAD,CAAM5rB,GAAE,UAAKiC,EAAL,kBAAR,4EAKhB,gBAAC,GAAD,WACI,eAAC/C,EAAD,uCACA,+BACI,eAACwsB,GAAD,CAAchsB,QAAwB,UAAfksB,EAAQ,GAA/B,SACoB,UAAfA,EAAQ,GACL,8EAEA,eAAC,OAAD,CAAM5rB,GAAE,UAAKiC,EAAL,UAAR,yDAKhB,gBAAC,GAAD,WACI,eAAC/C,EAAD,uCACA,+BACI,eAACwsB,GAAD,CAAchsB,QAAwB,SAAfksB,EAAQ,GAA/B,SACoB,SAAfA,EAAQ,GACL,8EAEA,eAAC,OAAD,CAAM5rB,GAAE,UAAKiC,EAAL,SAAR,4DAOpB,eAAC,IAAD,UACI,eAAC,IAAD,CAAOuV,KAAI,UAAKA,EAAL,YAAX,SACI,eAACgU,GAAD,gBCvG5BK,KAAQC,IAAIC,MAEZ,IAAMC,GAASttB,IAAOmB,IAAV,4BAgCGosB,OA9Bf,WAEE,OACE,eAAC,aAAD,UACE,gBAACD,GAAD,WACE,eAAC,IAAD,IACA,eAAC,GAAD,IACA,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOE,OAAK,EAAC1U,KAAK,IAAlB,SACE,eAACxB,GAAD,MAEF,eAAC,IAAD,CAAOwB,KAAK,cAAZ,SACE,eAACuO,GAAD,MAEF,eAAC,IAAD,CAAOvO,KAAK,eAAZ,SACE,eAACyQ,GAAD,MAEF,eAAC,IAAD,CAAOzQ,KAAK,QAAZ,SACE,eAAC8R,GAAD,MAEF,eAAC,IAAD,CAAO9R,KAAK,SAAZ,SACE,eAACmU,GAAD,SAGJ,eAAC,GAAD,UCxCKQ,GAAQC,aAAe,CAClCC,QAAS,CACPjnB,QAASknB,GACTlpB,QAASmpB,GACTtlB,KAAMulB,MCEVC,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,KAAD,CAAUR,MAAOA,GAAjB,SACE,eAAC,IAAD,CAAe3vB,MAAOA,EAAtB,SACE,eAAC,GAAD,UAINowB,SAASC,eAAe,W","file":"static/js/main.d3b96828.chunk.js","sourcesContent":["export const theme = {\n    fontSize: {\n        bannerLarge: \"64px\",\n        bannerMedium: \"48px\",\n        svgLarge: \"40px\",\n        h2: \"32px\",\n        svg: \"28px\",\n        btn: \"24px\",\n        h3: \"22px\",\n        h4: \"18px\",\n        bodyLarge: \"16px\",\n        body: \"14px\",\n        bodySmall: \"12px\",\n    },\n    fontWeight: {\n        xxl: \"900\",\n        xl: \"700\",\n        l: \"500\",\n        m: \"400\",\n        s: \"300\",\n        xs: \"100\",\n    },\n    color: {\n        lightGrey: \"#aaa\",\n        grey: \"#555\",\n        black: \"#333\",\n        white: \"#fff\",\n        light_primary: \"#eee\",\n        alert: \"#e83927\",\n        success: \"#40a85f\",\n        brown: \"#918481\",\n        yellow: \"#d4ad54\",\n    },\n}","import styled, { css } from \"styled-components\"\nimport { theme } from \"./theme\"\n\nexport const MEDIA_QUERY = {\n    l: \"@media (max-width: 1366px)\",\n    main: \"@media (max-width: 1024px)\",\n    m: \"@media (max-width: 768px)\",\n    s: \"@media (max-width: 512px)\",\n    xs: \"@media (max-width: 256px)\",\n}\n\nexport const LinkedTag = css`\n    & a {\n        display: inline-block;\n        color: ${theme.color.black};\n        &::after {\n            content: '';\n            display: block;\n            width: 0%;\n            height: 2px;\n            background-color: ${theme.color.black};\n            transition: width .4s;\n        }\n        &:hover {\n            &::after {\n                width: 100%\n            }\n        }\n    }\n`\n\nexport const LinkedUL = styled.ul`\n    & a {\n        display: block;\n        color: ${theme.color.black};\n        & h4, p {\n            &::after {\n                content: '';\n                display: block;\n                width: 0%;\n                height: 2px;\n                background-color: ${theme.color.black};\n                transition: width .4s;\n            }\n        }\n        &:hover {\n            & h4, p {\n                &::after {\n                    width: 100%\n                }\n            }\n        }\n    }\n`\n\nexport const fontTheme = {\n    h2: css`\n        font-size: ${theme.fontSize.h2};\n        font-weight: ${theme.fontWeight.xl};\n        line-height: 2em;\n    `,\n    h3: css`\n        font-size: ${theme.fontSize.h3};\n        font-weight: ${theme.fontWeight.xl};\n        line-height: 1.5em;\n    `,\n    h4: css`\n        font-size: ${theme.fontSize.h4};\n        font-weight: ${theme.fontWeight.l};\n        line-height: 1.5em;\n    `, \n    h5: css`\n        font-size: ${theme.fontSize.bodySmall};\n        font-weight: ${theme.fontWeight.s};\n        line-height: 1.5em;\n    `,\n    p: css`\n        font-size: ${theme.fontSize.bodyLarge};\n        font-weight: ${theme.fontWeight.l};\n        line-height: 1.5em;\n    `,\n    span: css`\n        font-size: ${theme.fontSize.body};\n        font-weight: ${theme.fontWeight.m};\n        line-height: 1.5em;\n    `\n}\n\nexport const H2 = styled.h2`\n    ${fontTheme.h2}\n    color: ${theme.color.black};\n`\n\nexport const H3 = styled.h3`\n    ${fontTheme.h3}\n    color: ${theme.color.black};\n`\n\nexport const H4 = styled.h4`\n    ${fontTheme.h4}\n    color: ${theme.color.black};\n`\n\nexport const P = styled.p`\n    ${fontTheme.p}\n    color: ${theme.color.black};\n`\n\nexport const Span = styled.span`\n    ${fontTheme.span}\n    color: ${theme.color.black};\n`\n\nexport const H5 = styled.h5`\n    ${fontTheme.h5}\n    color: ${theme.color.black};\n`\n\n\nexport const Btn = styled.button`\n    & svg {\n        font-size: ${theme.fontSize.svg};\n        color: ${theme.color.lightGrey};\n        transition: .2s;\n    }\n    &:hover svg {\n        cursor: pointer;\n        color: ${theme.color.grey};\n    }\n`\n\nexport const TextBtn = styled.button`\n    padding: 5px 15px;\n    border-radius: .25em;\n    transition: .2s;\n    \n    ${fontTheme.span}\n    font-weight: ${props => props.theme.fontWeight.l};\n    \n    border: 1px solid ${props => props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n    background-color: ${props => (props.$white && props.$active) ? props.theme.color.white : props.$white ? props.theme.color.light_primary : props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n    color: ${props => !props.$white ? props.theme.color.white : props.$active ? props.theme.color.black : props.theme.color.grey};\n    &:hover {\n        border-color: ${props => props.$white && props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n        background-color: ${props => !props.$white ? props.theme.color.lightGrey : props.$active ? props.theme.color.black : props.theme.color.light_primary};\n        color: ${props => (props.$white && !props.$active) ? props.theme.color.grey : props.theme.color.white};\n    }\n    cursor: ${props => props.$active ? 'pointer' : 'not-allowed'};\n`\n\nexport const PageWrapper = styled.div``\nexport const PageContainer = styled.div`\n    width: 90%;\n    ${MEDIA_QUERY.s} {\n        width: 100%;\n    }\n    margin: 0 auto;\n    display: flex;\n    align-items: flex-start;\n`\n","import { Link } from \"react-router-dom\";\nimport { H4, P, Span } from \"../constants/style\";\n\nexport const LinkItem = ({to, name, size}) => {\n\n  return (\n    <Link to={to}>\n      {size === 'H4' && (\n        <H4>{name}</H4>\n      )}\n      {size === 'P' && (\n        <P>{name}</P>\n      )}\n      {size === 'Span' && (\n        <Span>{name}</Span>\n      )}\n    </Link>\n  )\n}\n","import styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { LinkedUL, MEDIA_QUERY, Btn } from \"../../constants/style\"\n\nimport { LinkItem } from \"../LinkItem\"\n\n\nconst MobileMenuNav = styled.nav`\n  display: none;\n  ${MEDIA_QUERY.main} {\n    display: block;\n  }\n`\n\nconst MobileMenu = styled(LinkedUL)`\n\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 20;\n  width: 75%;\n  max-width: 360px;\n  height: 100vh;\n  padding: 0 10px;\n  background-color: #fff;\n  box-shadow: 1px 0px 5px #aaa;\n  overflow-y: auto;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  & li {\n    & a {\n      position: relative;\n      width: 100%;\n      & h4, p {\n        position: absolute;\n        left: 5%;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n    }\n  }\n\n  & > div {\n    & > li {\n      & > a {\n        height: 60px;\n        & > h4 {\n          line-height: 2em;\n        }\n      }\n      & > ul {\n        margin-left: 30px;\n        display: none;\n        & > li {\n          & > a {\n            height: 50px;\n          }\n          & > ul {\n            display: none; \n            margin-left: 30px;\n            & > li {\n              & > a {\n                height: 40px;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n`\n\nconst ToggleBtn = styled(Btn)`\n  width: 60px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  right: 0;\n  z-index: 21;\n  & svg {\n    font-size: ${props => props.theme.fontSize.h4};\n  }\n`\n\n\nconst ToggleInput = styled.input`\n  position: absolute;\n  right: 0;\n  opacity: 0;\n  z-index: -1;\n  &:checked ~ ul {\n    display: block;\n  }\n  &:checked + button {\n    & svg {\n      color: ${props => props.theme.color.grey};\n      transform: rotate(0.5turn);\n    }\n  }\n`\n\nconst CheckBox = ({id}) => {\n  return (\n    <>\n      <ToggleInput id={id} type=\"checkbox\"/>\n      <ToggleBtn>\n        <label htmlFor={id}>\n            <FontAwesomeIcon icon={faChevronDown}/>\n        </label>\n      </ToggleBtn>\n    </>\n  )\n}\n\nexport default function MobileNav() {\n  return (\n    <MobileMenuNav>\n      <MobileMenu>\n        <div>\n          <li><LinkItem to=\"#\" name=\"新品上市\" size=\"H4\" /></li>\n          <li>\n            <CheckBox id=\"collection\"/>\n            <LinkItem to=\"/collection\" name=\"商品一覽\" size=\"H4\" />\n            <ul>\n              <li>\n                <CheckBox id=\"collection-men\" />\n                <LinkItem to=\"/collection/men\" name=\"男裝\" size=\"H4\" />\n                <ul>\n                  <li><LinkItem to=\"/collection/men/tops\" name=\"上衣類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/men/shirts\" name=\"襯衫類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/men/knit\" name=\"針織衫 / 毛衣\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/men/bottoms\" name=\"褲裝類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/men/outer\" name=\"外套類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/men/general\" name=\"配件類\" size=\"P\" /></li>\n                </ul>\n              </li>\n              <li>\n                <CheckBox id=\"collection-women\" />\n                <LinkItem to=\"/collection/women\" name=\"女裝\" size=\"H4\" />\n                <ul>\n                  <li><LinkItem to=\"/collection/women/tops\" name=\"上衣 / 襯衫\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/women/knit\" name=\"針織衫 / 毛衣\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/women/bottoms\" name=\"褲裝類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/women/skirts\" name=\"裙子類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/women/one_piece\" name=\"洋裝類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/women/outer\" name=\"外套類\" size=\"P\" /></li>\n                  <li><LinkItem to=\"/collection/women/general\" name=\"配件類\" size=\"P\" /></li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li>\n            <CheckBox id=\"on-sale\" />\n            <LinkItem to=\"#\" name=\"特價專區\" size=\"H4\" />\n            <ul>\n              <li><LinkItem to=\"#\" name=\"秋冬女裝新品_7折起\" size=\"H4\" /></li>\n              <li><LinkItem to=\"#\" name=\"秋冬男裝新品_7折起\" size=\"H4\" /></li>\n              <li><LinkItem to=\"#\" name=\"春夏商品出清_3折起\" size=\"H4\" /></li>\n            </ul>\n          </li>\n          <li><LinkItem to=\"#\" name=\"關於我們\" size=\"H4\" /></li>\n        </div>\n        <div>\n          <li><LinkItem to=\"#\" name=\"登入\" size=\"H4\" /></li>\n          <li><LinkItem to=\"#\" name=\"願望清單\" size=\"H4\" /></li>\n        </div>\n      </MobileMenu>\n    </MobileMenuNav>\n  );\n}","import styled from \"styled-components\"\n\nimport { LinkedUL, MEDIA_QUERY } from \"../../constants/style\"\n\nimport { LinkItem } from \"../LinkItem\"\n\nconst MenuNav = styled.nav`\n  ${MEDIA_QUERY.main} {\n    display: none;\n  }\n`\n\nconst Menu = styled(LinkedUL)`\n  margin: 0 20px;\n  display: flex;\n\n  & > li {\n    margin: 0 5px;\n    padding: 16px 0;\n    position: relative;\n    & h4 {\n      padding: 0 10px;\n      line-height: 2em;\n    }\n    & > div {\n      display: none;\n      position: absolute;\n    }\n    &:hover > div {\n      display: flex;\n    }\n  }\n`\n\nconst SubMenu = styled.div`\n  top: 71px;\n  box-shadow: 1px 1px 5px #aaa;\n  background-color: #fff;\n  & > div {\n    margin: 20px 30px;\n    & > a {\n      padding-bottom: 10px;\n      border-bottom: 1px solid #ddd;\n      display: flex;\n      & h4 {\n        font-weight: ${props => props.theme.fontWeight.xl};\n        padding: 5px 5px;\n      }\n    }\n    & ul {\n      & > li {\n        & p {\n          padding: 5px 5px;\n        }\n      }\n    }\n  }\n`\n\nconst SubMenuListFlex = styled.div`\n  width: 240px;\n  & ul {\n    height: 150px;\n    padding: 10px 0;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    flex-wrap: wrap;\n  }\n`\n\nconst SubMenuListBlock = styled.div`\n  width: 180px;\n  & ul {\n    text-align: center;\n    & li {\n      display: inline-block;\n    }\n  }\n`\n\nexport default function Nav() {\n  return (\n    <MenuNav>\n      <Menu>\n        <li><LinkItem to=\"#\" name=\"新品上市\" size=\"H4\" /></li>\n        <li>\n          <LinkItem to=\"/collection\" name=\"商品一覽\" size=\"H4\" />\n          <SubMenu>\n            <SubMenuListFlex>\n              <LinkItem to=\"/collection/men\" name=\"男裝\" size=\"H4\" />\n              <ul>\n                <li><LinkItem to=\"/collection/men/tops\" name=\"上衣類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/men/shirts\" name=\"襯衫類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/men/knit\" name=\"針織衫 / 毛衣\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/men/bottoms\" name=\"褲裝類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/men/outer\" name=\"外套類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/men/general\" name=\"配件類\" size=\"P\" /></li>\n              </ul>\n            </SubMenuListFlex>\n            <SubMenuListFlex>\n              <LinkItem to=\"/collection/women\" name=\"女裝\" size=\"H4\" />\n              <ul>\n                <li><LinkItem to=\"/collection/women/tops\" name=\"上衣 / 襯衫\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/women/knit\" name=\"針織衫 / 毛衣\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/women/bottoms\" name=\"褲裝類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/women/skirts\" name=\"裙子類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/women/one_piece\" name=\"洋裝類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/women/outer\" name=\"外套類\" size=\"P\" /></li>\n                <li><LinkItem to=\"/collection/women/general\" name=\"配件類\" size=\"P\" /></li>\n              </ul>\n            </SubMenuListFlex>\n          </SubMenu>\n        </li>\n        <li>\n          <LinkItem to=\"#\" name=\"特價專區\" size=\"H4\" />\n          <SubMenu>\n            <SubMenuListBlock>\n              <ul>\n                <li><LinkItem to=\"#\" name=\"秋冬女裝新品_7折起\" size=\"P\" /></li>\n                <li><LinkItem to=\"#\" name=\"秋冬男裝新品_7折起\" size=\"P\" /></li>\n                <li><LinkItem to=\"#\" name=\"春夏商品出清_3折起\" size=\"P\" /></li>\n              </ul>\n            </SubMenuListBlock>\n          </SubMenu>\n        </li>\n        <li><LinkItem to=\"#\" name=\"關於我們\" size=\"H4\" /></li>\n      </Menu>\n    </MenuNav>\n  );\n}","import { useState } from \"react\"\nimport styled, { keyframes } from \"styled-components\";\n\nconst spin_loader = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nexport const Loader = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  margin: auto;\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid #aaa;\n  border-radius: 50%;\n  width: 10%;\n  height: 10%;\n  animation: ${spin_loader} 1s linear infinite;\n`\n\nexport const Img = ({image}) => {\n\n    const [isLoading, setIsLoading] = useState(true)\n  \n    const handleImgLoad = () => {\n        setIsLoading(false)\n    }\n  \n    return (\n        <>\n            {isLoading && (\n                <Loader />\n            )}\n            <img src={image.src} alt={image.alt} onLoad={handleImgLoad}/>\n        </>\n    )\n}\n","const baseURL = process.env.NODE_ENV === 'production' ? 'https://erika-backend.herokuapp.com' : 'http://localhost:5000'\nconst url = baseURL + '/api/v1'\n\nconst getProductsAPI = (pathname, search) => {\n\n    const Arr = [];\n    search = new URLSearchParams(search);\n    const gender = pathname[0]\n    const category = pathname[1]\n    const genderObj = {\n        men: 'M',\n        women: 'F',\n    }\n    const categoryObj = {\n        tops: 101,\n        shirts: 102,\n        knit: 104,\n        one_piece: 105,\n        outer: 106,\n        bottoms: 201,\n        skirts: 301,\n        general: 401\n    }\n    const orderArr = ['price_desc', 'price_asc', 'sold_desc', 'sold_asc']\n\n    if(gender){\n        Arr.push(['gender', genderObj[gender]])\n    }\n    if(category){\n        Arr.push(['category', categoryObj[category]])\n    }\n\n    if(search.has('size')){\n        const sizes = search.get('size').split(' ').map(size => (\n            ['_size[]', size]\n        ))\n        Arr.push(...sizes)\n    }\n\n    if(search.has('color')){\n        const colors = search.get('color').split(' ').map(size => (\n            ['_color[]', size]\n        ))\n        Arr.push(...colors)\n    }\n\n    if(search.has('price')){\n        const prices = search.get('price').split('-')\n        Arr.push(['_min', prices[0]], ['_max', prices[1]])\n    }\n\n    if(search.has('order')){\n        const order = search.get('order')\n        Arr.push(['_order', orderArr.indexOf(order)+1])\n    }\n\n    if(search.has('page')){\n        const page = search.get('page')\n        Arr.push(['_page', page])\n    }\n\n    if(search.has('is_on')){\n        const is_on = search.get('is_on')\n        Arr.push(['_is_on', is_on])\n    }\n\n    if(search.has('is_sale')){\n        const is_sale = search.get('is_sale')\n        Arr.push(['_is_sale', is_sale])\n    }\n\n    const query = new URLSearchParams(Arr);\n\n    return fetch(`${url}/products?${query}`)\n    .then(res => {\n        console.log(`${query}`)\n        let msg = null;\n        if (res.status === 400) {\n            msg = \"目前暫無商品\";\n        } else if (res.status === 200){\n            msg = \"取得商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst getProductAPI = id => {\n    return fetch(url + `/products/${id}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 400) {\n            msg = \"目前暫無商品\";\n        } else if (res.status === 200){\n            msg = \"取得商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst getTrendingProductsAPI = () => {\n    return fetch(url + `/product/trending`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 400) {\n            msg = \"目前暫無商品\";\n        } else if (res.status === 200){\n            msg = \"取得商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst addProductAPI = product => {\n    return fetch(`${url}/products`, {\n        method: 'POST',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(product)\n    })\n    .then(res => {\n        let msg = null;\n        if (res.status === 400) {\n            msg = \"商品名稱重複\";\n        } else if (res.status === 200){\n            msg = \"新增商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst updateProductAPI = (id, product) => {\n    return fetch(`${url}/products/${id}`, {\n        method: 'PATCH',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(product)\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 200: {\n                msg = \"更新商品成功\";\n                break\n            }\n            case 403: {\n                msg = \"商品名稱重複\";\n                break\n            }\n            case 404: {\n                msg = \"無此id對應的商品\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst updatePatternAPI = (id, pattern) => {\n    return fetch(`${url}/product/patterns/${id}`, {\n        method: 'PATCH',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(pattern)\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 200: {\n                msg = \"更新存貨數量成功\";\n                break\n            }\n            case 403: {\n                msg = \"存貨數量不可為負\";\n                break\n            }\n            case 404: {\n                msg = \"無此id對應的存貨\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })    \n}\n\nconst deleteProductAPI = id => {\n    return fetch(`${url}/products/${id}`, {\n        method: 'DELETE',\n        headers: {\n            'content-type': 'application/json'\n        }\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 200: {\n                msg = \"刪除商品成功\";\n                break\n            }\n            case 404: {\n                msg = \"無此id對應的商品\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })    \n}\n\nconst getFeedImages = () => {\n    return fetch('https://api.unsplash.com/topics/fashion', {\n        method: 'GET',\n        headers: {\n            'Accept-Version': 'v1',\n            'Authorization': `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n        },\n    })\n    .then(res => res.json())\n    .then(data => {\n        const query = new URLSearchParams({\n            topics: data.id,\n            orientation: 'squarish',\n            count: 6,\n        }).toString()\n        return fetch('https://api.unsplash.com/photos/random?' + query, {\n            method: 'GET',\n            headers: {\n                'Accept-Version': 'v1',\n                'Authorization': `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n            },\n        })\n        .then(res => res.json())\n    })\n}\n\nconst searchProductAPI = arr => {\n\n    const query = new URLSearchParams(arr);\n\n    return fetch(url + `/product/search?${query}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 400) {\n            msg = \"目前暫無商品\";\n        } else if (res.status === 200){\n            msg = \"搜尋商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nexport { getFeedImages, getProductsAPI, getProductAPI, addProductAPI, updateProductAPI, updatePatternAPI, deleteProductAPI, getTrendingProductsAPI, searchProductAPI };","import { createSlice } from '@reduxjs/toolkit'\nimport { getProductsAPI, getProductAPI } from '../../webAPI/productAPI';\n\nconst initialState = {\n  unfilteredProducts: null,\n  products: null,\n  product: null,\n  error: null,\n  spec: {size: '', color: '', qty: ''},\n}\n\nexport const productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    setUnfilteredProducts: (state, action) => {\n      state.unfilteredProducts = action.payload;\n    },\n    setProducts: (state, action) => {\n      state.products = action.payload;\n    },\n    setProduct: (state, action) => {\n      state.product = action.payload;\n    },\n    setError: (state, action) => {\n      state.error = action.payload;\n    },\n    setSize: (state, action) => {\n      state.spec.size = action.payload;\n    },\n    setColor: (state, action) => {\n      state.spec.color = action.payload;\n    },\n    setQty: (state, action) => {\n      state.spec.qty = action.payload;\n    },\n  },\n})\n\nexport const { \n  setUnfilteredProducts,\n  setProducts,\n  setProduct,\n  setError,\n  setSize,\n  setColor,\n  setQty,\n} = productSlice.actions\n\nexport const getUnfilteredProducts = pathname => dispatch => {\n  getProductsAPI(pathname, '')\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setUnfilteredProducts(''))\n      }\n      dispatch(setUnfilteredProducts(result.data))\n    })\n}\n\nexport const getProducts = (pathname, search) => dispatch => {\n  getProductsAPI(pathname, search)\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setProducts(''))\n        return dispatch(setError(result.message))\n      }\n      dispatch(setProducts(result.data))\n      dispatch(setError(null))\n    })\n}\n\nexport const getProduct = id => dispatch => {\n  getProductAPI(id)\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setProduct(''))\n        return dispatch(setError(result.message))\n      }\n      dispatch(setProduct(result.data))\n      dispatch(setError(null))\n    })\n}\n\nexport default productSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\nimport { getProductAPI } from '../../webAPI/productAPI';\nimport { setError } from '../product/productSlice';\n\nconst initialState = {\n  cart: null, \n  errorMessage: '',\n}\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    setCart: (state, action) => {\n      state.cart = action.payload;\n    },\n    setCartQty: (state, action) => {\n      state.cart.find(item => \n        item.pattern_id === action.payload.pattern_id\n      ).qty = action.payload.qty\n    },\n    deleteCart: (state, action) => {\n      state.cart = state.cart.filter((item, index) => index !== action.payload)\n    },\n    addCart: (state, action) => {\n      state.cart.push(action.payload);\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n  },\n})\n\nexport const { \n  setCart,\n  setCartQty,\n  addCart,\n  deleteCart,\n  setErrorMessage\n} = cartSlice.actions\n\n\nexport const getCartStorage = () => dispatch => {\n  const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n  dispatch(setCartStorage(cartItem))\n}\n\nconst getProductInfo = item => dispatch => {\n  return getProductAPI(item.id)\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setError(result.message))\n        throw new Error(result.message)\n      }\n      return result.data\n    })\n    .then(product => {\n      item.name = product.product.name;\n      const itemPattern = product.patterns.find(pattern => (pattern.id === item.pattern_id))\n      const group = product.product.Category.group.slice(0, -1)\n      item.size = itemPattern[group].size;\n      item.color = itemPattern.Color.name;\n      item.total = itemPattern.total;\n      item.price_standard = product.product.price_standard;\n      item.price_sale = product.product.price_sale;\n      item.is_on = product.product.is_on;\n      item.is_sale = product.product.is_sale;\n      const mainImg = product.product.Images.find(img => img.is_main)\n      item.src = mainImg.src;\n      item.alt = mainImg.alt;\n    })\n    .catch(e => console.log(e.message))\n}\n\nexport const setCartStorage = items => dispatch => {\n  Promise.all(\n    items.map(async item => {\n        await dispatch(getProductInfo(item))\n        return item\n    })\n  ).then(items => {\n    console.log(items)\n    dispatch(setCart(items))\n  })\n}\n\nexport const addCartStorage = item => dispatch => {\n  dispatch(getProductInfo(item))\n    .then(() => dispatch(addCart(item)))\n}\n\nexport default cartSlice.reducer","import { useDispatch } from \"react-redux\";\nimport { deleteCart, setCartQty } from \"../features/cart/cartSlice\";\n\nexport default function useCart (item) {\n\n    const dispatch = useDispatch()\n\n    const handleDeleteCart = index => () => {\n        dispatch(deleteCart(index))\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        cartLocal = cartLocal.filter((item, i) => i !== index)\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const handleQtyChange = e => {\n        if(!e.target.value) return\n        dispatch(setCartQty({pattern_id: item.pattern_id, qty: parseInt(e.target.value)}))\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        cartLocal = cartLocal.map(i => {\n            if(i.pattern_id === item.pattern_id){\n                i.qty = parseInt(e.target.value)\n            }\n            return i\n        })\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const handleBtnClick = (direction) => {\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        if(direction === 'inc') {\n            dispatch(setCartQty({pattern_id: item.pattern_id, qty: item.qty+1}))\n            cartLocal = cartLocal.map(i => {\n                if(i.pattern_id === item.pattern_id){\n                    i.qty += 1\n                }\n                return i\n            })\n        }\n        if(direction === 'dec') {\n            if(item.qty<=1) return \n            dispatch(setCartQty({pattern_id: item.pattern_id, qty: item.qty-1}))\n            cartLocal = cartLocal.map(i => {\n                if(i.pattern_id === item.pattern_id){\n                    i.qty -= 1\n                }\n                return i\n            })\n        }\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const getTotal = cart => {\n        if(cart.length === 0) return\n        return cart.map(item => \n            (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n        ).reduce((acc, cur) => acc + cur)\n    }\n\n    const hasError = errorMessage => {\n        if(!errorMessage.length) return false\n        return errorMessage.some(err => err)\n    }\n\n    return {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick,\n        getTotal,\n        hasError\n    }\n}","import styled from \"styled-components\"\n\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faShoppingCart, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\n\nimport { Span, H4, Btn, fontTheme, TextBtn } from \"../../constants/style\"\n\nimport { Img } from \"../Img\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { setCartStorage } from \"../../features/cart/cartSlice\";\nimport useCart from \"../../hooks/useCart\";\nimport { useRef } from \"react\";\n\n\nconst MenuBtn = styled.div`\n  position: relative;\n  & > input {\n    display: none;\n    &:checked {\n        & ~ div {\n            display: flex;\n        }\n        & + label {\n            display: block;\n        }\n    }\n  }\n  & > button {\n    &:hover span {\n      cursor: pointer;\n    }\n    & span {\n      position: absolute;\n      width: 15px;\n      line-height: 15px;\n      vertical-align: middle;\n      top: -5px;\n      right: -5px;\n      font-size: ${props => props.theme.fontSize.bodySmall};\n      background-color: ${props => props.theme.color.black};\n      color: ${props => props.theme.color.white};\n      border-radius: 50%;\n    }\n  }\n`\n\nconst CartContainer = styled.div`\n  position: absolute;\n  top: calc(35px + calc(28.5px/2));\n  right: 0;\n  width: 50vw;\n  max-width: 300px;\n  background-color: #fff;\n  border: 1px solid #aaa;\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  & > ul {\n    max-height: 240px;\n    overflow: auto;\n  }\n  & > h4 {\n    padding: 20px;\n  }\n  & > a {\n    margin: 10px;\n  }\n`\n\nconst CartCard = styled.li`\n  display: flex;\n  align-items: flex-start;\n  text-align: left;\n  & > button {\n    padding: 5px;\n    & svg {\n      font-size: ${props => props.theme.fontSize.body};\n      color: ${props => props.theme.color.black};\n    }\n  }\n`\n\nconst CartImage = styled.div`\n  margin: 5px;\n  width: 30%;\n  position: relative;\n  & img {\n    width: 100%;\n  }\n`\nconst CartInfo = styled.div`\n  padding: 5px;\n  width: 70%;\n  ${fontTheme.span}\n  font-weight: ${props => props.theme.fontWeight.l};\n  & p {\n    font-size: ${props => props.theme.fontSize.bodySmall};\n    font-weight: ${props => props.theme.fontWeight.m};\n  }\n  & > span {\n    color: ${props => props.theme.color.alert};\n    font-weight: ${props => props.theme.fontWeight.l};\n    & > span {\n      text-decoration: line-through;\n      color: ${props => props.theme.color.grey};\n      margin-right: 3px;\n    }\n  }\n`\n\nconst ToCartBtn = styled(TextBtn)`\n`\n\nconst Cover = styled.label`\n  z-index: 0;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  display: none;\n  // background-color: #aaaa;\n`\n\nexport const Cart = () => {\n\n    const dispatch = useDispatch()\n    const cart = useSelector(state => state.cart.cart)\n    const error = useSelector(state => state.product.error)\n\n    const cartDOM = useRef()\n    const { pathname, search } = useLocation()\n\n    useEffect(() => {\n      const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n      dispatch(setCartStorage(cartItem))\n    }, [dispatch])\n\n    useEffect(() => {\n      cartDOM.current.checked = false\n    }, [pathname, search])\n  \n    const {\n      handleDeleteCart\n    } = useCart()\n\n    const handleCloseHeaderCart = () => {\n      cartDOM.current.checked = false\n    }\n  \n    return (\n      <MenuBtn>\n        <Btn>\n          <label htmlFor=\"cart\">\n            <FontAwesomeIcon icon={faShoppingCart} />\n            {cart && cart.length > 0 && (\n              <Span>{cart.reduce(((acc, cur) => acc + cur.qty), 0)}</Span>\n            )}\n          </label>\n        </Btn>\n        <input type=\"checkbox\" id=\"cart\" ref={cartDOM} />\n        <Cover htmlFor=\"cart\" />\n        <CartContainer>\n          {(!cart || !cart.every(item => item.name)) && (\n            error ? (\n              <H4>{error}</H4>\n            ) : (\n              <H4>商品載入中...</H4>\n            )\n          )}\n          {cart && cart.every(item => item.name) && !error && (\n            <>\n              {cart.length > 0 ? (\n                <ul>\n                  {cart.map((item, i) => {\n                    const url = `/product/${item.id}`\n                    return (\n                      <CartCard key={item.pattern_id}>\n                        <CartImage>\n                          <Link to={url}>\n                            <Img image={{src: item.src, alt: item.alt}} />\n                          </Link>\n                        </CartImage>\n                        <CartInfo>\n                          {item.qty} x {item.name}\n                          <p>尺寸: {item.size}, 顏色: {item.color}</p>\n                          {item.is_sale ? (\n                            <Span>\n                              <Span>${item.price_standard}</Span>\n                              ${item.price_sale}\n                            </Span>\n                            ) : (\n                            <>${item.price_standard}</>\n                          )}\n                        </CartInfo>\n                        <button onClick={handleDeleteCart(i)}>\n                          <FontAwesomeIcon icon={faTrashAlt}/>\n                        </button>\n                      </CartCard>\n                    )\n                  })}\n                </ul>\n              ) : (\n                <H4>購物車內目前沒有商品</H4>\n              )}\n              <Link to=\"/cart\" onClick={handleCloseHeaderCart}>\n                  <ToCartBtn $active={cart.length > 0}>\n                      前往結帳\n                  </ToCartBtn>\n              </Link>\n            </>\n          )}\n        </CartContainer>\n      </MenuBtn>\n    )\n  }","export default __webpack_public_path__ + \"static/media/logo.2f43df1d.png\";","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\nimport logo from '../assets/logo.png'\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nconst LogoContainer = styled.h1`\n  display: block;\n  height: 70px;\n  text-align: center;\n  ${MEDIA_QUERY.xs} {\n    display: none;\n  }\n`\n\nexport const Logo = () => {\n    return (\n      <LogoContainer>\n        <Link to=\"/\">\n          <img src={logo} height=\"70px\" alt=\"logo\"/>\n        </Link>\n      </LogoContainer>\n    )\n}","import styled from \"styled-components\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars, faUser, faHeart } from '@fortawesome/free-solid-svg-icons';\n\nimport { Btn, fontTheme, TextBtn } from \"../../constants/style\";\nimport { MEDIA_QUERY } from \"../../constants/style\";\n\nimport MobileNav from './MobileNav';\nimport Nav from './Nav';\nimport { Cart } from \"./Cart\";\nimport { Logo } from '../Logo';\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\n\nconst HeaderWrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background-color: ${props => props.theme.color.white};\n  box-shadow: 1px 0px 5px #aaa;\n`\n\nconst HeaderContainer = styled.div`\n  height: 70px;\n  width: 90%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  & > h1 {\n    display: none;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    ${MEDIA_QUERY.main} {\n      display: block;\n    }\n    ${MEDIA_QUERY.xs} {\n      display: none;\n    }\n  }\n`\n\nconst HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n  ${MEDIA_QUERY.main} {\n    & > h1 {\n      display: none;\n    }\n  }\n`\n\nconst HeaderRight = styled.div`\n  display: flex;\n  align-items: center;\n  & > a {\n    margin-right: 30px;\n    ${MEDIA_QUERY.main} {\n      display: none;\n    }\n  }\n`\n\nconst BurgerBtn = styled(Btn)`\n  display: none;\n  ${MEDIA_QUERY.main} {\n    display: block;\n  }\n`\n\nconst BurgerInput = styled.input`\n  ${MEDIA_QUERY.main} {\n    display: block;\n  }\n  position: absolute;\n  left: 0;\n  display: none;\n  opacity: 0;\n  z-index: -1;\n  & ~ nav {\n    & > ul {\n      left: -380px;\n      transition: .25s;\n    }\n  }\n  :checked ~ nav {\n    & > ul {\n      left: 0;\n    }\n  }\n  :checked + button {\n    & label::after {\n      display: none;\n      content: '';\n      width: 100%;\n      height: 100vh;\n      position: fixed;\n      left: 0;\n      top: 0;\n      z-index: 11;\n      background: rgba(0,0,0,0.7);\n      ${MEDIA_QUERY.main} {\n        display: block;\n      }\n    }\n  }\n`\n\nconst MenuBtnGroup = styled.div`\n  display: flex;\n  & > div {\n    ${MEDIA_QUERY.main} {\n      &:nth-child(-n+2){\n        display: none;\n      }\n    }\n    & + div {\n      margin-left: 30px;\n    }\n  }\n`\n\nconst ToAdminBtn = styled(TextBtn)`\n`\n\n\nexport default function Header() {\n\n  const navDOM = useRef()\n  const { pathname, search } = useLocation()\n\n  const style = {\n    height: \"70px\",\n    position: \"relative\",\n    zIndex: \"10\"\n  }\n\n  useEffect(() => {\n    navDOM.current.checked = false\n  }, [pathname, search])\n\n  return (\n    <header style={style}>\n      <HeaderWrapper>\n        <HeaderContainer>\n          <HeaderLeft>\n            <BurgerInput id=\"nav\" type=\"checkbox\" ref={navDOM} />\n            <BurgerBtn>\n              <label htmlFor=\"nav\">\n                  <FontAwesomeIcon icon={faBars}/>\n              </label>\n            </BurgerBtn>\n            <MobileNav/>\n            <Logo/>\n            <Nav/>\n          </HeaderLeft>\n          <Logo/>\n          <HeaderRight>\n            <Link to=\"/admin/product\">\n              <ToAdminBtn $white $active>\n                管理後台\n              </ToAdminBtn>\n            </Link>\n            <MenuBtnGroup>\n              <div>\n                <Btn>\n                  <Link to=\"#\"><FontAwesomeIcon icon={faUser}/></Link>\n                </Btn>\n              </div>\n              <div>\n                <Btn>\n                  <Link to=\"#\"><FontAwesomeIcon icon={faHeart}/></Link>\n                </Btn>\n              </div>\n              <Cart />\n            </MenuBtnGroup>\n          </HeaderRight>\n        </HeaderContainer>\n      </HeaderWrapper>\n    </header>\n  );\n}","import Header from './Header'\nexport default Header","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { MEDIA_QUERY, Btn, LinkedUL, H5 } from \"../../constants/style\"\n\nimport { Logo } from '../Logo'\nimport { LinkItem } from '../LinkItem'\n\n\n\nconst FooterWrapper = styled.div`\n  background-color: #eee5;\n`\n\nconst FooterContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  padding: 20px 0;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n  ${MEDIA_QUERY.s} {\n    display: block;\n  }\n`\n\nconst BottomWrapper = styled.div`\n  background-color: #222;\n`\n\nconst BottomContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  & h5 {\n    text-align: center;\n    color: ${props => props.theme.color.white};\n    padding: 10px 0;\n  }\n`\n\nconst FooterLeft = styled(LinkedUL)`\n  display: flex;\n  justify-content: center;\n  ${MEDIA_QUERY.xs} {\n    display: block;\n  }\n`\n\nconst FooterRight = styled.div``\n\nconst LinkBtn = styled(Btn)``\n\nconst LinkBtnGroup = styled.div`\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  & button + button {\n    margin-left: 20px;\n  }\n`\n\nconst LinkedList = styled.li`\n  & + li {\n    margin-left: 40px;\n  }\n  ${MEDIA_QUERY.xs} {\n    & + li {\n      margin: 0;\n    }\n  }\n\n  & > a {\n    padding: 10px 0;\n    border-bottom: 1px solid #ddd;\n    display: flex;\n    & > h4 {\n      font-weight: ${props => props.theme.fontWeight.xl};\n      padding: 5px 5px;\n    }\n  }\n  & > ul {\n    padding: 10px 0;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    flex-wrap: wrap;\n    & > li {\n      & p {\n        padding: 5px 5px;\n      }\n    }\n  }\n`\n\nexport default function Footer() {\n\n  return (\n    <footer>\n      <FooterWrapper>\n        <FooterContainer>\n          <FooterRight>\n            <Logo/>\n            <LinkBtnGroup>\n              <LinkBtn>\n                <Link to=\"#\"><FontAwesomeIcon icon={['fab', 'facebook']}/></Link>\n              </LinkBtn>\n              <LinkBtn>\n                <Link to=\"#\"><FontAwesomeIcon icon={['fab', 'instagram']}/></Link>\n              </LinkBtn>\n              <LinkBtn>\n                <Link to=\"#\"><FontAwesomeIcon icon={['fab', 'twitter']}/></Link>\n              </LinkBtn>\n            </LinkBtnGroup>\n          </FooterRight>\n          <FooterLeft>\n            <LinkedList>\n              <LinkItem to=\"#\" name=\"會員中心\" size=\"H4\" />\n              <ul>\n                <li><LinkItem to=\"#\" name=\"會員資料管理\" size=\"P\" /></li>\n                <li><LinkItem to=\"#\" name=\"歷史訂單\" size=\"P\" /></li>\n                <li><LinkItem to=\"#\" name=\"願望清單\" size=\"P\" /></li>\n              </ul>\n            </LinkedList>\n            <LinkedList>\n              <LinkItem to=\"#\" name=\"關於我們\" size=\"H4\" />\n              <ul>\n                <li><LinkItem to=\"#\" name=\"隱私權條款\" size=\"P\" /></li>\n                <li><LinkItem to=\"#\" name=\"免責聲明\" size=\"P\" /></li>\n                <li><LinkItem to=\"#\" name=\"退貨政策\" size=\"P\" /></li>\n                <li><LinkItem to=\"#\" name=\"FAQ\" size=\"P\" /></li>\n              </ul>\n            </LinkedList>\n          </FooterLeft>\n        </FooterContainer>\n      </FooterWrapper>\n      <BottomWrapper>\n        <BottomContainer>\n          <H5>Copyright © 2021 TPdidilong All Rights Reserved</H5>\n        </BottomContainer>\n      </BottomWrapper>\n    </footer>\n  );\n}","import Footer from './Footer'\nexport default Footer","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\nimport useCarousel from \"../../hooks/useCarousel\";\n\nconst BannerWrapper = styled.div`\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n`\n\nconst BannerContainer = styled.div`\n  display: flex;\n  & img {\n    width: 100vw;\n  }\n`\n\nconst Btn = styled.button`\n  height: 50px;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto 0;\n  z-index: 1;\n  & svg {\n    padding: 5px 10px;\n    font-size: ${props => props.theme.fontSize.svgLarge};\n    color: ${props => props.theme.color.light_primary}4;\n    transition: .2s;\n    filter: drop-shadow(0px 0px 0.75rem ${props => props.theme.color.black});\n    &:hover {\n      color: ${props => props.theme.color.light_primary}6;\n    }\n    &:active ~ div {\n      transition: .25s;\n      transform: translateX(-400vw);\n    }\n  }\n`\n\nconst LeftBtn = styled(Btn)`\n  left: 2.5%;\n  & svg {\n    transform: rotate(90deg);\n  }\n`\n\nconst RightBtn = styled(Btn)`\n  right: 2.5%;\n  & svg {\n    transform: rotate(270deg);\n  }\n`\n\nconst Dot = styled.button`\n  width: 12px;\n  height: 12px;\n  background-color: ${props => props.theme.color.light_primary}6;\n  display: block;\n  border-radius: 50%;\n  position: relative;\n  transition: .25s;\n`\n\nconst DotContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  z-index: 1;\n  width: 50px;\n  & ul {\n    margin: 0 10px 10px;\n    display: flex;\n    justify-content: space-between;\n  }\n  & input {\n    display: none;\n    &:checked + button {\n      background-color: ${props => props.theme.color.light_primary}d;\n    }\n  }\n`\n\nconst ArrowContainer = styled.div``\n\nconst BannerImage = ({page, handleClick}) => {\n  const link = `#${page}`\n  const src = `https://picsum.photos/970/250?random=${page}`\n  const alt = `BannerImage${page}`\n  return (\n    <Link to={link} onClick={handleClick}>\n      <img src={src} alt={alt} />\n    </Link>\n  )\n}\n\nexport const Carousel = () => {\n\n  const {\n    banner,\n    currentPage,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n    handleMouseOver,\n    handleClick,\n    handleButtonClick,\n    handleRadioChange,\n    handleRadioClick\n  } = useCarousel();\n  \n  const bannerStyle = {\n    transform: \"translateX(-200vw)\",\n    transition: \"0s\"\n  }\n\n  return (\n    <BannerWrapper onMouseLeave={handleMouseLeave} onMouseOver={handleMouseOver}>\n      <DotContainer>\n        <ul>\n          <li>\n            <label>\n              <input \n                type=\"radio\" \n                name=\"banner\" \n                value=\"page1\" \n                checked={currentPage === \"page1\"} \n                onChange={handleRadioChange} \n              />\n              <Dot onClick={handleRadioClick(1)}/>\n            </label>\n          </li>\n          <li>\n            <label>\n              <input \n                type=\"radio\" \n                name=\"banner\" \n                value=\"page2\" \n                checked={currentPage === \"page2\"} \n                onChange={handleRadioChange} \n              />\n              <Dot onClick={handleRadioClick(2)}/>\n            </label>\n          </li>\n        </ul>\n      </DotContainer>\n      <ArrowContainer>\n        <LeftBtn onClick={handleButtonClick('backward')}>\n          <FontAwesomeIcon icon={faChevronDown}/>\n        </LeftBtn>\n        <RightBtn onClick={handleButtonClick('forward')}>\n          <FontAwesomeIcon icon={faChevronDown}/>\n        </RightBtn>\n      </ArrowContainer>\n      <BannerContainer \n        ref={banner} \n        style={bannerStyle} \n        onMouseDown={handleMouseDown} \n        onMouseMove={handleMouseMove} \n        onMouseUp={handleMouseUp}\n      >\n        <BannerImage page={1} handleClick={handleClick}/>\n        <BannerImage page={2} handleClick={handleClick}/>\n        <BannerImage page={1} handleClick={handleClick}/>\n        <BannerImage page={2} handleClick={handleClick}/>\n        <BannerImage page={1} handleClick={handleClick}/>\n        <BannerImage page={2} handleClick={handleClick}/>\n      </BannerContainer>\n    </BannerWrapper>\n  );\n}","import { useState, useEffect, useRef } from \"react\";\n\nexport default function useCarousel() {\n  \n  const [W, setW] = useState(0)\n  const [currentPage, setCurrentPage] = useState('page1')\n  const [isDragging, setIsDragging] = useState(false)\n  const [isClicked, setIsClicked] = useState(false)\n  const [isHovered, setIsHovered] = useState(false)\n\n  const X = useRef(null);\n  const banner = useRef(null);\n  const timeoutID = useRef(null);\n\n  useEffect(() => {\n    W % 2 ? setCurrentPage('page2') : setCurrentPage('page1')\n  }, [W, setCurrentPage])\n\n  useEffect(() => {\n    if(!isHovered){\n      timeoutID.current = setTimeout(() => {\n        banner.current.style.transition = '0s'\n        banner.current.style.transform = `translateX(${-100 * (W%2+3) + 100}vw)`\n        setTimeout(() => {\n          banner.current.style.transition = '.5s'\n          banner.current.style.transform = `translateX(${-100 * (W%2+3)}vw)`\n          setW(W%2+1)\n        })\n      }, 5000)\n    }\n    if(isHovered) clearTimeout(timeoutID.current)\n    return () => clearTimeout(timeoutID.current)\n  }, [banner, W, isHovered])\n\n  const handleMouseDown = e => {\n    e.preventDefault();\n    X.current = e.pageX;\n    setIsDragging(true)\n    setIsClicked(true)\n  }\n  const handleMouseMove = e => {\n    e.preventDefault();\n    setIsClicked(false)\n    if(isDragging) banner.current.style.transition = '0s'\n    if(X.current && isDragging && e.pageX - X.current < 0){\n      banner.current.style.transform = `translateX(calc(${-100 * (W%2+3) + 100}vw + ${e.pageX-X.current}px))`\n    }\n    if(X.current && isDragging && e.pageX - X.current > 0){\n      banner.current.style.transform = `translateX(calc(${-100 * (W%2+3) - 100}vw + ${e.pageX-X.current}px))`\n    }\n  }\n  const handleMouseUp = e => {\n    if(!isClicked && isDragging) handleTransform(e)\n    setIsDragging(false)\n  }\n  const handleMouseLeave = e => {\n    setIsHovered(false)\n    if(isDragging) handleTransform(e)\n    setIsDragging(false)\n  }\n\n  const handleTransform = e => {\n    banner.current.style.transition = '.25s'\n    if(e.pageX-X.current < 0 && e.pageX-X.current >= -100){\n      return banner.current.style.transform = `translateX(${-100 * (W%2+3) + 100}vw)`\n    }\n    if(e.pageX-X.current > 0 && e.pageX-X.current <= 100){\n      return banner.current.style.transform = `translateX(${-100 * (W%2+3) - 100}vw)`\n    }\n    banner.current.style.transform = `translateX(${-100 * (W%2+3)}vw)`\n    if(e.pageX-X.current < -100) return setW(W%2+1)\n    if(e.pageX-X.current > 100) return setW(W%2-1)\n  }\n\n  const handleMouseOver = e => {\n    setIsHovered(true)\n  }\n\n  const handleClick = e => {\n    if(!isClicked) e.preventDefault()\n  }\n\n  const handleButtonClick = direction => () => {\n    banner.current.style.transition = '0s'\n    if(direction === 'backward') {\n      banner.current.style.transform = `translateX(${-100 * (W%2+3) - 100}vw)`\n    }\n    if(direction === 'forward') {\n      banner.current.style.transform = `translateX(${-100 * (W%2+3) + 100}vw)`\n    }\n    setTimeout(() => {\n      banner.current.style.transition = '.25s'\n      banner.current.style.transform = `translateX(${-100 * (W%2+3)}vw)`\n      if(direction === 'forward') return setW(W%2+1)\n      if(direction === 'backward') return setW(W%2-1)\n    })\n  }\n\n  const handleRadioChange = e => {\n    setCurrentPage(e.target.value)\n  }\n\n  const handleRadioClick = page => () => {\n    banner.current.style.transition = '0s'\n    if(page === 1 && currentPage === \"page2\"){\n      banner.current.style.transform = `translateX(-300vw)`\n    }\n    if(page === 2 && currentPage === \"page1\"){\n      banner.current.style.transform = `translateX(-200vw)`\n    }\n    setTimeout(() => {\n      banner.current.style.transition = '.25s'\n      if(page === 1 && currentPage === \"page2\"){\n        banner.current.style.transform = `translateX(-200vw)`\n        setW(W%2-1)\n      }\n      if(page === 2 && currentPage === \"page1\"){\n        banner.current.style.transform = `translateX(-300vw)`\n        setW(W%2+1)\n      }\n    })\n  }\n\n  return {\n\n    currentPage,\n    banner,\n\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n    handleMouseOver,\n    handleClick,\n    handleButtonClick,\n    handleRadioChange,\n    handleRadioClick,\n\n  };\n}","export default __webpack_public_path__ + \"static/media/arrival_female.82ff7752.jpeg\";","export default __webpack_public_path__ + \"static/media/arrival_male.2de499ab.jpeg\";","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport arrival_female_img from '../../assets/arrival_female.jpeg'\nimport arrival_male_img from '../../assets/arrival_male.jpeg'\nimport { MEDIA_QUERY } from \"../../constants/style\"\n\nconst ArrivalWrapper = styled.div`\n`\nconst ArrivalContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  padding-top: 40px;\n  display: flex;\n  justify-content: space-between;\n  ${MEDIA_QUERY.s} {\n    flex-direction: column;\n    & > div {\n      margin: 10px 0;\n    }\n  }\n`\n\nconst ArrivalItem = styled.div`\n  width: 50%;\n  box-sizing: border-box;\n  margin: 10px;\n  background-color: #aaa;\n  box-shadow: 1px 1px 5px ${props => props.theme.color.lightGrey};\n  position: relative;\n  overflow: hidden;\n\n  &:hover img{\n    transform: scale(1.1);\n  }\n  & img {\n    width: 100%;\n    transition: .5s;\n  }\n  ${MEDIA_QUERY.s} {\n    width: 100%;\n  }\n`\n\nconst TitleWrapper = styled.div`\n  position: absolute;\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n`\n\nconst TitleContainer = styled.div`\n  text-align: center;\n  & hr {\n    margin: 15px 0;\n    border: 1px solid ${props => props.theme.color.lightGrey};\n  }\n  & h4 {\n    font-size: ${props => props.theme.fontSize.bannerLarge};\n    font-family: impact;\n    color: ${props => props.theme.color.black};\n  }\n  & p {\n    font-size: ${props => props.theme.fontSize.svgLarge};\n    font-weight: ${props => props.theme.fontWeight.xxl};\n    color: ${props => props.theme.color.black};\n    line-height: 1.5em;\n  }\n  ${MEDIA_QUERY.main} {\n    & hr {\n      margin: 7px 0;\n    }\n    & h4 {\n      font-size: ${props => props.theme.fontSize.bannerMedium};\n    }\n    & p {\n      font-size: ${props => props.theme.fontSize.svg};\n    }\n  }\n  ${MEDIA_QUERY.m} {\n    & hr {\n      margin: 5px 0;\n    }\n    & h4 {\n      font-size: ${props => props.theme.fontSize.h2};\n    }\n    & p {\n      font-size: ${props => props.theme.fontSize.h3};\n    }\n  }\n  ${MEDIA_QUERY.xs} {\n    & hr {\n      margin: 5px 0;\n    }\n    & h4 {\n      font-size: ${props => props.theme.fontSize.h3};\n    }\n    & p {\n      font-size: ${props => props.theme.fontSize.body};\n    }\n  }\n`\n\n\nexport const Arrival = () => {\n  return (\n    <ArrivalWrapper>\n      <ArrivalContainer>\n        <ArrivalItem>\n          <Link to=\"#\">\n            <TitleWrapper>\n              <TitleContainer>\n                <div>\n                  <h4>New</h4>\n                  <h4>Arrival</h4>\n                </div>\n                <hr/>\n                <p>女裝新品</p>\n              </TitleContainer>\n            </TitleWrapper>\n            <img src={arrival_female_img} alt=\"arrival_female_img\"/>\n          </Link>\n        </ArrivalItem>\n        <ArrivalItem>\n          <Link to=\"#\">\n            <TitleWrapper>\n              <TitleContainer>\n                <div>\n                  <h4>New</h4>\n                  <h4>Arrival</h4>\n                </div>\n                <hr/>\n                <p>男裝新品</p>\n              </TitleContainer>\n            </TitleWrapper>\n            <img src={arrival_male_img} alt=\"arrival_male_img\"/>\n          </Link>\n        </ArrivalItem>\n      </ArrivalContainer>\n    </ArrivalWrapper>\n  )\n}","import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport { getFeedImages } from \"../webAPI/productAPI\";\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nconst FeedWrapper = styled.div`\n`\nconst FeedContainer = styled.div`\n  padding: 40px 0 0;\n  display: flex;\n  overflow: hidden;\n  & div {\n    width: calc(100%/6);\n    ${MEDIA_QUERY.m} {\n      width: calc(100%/4);\n    }\n    ${MEDIA_QUERY.s} {\n      width: calc(100%/3);\n    }\n    ${MEDIA_QUERY.xs} {\n      width: calc(100%/2);\n    }\n    flex-shrink: 0;\n    & img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n`\n\nexport const Feed = () => {\n\n  const [feeds, setFeeds] = useState()\n  useEffect(() => {\n    getFeedImages().then(data => {\n      setFeeds(\n        data.map(img => (\n          {id: img.id, desc: img.description, url: img.urls.small}\n        ))\n      )\n    })\n  }, [])\n\n  return (\n    <FeedWrapper>\n      <FeedContainer>\n        {\n          feeds && feeds.map(feed => (\n            <div key={feed.id}>\n              <a target=\"_blank\" rel=\"noreferrer\" href={feed.url}>\n                <img src={feed.url} alt={feed.desc}/>\n              </a>\n            </div>\n          ))\n        }\n      </FeedContainer>\n    </FeedWrapper>\n  );\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { H2, H3, H4, P } from \"../constants/style\"\nimport { faCartPlus, faShoppingCart, faHeart as fasHeart} from '@fortawesome/free-solid-svg-icons'\nimport { faHeart } from '@fortawesome/free-regular-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { MEDIA_QUERY } from \"../constants/style\"\n\n\nconst ProductCard = styled.section`\n  padding: 10px;\n  box-sizing: border-box;\n  & a {\n    text-decoration: none;\n  }\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n  & h4 {\n    padding: 10px 0;\n  }\n`\n\nconst ImageContainer = styled.div`\n  position: relative;\n  aspect-ratio: 1;\n  & a {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n  &:hover > div:last-child {\n    background-color: ${props => props.theme.color.black}5;\n    & > button {\n      &:nth-child(1) {\n        left: -80px;\n      }\n      &:nth-child(2) {\n        right: -80px;\n      }\n    }\n  }\n`\n\nconst ImageMask = styled.div`\n  background-color: transparent;\n  transition: background-color .3s;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  & > button {\n    z-index: 2;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    &:nth-child(1) {\n      left: -400px;\n      transition: left .3s;\n    }\n    &:nth-child(2) {\n      right: -400px;\n      transition: right .3s .05s;\n    }\n  }\n`\n\nconst Btn = styled.button`\n  width: 60px;\n  height: 60px;\n  background-color: ${props => props.theme.color.lightGrey}a;\n  border-radius: 50%;\n  display: block;\n\n  &:hover {\n    bottom: 4px;\n  }\n  &:active {\n    top: 2px;\n  }\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & svg {\n    font-size: ${props => props.theme.fontSize.svgLarge};\n    color: ${props => props.theme.color.grey};\n  }\n`\n\nconst ProductPrice = styled(P)`\n  & span {\n    padding: 0 5px;\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      font-size: ${props => props.theme.fontSize.body};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n    }\n  }\n`\n\nconst ProductReminder = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  & span {\n    display: inline-block;\n    width: 50px;\n    color: ${props => props.theme.color.white};\n    font-weight: ${props => props.theme.fontWeight.xl};\n    font-size: ${props => props.theme.fontSize.body};\n    border-radius: 5px;\n    & + span {\n      margin-left: 5px;\n    }\n    ${MEDIA_QUERY.s} {\n      width: 40px;\n      font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n  }\n`\n\nconst ProductReminderSale = styled.span`\n  background-color: ${props => props.theme.color.alert};\n`\nconst ProductReminderNew = styled.span`\n  background-color: ${props => props.theme.color.black};\n`\n\nexport const TestProductCards = () => {\n    return (\n        <>\n            <ProductCard>\n                <div>\n                    <ImageContainer>\n                    <Link to=\"#\"/>\n                    <img src=\"https://picsum.photos/280/280?random=1\" alt=\"001\"/>\n                    <ProductReminder>\n                        <ProductReminderSale>SALE</ProductReminderSale>\n                        <ProductReminderNew>NEW</ProductReminderNew>\n                    </ProductReminder>\n                    <ImageMask>\n                        <Btn>\n                        <FontAwesomeIcon icon={faCartPlus}/>\n                        </Btn>\n                        <Btn>\n                        <FontAwesomeIcon icon={fasHeart}/>\n                        </Btn>\n                    </ImageMask>\n                    </ImageContainer>\n                    <Link to=\"#\">\n                    <H4>商品001</H4>\n                    </Link>\n                </div>\n                <ProductPrice>\n                    <span>NT $1,450</span>\n                    <span>NT $1,150</span>\n                </ProductPrice>\n            </ProductCard>\n            <ProductCard>\n                <div>\n                    <ImageContainer>\n                    <Link to=\"#\"/>\n                    <img src=\"https://picsum.photos/280/280?random=1\" alt=\"001\"/>\n                    <ImageMask>\n                        <Btn>\n                        <FontAwesomeIcon icon={faShoppingCart}/>\n                        </Btn>\n                        <Btn>\n                        <FontAwesomeIcon icon={faHeart}/>\n                        </Btn>\n                    </ImageMask>\n                    </ImageContainer>\n                    <Link to=\"#\">\n                    <H4>商品001</H4>\n                    </Link>\n                </div>\n                <P>NT $1,450</P>\n            </ProductCard>\n        </>\n    )\n}","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  isOpened: false,\n  errorMessage: '',\n  popupCode: '',\n}\n\nexport const generalSlice = createSlice({\n  name: 'general',\n  initialState,\n  reducers: {\n    setIsOpened: (state, action) => {\n      state.isOpened = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setPopupCode: (state, action) => {\n      state.popupCode = action.payload;\n    },\n  },\n})\n\nexport const { \n  setIsOpened,\n  setErrorMessage,\n  setPopupCode,\n} = generalSlice.actions\n\nexport default generalSlice.reducer","import { useEffect, useRef, useState } from \"react\";\nimport { useDispatch } from 'react-redux'\nimport { addCartStorage, setCartQty } from \"../features/cart/cartSlice\";\nimport { setPopupCode, setErrorMessage, setIsOpened } from \"../features/general/generalSlice\";\nimport { setColor, setProduct, setQty, setSize } from \"../features/product/productSlice\";\n\nexport default function useProduct (spec, product, group, isOpened) {\n\n  const [isChecked, setIsChecked] = useState(true)\n  const [mainImg, setMainImg] = useState({src: '', alt: ''})\n\n  const scaledImg = useRef()\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(isOpened) return;\n    if (!group || !product) return;\n    const size_Initialized = product ? product.product[`${group}s`][0].size : ''\n    dispatch(setSize(size_Initialized))\n    dispatch(setColor(''))\n    dispatch(setQty(1))\n  }, [product, group, dispatch, isOpened])\n\n  const handleClosePopup = type => () => {\n    dispatch(setIsOpened(false))\n    if(type === 'size' || type === 'color' || type === 'edit' || type === 'delete'){\n      dispatch(setProduct(''))\n    }\n    dispatch(setPopupCode(''))\n    dispatch(setErrorMessage(''))\n  }\n\n  const handleSizeChange = e => {\n    dispatch(setSize(e.target.value))\n    dispatch(setColor(''))\n  }\n  const handleColorChange = isNull => e => {\n    if(isNull) return;\n    dispatch(setColor(e.target.value))\n  }\n  const handleQtyChange = e => {\n    dispatch(setQty(parseInt(e.target.value)))\n  }\n  const handleBtnClick = direction => {\n    if(direction === 'inc') return dispatch(setQty(spec.qty+1))\n    if(direction === 'dec') {\n      if(spec.qty<=1) return \n      dispatch(setQty(spec.qty-1))\n    }\n  }\n\n  const handleMouseMove = e => {\n    e.preventDefault();\n    const offsetX = e.nativeEvent.offsetX > 0 ? e.nativeEvent.offsetX : 0\n    const offsetY = e.nativeEvent.offsetY > 0 ? e.nativeEvent.offsetY : 0\n    const offsetWidth = e.target.offsetWidth\n    const perX = offsetX / offsetWidth\n    const perY = offsetY / offsetWidth\n    scaledImg.current.style.left = `-${perX*100}%`\n    scaledImg.current.style.top = `-${perY*100}%`\n  }\n\n  const handleImgClick = e => {\n    if(e.target.tagName === 'IMG'){\n      setMainImg({src: e.target.src, alt: e.target.alt})\n    }\n  }\n\n  const handleCheckedChange = () => {\n    setIsChecked(!isChecked)\n  }\n\n  const handleAddToCart = () => {\n    if(!spec.size || !spec.color) return dispatch(setErrorMessage('請選擇尺寸或顏色'))\n    const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n    WriteToLocalStorage(cartItem)\n    dispatch(setIsOpened(true))\n  }\n\n  const handleAddToWishList = () => {\n    dispatch(setPopupCode('login'))\n    dispatch(setIsOpened(true))\n  }\n\n  function WriteToLocalStorage (cartItem) {\n    const pattern_id = product.patterns.find(pattern => (pattern.Color.name === spec.color) && (pattern[group].size === spec.size)).id\n    const newItem = {\n      pattern_id,\n      qty: spec.qty,\n    }\n    const getItem = cartItem.find(item => \n      item.pattern_id === newItem.pattern_id\n    )\n    if (getItem) {\n      getItem.qty += spec.qty\n      newItem.qty = getItem.qty\n      dispatch(setCartQty(newItem))\n    } else {\n      newItem.id = product.product.id\n      cartItem.push(newItem)\n      dispatch(addCartStorage(newItem))\n    }\n    return localStorage.setItem('cart', JSON.stringify(cartItem))\n  }\n\n  function addCommaToPrice (price) {\n    let p = price\n    const arr = []\n    while (parseInt(p/1000) > 0) {\n      const a = []\n      for(let i=0; i<3; i++){\n        a.push(parseInt(p%(10**(i+1))/(10**i)))\n      }\n      arr.push(a.reverse().join(''))\n      p = parseInt(p/1000)\n    }\n    arr.push(p)\n    return arr.reverse().join(',')\n  }\n\n  return {\n    addCommaToPrice,\n    mainImg,\n    setMainImg,\n    scaledImg,\n    handleMouseMove,\n    handleImgClick,\n    isChecked,\n    handleCheckedChange,\n    handleBtnClick,\n    handleSizeChange,\n    handleColorChange,\n    handleQtyChange,\n    handleAddToCart,\n    handleAddToWishList,\n    handleClosePopup,\n  };\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { H4, P } from \"../constants/style\"\nimport { faCartPlus, faShoppingCart, faHeart as fasHeart} from '@fortawesome/free-solid-svg-icons'\nimport { faHeart } from '@fortawesome/free-regular-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { MEDIA_QUERY } from \"../constants/style\"\nimport useProduct from \"../hooks/useProduct\";\nimport { Img } from \"./Img\";\nimport { useDispatch } from \"react-redux\";\n\n\nconst ProductCard = styled.section`\n  padding: 10px;\n  box-sizing: border-box;\n  & a {\n    text-decoration: none;\n  }\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n  & h4 {\n    padding: 10px 0;\n  }\n`\n\nconst ImageContainer = styled.div`\n  position: relative;\n  aspect-ratio: 1;\n  & > a {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n  }\n  &:hover > div:last-child {\n    background-color: ${props => props.theme.color.grey}5;\n    & button {\n      right: 0px;\n    }\n  }\n`\n\nconst ImageMask = styled.div`\n  background-color: transparent;\n  transition: background-color .3s;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n`\n\nconst BtnContainer = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 10px;\n  & > button {\n    margin-top: 5px;\n  }\n`\n\nconst Btn = styled.button`\n  width: 40px;\n  height: 40px;\n  display: block;\n  background-color: ${props => props.theme.color.lightGrey}a;\n  border-radius: 50%;\n  z-index: 2;\n  position: relative;\n  right: -60px;\n  &:nth-child(1) {\n    transition: .3s;\n  }\n  &:nth-child(2) {\n    transition: .3s .1s;\n  }\n  &:hover {\n    background-color: ${props => props.theme.color.white}a;\n  }\n\n  & svg {\n    font-size: ${props => props.theme.fontSize.btn};\n    color: ${props => props.theme.color.grey};\n  }\n`\n\nconst ProductPrice = styled(P)`\n  & span {\n    padding: 0 5px;\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      font-size: ${props => props.theme.fontSize.body};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n    }\n  }\n`\n\nconst ProductReminder = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  & span {\n    display: inline-block;\n    width: 50px;\n    color: ${props => props.theme.color.white};\n    font-weight: ${props => props.theme.fontWeight.xl};\n    font-size: ${props => props.theme.fontSize.body};\n    border-radius: 5px;\n    & + span {\n      margin-left: 5px;\n    }\n    ${MEDIA_QUERY.s} {\n      width: 40px;\n      font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n  }\n`\n\nconst ProductReminderSale = styled.span`\n  background-color: ${props => props.theme.color.alert};\n`\nconst ProductReminderNew = styled.span`\n  background-color: ${props => props.theme.color.black};\n`\n\nexport const ProductItem = ({product}) => {\n\n  const dispatch = useDispatch()\n\n  const { \n    addCommaToPrice, \n    handleAddToWishList\n  } = useProduct();\n\n  const url = `/product/${product.id}`\n\n  return (\n    <ProductCard>\n      <div>\n        <ImageContainer>\n          <Link to={url}/>\n          <Img image={product.Images[0]} />\n          <ProductReminder>\n            {product.is_sale && (\n              <ProductReminderSale>SALE</ProductReminderSale>\n            )}\n            <ProductReminderNew>NEW</ProductReminderNew>\n          </ProductReminder>\n          <ImageMask>\n            <BtnContainer>\n              <Link to={url}>\n                <Btn>\n                  <FontAwesomeIcon icon={faShoppingCart}/>\n                </Btn>\n              </Link>\n              <Btn onClick={handleAddToWishList}>\n                <FontAwesomeIcon icon={faHeart}/>\n              </Btn>\n            </BtnContainer>\n          </ImageMask>\n        </ImageContainer>\n        <Link to={url}>\n          <H4>{product.name}</H4>\n        </Link>\n      </div>\n      {\n        product.is_sale ? (\n          <ProductPrice>\n            <span>NT ${addCommaToPrice(product.price_standard)}</span>\n            <span>NT ${addCommaToPrice(product.price_sale)}</span>\n          </ProductPrice>\n        ) : (\n          <P>NT ${addCommaToPrice(product.price_standard)}</P>\n        )\n      }\n    </ProductCard>\n  )\n}\n","import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\n\nimport { H2, H3, P } from \"../../constants/style\"\nimport { getTrendingProductsAPI } from \"../../webAPI/productAPI\";\nimport { MEDIA_QUERY } from \"../../constants/style\"\nimport { TestProductCards } from \"../../components/TestProductCards\";\nimport { ProductItem } from \"../../components/ProductItem\";\n\nconst TrendingWrapper = styled.div`\n`\nconst TrendingContainer = styled.div`\n  width: 90%;\n  margin: 0 auto;\n  padding: 40px 0;\n  text-align: center;\n  ${MEDIA_QUERY.s} {\n    width: 100%;\n  }\n  & h2, div {\n    text-align: center;\n  }\n  & input {\n    display: none;\n    &:checked + div {\n      display: flex;\n    }\n  }\n  & > p {\n    padding: 20px;\n  }\n`\n\nconst Subtitle = styled(H3)`\n  display: flex;\n  justify-content: center;\n  padding: 10px 0;\n  & span::after {\n    content: '';\n    display: block;\n    width: 0%;\n    height: 2px;\n    background-color: ${props => props.theme.color.black};\n    transition: width .4s;\n  }\n  & label {\n    padding: 0 5px;\n    &:hover {\n      cursor: pointer;\n      & span::after {\n        width: 100%;\n      }\n    }\n  }\n`\n\nconst ProductContainer = styled.div`\n  display: none;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  & > section {\n    width: calc(100%/4);\n    &:nth-child(n+9) {\n      display: none;\n    }\n    ${MEDIA_QUERY.main} {\n      width: calc(100%/3);\n      &:nth-child(n+7) {\n        display: none;\n      }\n    }\n    ${MEDIA_QUERY.m} {\n      width: 50%;\n      &:nth-child(n+5) {\n        display: none;\n      }\n    }\n    ${MEDIA_QUERY.xs} {\n      width: 100%;\n    }\n  }\n`\n\nexport const Trend = () => {\n\n  const [trends, setTrends] = useState(() => (\n    {male: '', female: ''}\n  ))\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    getTrendingProductsAPI()\n    .then(data => {\n      if(!data.ok) return setError(data.message)\n      setTrends({\n        male: data.data.filter(trend => trend.gender === 'M'), \n        female: data.data.filter(trend => trend.gender === 'F')\n      })\n    })\n  }, [])\n\n  return (\n    <TrendingWrapper>\n      <TrendingContainer>\n        <H2>熱賣商品</H2>\n        <Subtitle>\n          <label htmlFor=\"female\"><span>女裝</span></label>\n          /\n          <label htmlFor=\"male\"><span>男裝</span></label>\n        </Subtitle>\n        {!trends.male && !trends.female && (\n          error ? (\n            <P>{error}</P>\n          ) : (\n            <P>商品載入中...</P>\n          )\n        )}\n        {trends.male && trends.female && !error && (\n          <div>\n            <input id=\"female\" type=\"radio\" name=\"subtitle\" defaultChecked/>\n            {trends.female.length > 0 ? (\n              <ProductContainer>\n                {\n                  trends.female && trends.female.map(trend => {\n                    return (\n                      <ProductItem key={trend.id} product={trend} />\n                    )\n                  })\n                }\n                <TestProductCards />\n              </ProductContainer>\n            ) : (\n              <ProductContainer>\n                <P>查無商品</P>\n              </ProductContainer>\n            )}\n            <input id=\"male\" type=\"radio\" name=\"subtitle\"/>\n            {trends.male.length > 0 ? (\n              <ProductContainer>\n                {\n                  trends.male && trends.male.map(trend => {\n                    return (\n                      <ProductItem key={trend.id} product={trend} />\n                    )\n                  })\n                }\n                <TestProductCards />\n              </ProductContainer>\n            ) : (\n              <ProductContainer>\n                <P>查無商品</P>\n              </ProductContainer>\n            )}\n          </div>\n        )}\n      </TrendingContainer>\n    </TrendingWrapper>\n  );\n}","import { Carousel } from './Carousel'\nimport { Arrival } from './Arrival'\nimport { Feed } from '../../components/Feed'\nimport { Trend } from './Trend'\n\nexport default function HomePage() {\n  return (\n    <main>\n      <Carousel />\n      <Arrival />\n      <Trend />\n      {process.env.NODE_ENV === 'production' && (\n        <Feed />\n      )}\n    </main>\n  );\n}","export const crumbMap = [\n    {\n        collection: '商品一覽',\n        admin: '管理後台'\n    },\n    {\n        men: '男裝',\n        women: '女裝',\n        product: '商品管理',\n        order: '訂單管理',\n        user: '用戶管理'\n    },\n    {\n        tops: '上衣類',\n        shirts: '襯衫類',\n        knit: '針織衫 / 毛衣',\n        one_piece: '洋裝類',\n        outer: '外套類',\n        bottoms: '褲裝類',\n        skirts: '裙子類',\n        general: '配件類',\n        information: '新增及管理產品資訊',\n        quantity: '管理存貨數量與紀錄',\n        price: '管理商品價格與紀錄',\n        new: '新增產品'\n    }\n]\n\nexport const sizeMap = {\n    Size_top: {\n      sleeve_length: '袖長',\n      body_length: '衣長',\n      body_width: '胸寬'\n    },\n    Size_bottom: {\n      waist: '腰圍',\n      hip: '臀圍',\n      rise: '褲檔',\n      inseam: '褲內檔長'\n    },\n    Size_skirt: {\n      waist: '腰圍',\n      hip: '臀圍',\n      length: '裙長'\n    }\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { crumbMap } from \"../constants/mapping\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHome } from '@fortawesome/free-solid-svg-icons'\nimport { MEDIA_QUERY } from \"../constants/style\";\n\n\n\nconst CrumbWrapper = styled.nav`\n  ${MEDIA_QUERY.xs} {\n    display: none;\n  }\n`\nconst CrumbContainer = styled.div`\n  width: 90%;\n  margin: 20px auto 10px;\n  & ol {\n    display: flex;\n    flex-wrap: wrap;\n    & li {\n      & a {\n        font-size: ${props => props.theme.fontSize.bodyLarge};\n        font-weight: ${props => props.theme.fontWeight.l};\n        color: ${props => props.theme.color.black};\n        line-height: 1.5em;\n        &:last-child {\n          font-weight: ${props => props.theme.fontWeight.xl};\n        }\n      }\n      & + li {\n        margin-left: 5px;\n        &::before {\n          content: '>';\n          margin-right: 5px;\n        }\n      }\n    }\n  }\n  & li {\n    z-index: 1;\n  }\n`\n\n\n\nexport const CrumbNav = ({pathArr, name}) => {\n  \n    return (\n      <CrumbWrapper>\n        <CrumbContainer>\n          <ol>\n            <li>\n              <Link to=\"/\">\n                <FontAwesomeIcon icon={faHome}/>\n              </Link>\n            </li>\n            {pathArr.slice(1).map((path, index) => {\n              return (\n                <li key={index}>\n                  <Link to={pathArr.slice(0, index+2).join('/')}>\n                    <span>{crumbMap[index][path]}</span>\n                  </Link>\n                </li>\n              )\n            })}\n            {name && (\n              <li>\n                <Link to=\"#\">\n                  <span>{name}</span>\n                </Link>\n              </li>\n            )}\n          </ol>\n        </CrumbContainer>\n      </CrumbWrapper>\n    )\n  }","import { useState, useEffect, useContext, useRef } from \"react\";\nimport { useHistory } from \"react-router\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUnfilteredProducts } from \"../features/product/productSlice\";\n\nimport { LocationContext } from \"../pages/ListPage/ListPage\";\n\nexport default function usePriceFilter() {\n\n  const { pathname, search } = useContext(LocationContext);\n  \n  const unfilteredProducts = useSelector(state => state.product.unfilteredProducts)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getUnfilteredProducts(pathname.split('/').slice(2, 4)))\n  }, [pathname, dispatch])\n\n  function minInitailizer () {\n    if(!unfilteredProducts) return 300\n    const arr = unfilteredProducts.map(product => product.is_sale ? product.price_sale : product.price_standard)\n    return Math.min(...arr)\n  }\n  function maxInitailizer () {\n    if(!unfilteredProducts) return 1200\n    const arr = unfilteredProducts.map(product => product.is_sale ? product.price_sale : product.price_standard)\n    return Math.max(...arr)\n  }\n\n  const minimum = minInitailizer() || 300\n  const maximum = maxInitailizer() || 1200\n\n  const [min, setMin] = useState(() => minInitailizer());\n  const [max, setMax] = useState(() => maxInitailizer());\n  const [isDragging, setIsDragging] = useState(false)\n\n  const X = useRef(null);\n  const direction = useRef(null);\n\n  const WR = useRef(null);\n  const WL = useRef(null);\n  const perLeft = useRef(100);\n  const perRight = useRef(100);\n\n  const bar = useRef();\n  const barSelected = useRef();\n  const knobLeft = useRef();\n  const knobRight = useRef();\n\n  let newSearch = new URLSearchParams(search);\n  const priceParam = newSearch.get('price') || `${minimum}-${maximum}`\n  useEffect(() => {\n    const minTemp = parseInt(priceParam.split('-')[0])\n    const maxTemp = parseInt(priceParam.split('-')[1])\n    setMin(minTemp)\n    setMax(maxTemp)\n    perLeft.current = 100 - (100*(maximum-maxTemp)/(maximum-minimum))\n    perRight.current = 100 - (100*(minTemp-minimum)/(maximum-minimum))\n    WR.current = perLeft.current * bar.current.offsetWidth / 100\n    WL.current = perRight.current * bar.current.offsetWidth / 100\n    barSelected.current.style.right = `${100 - perLeft.current}%`;\n    barSelected.current.style.left = `${100 - perRight.current}%`;\n    knobLeft.current.style.right = `${perRight.current}%`;\n    knobRight.current.style.left = `${perLeft.current}%`;\n  }, [priceParam, maximum, minimum])\n\n  const history = useHistory()\n\n  const handleMouseDown = e => {\n    console.log(WR)\n    console.log(WL)\n    console.log(perLeft)\n    console.log(perRight)\n    if(isNaN(WR.current) || isNaN(WL.current) || isNaN(perLeft.current) || isNaN(perRight.current)){\n      return setIsDragging(false)\n    }\n    X.current = e.pageX;\n    if(e.target === knobRight.current){\n      direction.current = 'R';\n    } else if(e.target === knobLeft.current){\n      direction.current = 'L';\n    }\n    if(WR.current === null){\n      WR.current = bar.current.offsetWidth;\n    }\n    if(WL.current === null){\n      WL.current = bar.current.offsetWidth;\n    }\n    setIsDragging(true)\n  }\n\n  const handleMouseMove = e => {\n    if(X.current && isDragging){\n      e.preventDefault();\n      if(direction.current === 'R'){\n        let per = ((WR.current - X.current + e.pageX)/bar.current.offsetWidth * 100);\n        if(per > 100) per = 100;\n        if(per < 100 - perRight.current) per = 100 - perRight.current;\n        knobRight.current.style.left = `${per}%`;\n        barSelected.current.style.right = `${100 - per}%`;\n        perLeft.current = per;\n        setMax(Number((maximum - (maximum - minimum) * (100 - per) / 100).toFixed(0)));\n      }\n      if(direction.current === 'L'){\n        let per = ((WL.current + X.current - e.pageX)/bar.current.offsetWidth * 100);\n        if(per > 100) per = 100;\n        if(per < 100 - perLeft.current) per = 100 - perLeft.current;\n        knobLeft.current.style.right = `${per}%`;\n        barSelected.current.style.left = `${100 - per}%`;\n        perRight.current = per;\n        setMin(Number((minimum + (maximum - minimum) * (100 - per) / 100).toFixed(0)));\n      }\n    }\n  }\n\n  const handleMouseUp = e => {\n    if(isDragging) {\n      if(direction.current === 'R'){\n        if(!barSelected.current.offsetWidth){\n          WR.current = knobRight.current.offsetLeft\n        }else{\n          WR.current = WR.current - X.current + e.pageX;\n        }\n        if(WR.current > bar.current.offsetWidth){\n          WR.current = bar.current.offsetWidth\n        }\n      }\n      if(direction.current === 'L'){\n        if(!barSelected.current.offsetWidth){\n          WL.current = bar.current.offsetWidth - knobRight.current.offsetLeft\n        }else{\n          WL.current = WL.current + X.current - e.pageX;\n        }\n        if(WL.current > bar.current.offsetWidth){\n          WL.current = bar.current.offsetWidth\n        }\n      }\n      setIsDragging(false)\n\n      let newSearch = new URLSearchParams(search);\n      const priceParam = newSearch.get('price');\n    \n      if (priceParam) {\n        newSearch.set('price', `${min}-${max}`)\n      } else {\n        newSearch.append('price', `${min}-${max}`)\n      }\n\n      if (newSearch.has('page')) {\n        newSearch.delete('page')\n      }\n    \n      const priceURL = `${pathname}?${newSearch}`\n\n      history.push(priceURL)\n    }\n  }\n\n  const handleMouseLeave = e => {\n    if(isDragging) {\n      if(direction.current === 'R'){\n        if(!barSelected.current.offsetWidth){\n          WR.current = knobRight.current.offsetLeft\n        }else{\n          WR.current = WR.current - X.current + e.pageX;\n        }\n        if(WR.current > bar.current.offsetWidth){\n          WR.current = bar.current.offsetWidth\n        }\n      }\n      if(direction.current === 'L'){\n        if(!barSelected.current.offsetWidth){\n          WL.current = bar.current.offsetWidth - knobRight.current.offsetLeft\n        }else{\n          WL.current = WL.current + X.current - e.pageX;\n        }\n        if(WL.current > bar.current.offsetWidth){\n          WL.current = bar.current.offsetWidth\n        }\n      }\n      setIsDragging(false)\n\n      let newSearch = new URLSearchParams(search);\n      const priceParam = newSearch.get('price');\n    \n      if (priceParam) {\n        newSearch.set('price', `${min}-${max}`)\n      } else {\n        newSearch.append('price', `${min}-${max}`)\n      }\n\n      if (newSearch.has('page')) {\n        newSearch.delete('page')\n      }\n    \n      const priceURL = `${pathname}?${newSearch}`\n\n      history.push(priceURL)\n    }\n  }\n\n  return {\n    bar,\n    barSelected,\n    knobLeft,\n    knobRight,\n\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n\n    min,\n    max,\n    isDragging\n  };\n}","import { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSquare, faCheckSquare } from '@fortawesome/free-regular-svg-icons'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons'\n\nimport { H4, P } from \"../../constants/style\"\nimport { MEDIA_QUERY, Btn } from \"../../constants/style\"\n\nimport useProduct from \"../../hooks/useProduct\";\nimport usePriceFilter from \"../../hooks/usePriceFilter\";\n\nimport { LocationContext } from \"./ListPage\";\n\n\nconst ControllerBtn = styled(Btn)`\n  display: none;\n  height: 40px;\n  padding-left: 20px;\n  border-radius: 5px;\n  background-color: #eee;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  & svg {\n    padding: 10px;\n    font-size: ${props => props.theme.fontSize.h3};\n  }\n  ${MEDIA_QUERY.main} {\n    display: block;\n    position: absolute;\n    right: -30px;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n  }\n`\n\nconst AsideBlock = styled.div`\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  & > h4 {\n    padding: 10px 15px;\n    font-weight: ${props => props.theme.fontWeight.xl};\n    background-color: #eee;\n  }\n  & a {\n    color: ${props => props.theme.color.black};\n  }\n`\n\nconst FilterContainer = styled(AsideBlock)`\n  ${MEDIA_QUERY.main} {\n    position: relative;\n    border: none;\n    box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  }\n  & section {\n    padding: 10px 15px 0;\n    &:last-child {\n      padding-bottom: 10px;\n    }\n    & ul {\n      padding: 5px 10px;\n    }\n  }\n`\n\nconst SizeFilter = styled.section`\n  & li {\n    display: flex;\n  }\n  & a {\n    z-index: 1;\n    width: 100%;\n    & > svg {\n      font-size: ${props => props.theme.fontSize.h4};\n      color: ${props => props.theme.color.grey};\n    }\n    & > span {\n      padding: 0 5px;\n      line-height: 2em;\n    }\n  }\n`\n\nconst ColorFilter = styled.section`\n  & ul {\n    display: flex;\n    & li {\n      z-index: 1;\n      & + li {\n        margin-left: 5px;\n      }\n    }\n  }\n`\n\nconst ColorSpan = styled.span`\n  display: block;\n  box-sizing: border-box;\n  border: 1px solid #aaa8;\n  border: ${props => (props.$border || (props.$color === 'black')) && 'thin solid #333'};\n  border: ${props => (props.$border && (props.$color === 'black')) && 'medium double #eee'};\n  width: 30px;\n  height: 30px;\n  background-color: ${props => props.theme.color[props.$color]};\n`\n\nconst PriceFilter = styled.section`\n`\n\nconst PriceTag = styled(P)`\n  font-weight: ${props => props.theme.fontWeight.m};\n  & span {\n    &:last-child {\n      &::before {\n        content: '-';\n        margin: 0 5px;\n      }\n    }\n  }\n`\n\nconst PriceBar = styled.div`\n  margin: 10px auto;\n  padding: 0 15px;\n  background-color: ${props => props.theme.color.lightGrey};\n  & > div {\n    z-index: 1;\n    width: 100%;\n    height: 5px;\n    position: relative;\n    & > div {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      background-color: ${props => props.theme.color.grey};\n    }\n  }\n`\n\nconst PriceKnob = styled.span`\n  display: block;\n  width: 15px;\n  height: 15px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid ${props => props.theme.color.grey};\n  background-color: ${props => props.theme.color.light_primary};\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto 0;\n`\n\nconst Cover = styled.label`\n  z-index: 2;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n`\n\nconst ClearBtn = styled(Btn)`\n  background-color: ${props => props.theme.color.black};\n  padding: 3px 10px;\n  margin: 10px 15px 0;\n  border-radius: 1em;\n  & span {\n    color: ${props => props.theme.color.white};\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n`\n\n\nconst SizeSelect = ({size}) => {\n\n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n  const param = newSearch.get('size');\n  let icon = faSquare;\n\n  if (param) {\n    if (!param.includes(size)) {\n      newSearch.set('size', `${param} ${size}`)\n    } else if (param === size) {\n      newSearch.delete('size')\n      icon = faCheckSquare;\n    } else {\n      const newParam = param.split(' ' + size).join('').split(size + ' ').join('')\n      newSearch.set('size', newParam)\n      icon = faCheckSquare;\n    }\n  } else {\n    newSearch.append('size', size)\n  }\n\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n\n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <FontAwesomeIcon icon={icon}/>\n      <span>{size}</span>\n    </Link>\n  )\n}\n\nconst ColorSelect = ({color}) => {\n\n  const colors = {\n    white: 'light_primary',\n    black: 'black',\n    grey: 'lightGrey',\n    yellow: 'yellow',\n    brown: 'brown',\n  }\n  \n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n  const param = newSearch.get('color');\n  let border = false;\n\n  if (param) {\n    if (!param.includes(color)) {\n      newSearch.set('color', `${param} ${color}`)\n    } else if (param === color) {\n      newSearch.delete('color')\n      border = true;\n    } else {\n      const newParam = param.split(' ' + color).join('').split(color + ' ').join('')\n      newSearch.set('color', newParam)\n      border = true;\n    }\n  } else {\n    newSearch.append('color', color)\n  }\n\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n\n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <ColorSpan $border={border} $color={colors[color]}/>\n    </Link>\n  )\n}\n\nconst PriceSelect = () => {\n\n  const rightStyle = {\n    left: \"100%\"\n  }\n  const leftStyle = {\n    right: \"100%\"\n  }\n  const barStyle = {\n    left: \"0%\",\n    right: \"0%\"\n  }\n\n  const { addCommaToPrice } = useProduct()\n  \n  const {\n    bar,\n    barSelected,\n    knobLeft,\n    knobRight,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n    min,\n    max,\n    isDragging\n  } = usePriceFilter();\n\n  return (\n    <div>\n      <PriceTag>\n        <span>${addCommaToPrice(min)}</span>\n        <span>${addCommaToPrice(max)}</span>\n      </PriceTag>\n      <PriceBar>\n        <div ref={bar}>\n          <div ref={barSelected} style={barStyle} />\n            <PriceKnob ref={knobLeft} $left style={leftStyle} onMouseDown={handleMouseDown} />\n            <PriceKnob ref={knobRight} $right style={rightStyle} onMouseDown={handleMouseDown} />\n        </div>\n      </PriceBar>\n      {isDragging && (\n        <Cover\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseLeave}\n        />\n      )}\n    </div>\n  )\n}\n\nexport const Filter = () => {\n  const sizes = ['S', 'M', 'L']\n  const colors = ['brown', 'yellow', 'white', 'grey', 'black']\n\n  const { pathname, search } = useContext(LocationContext);\n\n  console.log(search)\n  \n  return (\n    <>\n      <ControllerBtn>\n        <label htmlFor=\"filter\">\n          <FontAwesomeIcon icon={faFilter}/>\n        </label>\n      </ControllerBtn>\n      <FilterContainer>\n        <H4>商品篩選</H4>\n        {search && !search.includes('page') && (\n          <ClearBtn>\n            <Link to={pathname}>\n              <span>清除篩選</span>\n            </Link>\n          </ClearBtn>\n        )}\n        <SizeFilter>\n          <P>尺寸</P>\n          <ul>\n            {sizes.map(size => (\n              <li key={size}>\n                <SizeSelect {...{size}} />\n              </li>\n            ))}\n          </ul>\n        </SizeFilter>\n        <ColorFilter>\n          <P>顏色</P>\n          <ul>\n            {colors.map(color => (\n              <li key={color}>\n                <ColorSelect {...{color}} />\n              </li>\n            ))}\n          </ul>\n        </ColorFilter>\n        <PriceFilter>\n          <P>價格</P>\n          <PriceSelect />\n        </PriceFilter>\n      </FilterContainer>\n    </>\n  )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { H4, P, Span } from \"../constants/style\"\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nimport useProduct from \"../hooks/useProduct\";\nimport { getTrendingProductsAPI } from \"../webAPI/productAPI\";\nimport { Img } from \"./Img\";\n\n\nconst AsideBlock = styled.div`\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  & > h4 {\n    padding: 10px 15px;\n    font-weight: ${props => props.theme.fontWeight.xl};\n    background-color: #eee;\n  }\n  & a {\n    color: ${props => props.theme.color.black};\n  }\n`\n\nconst TrendContainer = styled(AsideBlock)`\n  ${MEDIA_QUERY.main} {\n    display: none;\n  }\n  & > p {\n    text-align: center;\n    padding: 20px;\n  }\n`\n\nconst TrendCard = styled.section`\n  padding: 10px 0;\n  display: flex;\n  & > div {\n      padding: 0 10px;\n  }\n`\n\nconst TrendImage = styled.div`\n  z-index: 1;\n  width: 60%;\n  display: flex;\n  align-items: center;\n  position: relative;\n  & img {\n    width: 100%;\n  }\n`\n\nconst TrendInfo = styled.div`\n  width: 40%;\n  & p {\n    padding: 5px 0;\n  }\n  & span {\n    display: block;\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n`\n\nconst TrendPrice = styled.div`\n  & span {\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n    }\n  }\n`\n\nconst TrendItem = ({trend}) => {\n\n  const { addCommaToPrice } = useProduct()\n\n  return (\n    <TrendCard>\n      <TrendImage>\n        <Link to=\"/products\">\n          <Img image={trend.Images[0]} />\n          {/* <img src={trend.Images[0].src} alt={trend.Images[0].alt} /> */}\n        </Link>\n      </TrendImage>\n      <TrendInfo>\n        <Link to=\"/products\">\n          <P>{trend.name}</P>\n        </Link>\n        {\n          trend.is_sale ? (\n            <TrendPrice>\n              <Span>NT ${addCommaToPrice(trend.price_standard)}</Span>\n              <Span>NT ${addCommaToPrice(trend.price_sale)}</Span>\n            </TrendPrice>\n          ) : (\n            <Span>NT ${addCommaToPrice(trend.price_standard)}</Span>\n          )\n        }\n      </TrendInfo>\n    </TrendCard>\n  )\n}\n\nexport const Trend = () => {\n\n  const [trends, setTrends] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    getTrendingProductsAPI().then(data => {\n      if(!data.ok) {\n        setTrends()\n        return setError(data.message)\n      }\n      setTrends(data.data.slice(0, 4))\n      setError()\n    })\n  }, [])\n\n  return (\n    <TrendContainer>\n      <H4>熱賣商品</H4>\n      {!trends && (\n        error ? (\n          <P>{error}</P>\n        ) : (\n          <P>商品載入中...</P>\n        )\n      )}\n      {trends && !error && (\n        trends.length > 0 ? (\n          trends.map(trend => (\n            <TrendItem key={trend.id} trend={trend} />\n          ))\n        ) : (\n          <P>查無商品</P>\n        )\n      )}\n    </TrendContainer>\n  )\n}","import { Link } from \"react-router-dom\";\n\nimport styled from \"styled-components\"\nimport { MEDIA_QUERY } from \"../constants/style\"\n\nimport { Filter } from \"../pages/ListPage/Filter\"\nimport { Trend } from \"./Trend\"\n\n\nconst Cover = styled.label`\n  z-index: 0;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  display: none;\n  // background-color: #aaaa;\n`\n\nconst PictureContainer = styled.div`\n  & img {\n    width: 100%;\n  }\n  ${MEDIA_QUERY.main} {\n    display: none;\n  }\n`\n\nconst AsideContainer = styled.aside`\n  width: 20%;\n  min-width: 250px;\n  & > div {\n    z-index: 1;\n    margin: 10px;\n    background-color: ${props => props.theme.color.white};\n  }\n  ${MEDIA_QUERY.main} {\n    position: fixed;\n    left: -240px;\n    z-index: 200;\n    transition: .3s;\n  }\n`\n\nconst Controller = styled.input`\n  display: none;\n  &:checked {\n    & ~ aside {\n      left: -10px;\n    }\n    & + label {\n      display: block;\n    }\n  }\n`\n\nexport const Aside = ({filter}) => {\n\n  return (\n      <>\n        {filter && (\n          <>\n            <Controller id=\"filter\" type=\"checkbox\" />\n            <Cover htmlFor=\"filter\" />\n          </>\n        )}\n        <AsideContainer>\n          <PictureContainer>\n            <Link to=\"/products\">\n              <img src=\"https://picsum.photos/200/250\" alt=\"aside_img\" />\n            </Link>\n          </PictureContainer>\n          {filter && (\n            <Filter />\n          )}\n          <Trend />\n        </AsideContainer>\n      </>\n  )\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\nimport { useEffect, useContext } from \"react\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTh, faThLarge, faChevronDown, faAlignJustify } from '@fortawesome/free-solid-svg-icons'\n\nimport { LocationContext } from \"./ListPage\";\n\nimport { Span } from \"../../constants/style\"\nimport { MEDIA_QUERY, Btn } from \"../../constants/style\"\nimport { useRef } from \"react\";\n\nconst SortContainer = styled.div`\n  margin: 0 10px;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ${props => props.theme.color.lightGrey}3;\n`\n\nconst GalleryBtnGroup = styled.div`\n  z-index: 1;\n  ${MEDIA_QUERY.s} {\n    display: none;\n  }\n`\n\nconst GalleryBtn = styled(Btn)`\n  padding: 5px;\n  & svg {\n    font-size: ${props => props.theme.fontSize.btn};\n  }\n  ${MEDIA_QUERY.m} {\n    ${props => props.$four && 'display: none;'}\n  }\n`\n\nconst GalleryRadio = styled.input`\n  display: none;\n  &:checked {\n    & ~ div {\n      & section {\n        width: ${props => props.$two && 'calc(100%/2)'};\n        width: ${props => props.$three && 'calc(100%/3)'};\n        width: ${props => props.$four && 'calc(100%/4)'};\n      }\n    }\n  }\n`\n\nconst MenuContainer = styled.div`\n  width: 150px;\n  position: relative;\n  & span {\n    display: block;\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n  & > input {\n    display: none;\n    &:checked {\n      & ~ ul {\n        display: block;\n      }\n      & + label {\n        display: block;\n      }\n    }\n  }\n`\nconst Menu = styled.div`\n  z-index: 1;\n  background-color: ${props => props.theme.color.white};\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  padding: 5px 10px;\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n  & span {\n    color: ${props => props.theme.color.lightGrey};\n  }\n  & button {\n    & svg {\n      font-size: ${props => props.theme.fontSize.bodyLarge};\n    }\n  }\n  & label {\n    position: absolute;\n    display: block;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst SubMenu = styled.ul`\n  width: 100%;\n  position: absolute;\n  top: 33px;\n  background-color: #fff;\n  z-index: 5;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  display: none;\n  & li:hover {\n    background-color: ${props => props.theme.color.grey};\n    & span {\n    color: ${props => props.theme.color.light_primary};\n    }\n  }\n  & span {\n    padding: 5px 10px;\n    color: ${props => props.theme.color.grey};\n  }\n`\n\nconst Cover = styled.label`\n  z-index: 0;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  display: none;\n  // background-color: #aaaa;\n`\n\nconst SortSelect = ({sortMap, order}) => {\n\n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n\n  newSearch.set('order', order)\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n  \n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <Span>{sortMap[order]}</Span>\n    </Link>\n  )\n}\n\nconst SortMenu = () => {\n\n    let { search } = useContext(LocationContext);\n    search = new URLSearchParams(search);\n    const currentOrder = search.get('order');\n\n    const sortMenuDOM = useRef()\n  \n    const sortMap = {\n      sold_desc: '熱門度優先', \n      price_desc: '價格 (高至低)', \n      price_asc: '價格 (低至高)',\n    };\n\n    const title = currentOrder ? sortMap[currentOrder] : sortMap.sold_desc\n  \n    useEffect(() => {\n      sortMenuDOM.current.checked = false\n    }, [search])\n  \n    return (\n      <MenuContainer>\n        <Menu>\n          <label htmlFor=\"sort-menu\" />\n          <Span>{title}</Span>\n          <Btn><FontAwesomeIcon icon={faChevronDown}/></Btn>\n        </Menu>\n        <input id=\"sort-menu\" type=\"checkbox\" ref={sortMenuDOM} />\n        <Cover htmlFor=\"sort-menu\"/>\n        <SubMenu>\n          {Object.keys(sortMap).map(order => (\n            <li key={order}>\n              <SortSelect {...{sortMap, order}}/>\n            </li>\n          ))}\n        </SubMenu>\n      </MenuContainer>\n    )\n}\n\nexport const Sort = () => {\n  return (\n      <>\n          <SortContainer>\n            <GalleryBtnGroup>\n              <GalleryBtn>\n                <label htmlFor=\"two-columns\">\n                  <FontAwesomeIcon icon={faThLarge}/>\n                </label>\n              </GalleryBtn>\n              <GalleryBtn>\n                <label htmlFor=\"three-columns\">\n                  <FontAwesomeIcon icon={faTh}/>\n                </label>\n              </GalleryBtn>\n              <GalleryBtn $four>\n                <label htmlFor=\"four-columns\">\n                  <FontAwesomeIcon icon={faAlignJustify} transform={{ rotate: 90 }}/>\n                </label>\n              </GalleryBtn>\n            </GalleryBtnGroup>\n            <SortMenu />\n          </SortContainer>\n          <GalleryRadio $two id=\"two-columns\" name=\"gallery\" type=\"radio\" />\n          <GalleryRadio $three id=\"three-columns\" name=\"gallery\" type=\"radio\" />\n          <GalleryRadio $four id=\"four-columns\" name=\"gallery\" type=\"radio\" />\n      </>\n  )\n}","import { Link } from \"react-router-dom\";\nimport { useContext, useRef } from \"react\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { LocationContext } from \"./ListPage\";\n\nimport { MEDIA_QUERY } from \"../../constants/style\"\nimport { Span } from \"../../constants/style\"\n\n\n\nconst PageContainer = styled.div`\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & button + button {\n    margin-left: 5px;\n  }\n`\n\nconst PageBtn = styled.button`\n  width: 30px;\n  height: 30px;\n  transition: .2s;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey}5;\n  background-color: ${props => props.$selected ? props.theme.color.lightGrey : props.theme.color.white};\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    & span, svg {\n      color: ${props => props.theme.color.white};\n    }\n  }\n  & svg {\n    margin: 0 auto;\n    font-size: ${props => props.theme.fontSize.body};\n    color: ${props => props.theme.color.black};\n    display: block;\n  }\n  & span {\n    font-weight: ${props => props.theme.fontWeight.xl};\n    color: ${props => props.$selected && props.theme.color.white};\n    display: block;\n  }\n`\n\nconst Result = styled.div`\n    ${MEDIA_QUERY.s} {\n        opacity: 0;\n    }\n`\n\nconst PageSelect = ({page}) => {\n\n    const { pathname, search } = useContext(LocationContext);\n    const newSearch = new URLSearchParams(search);\n    const currentPage = parseInt(newSearch.get('page')) || 1;\n\n    newSearch.set('page', page)\n    const selected = (currentPage === page) ? true : false\n\n    const url = `${pathname}?${newSearch}`\n\n    return (\n        <PageBtn $selected={selected}>\n            <Link to={url}><Span>{page}</Span></Link>\n        </PageBtn>\n    )\n}\n\nconst Page = ({page_count}) => {\n\n    const { pathname, search } = useContext(LocationContext);\n    const newSearch = new URLSearchParams(search);\n    const currentPage = parseInt(newSearch.get('page')) || 1;\n\n    let n = 1\n    const arr = []\n    while (n<=page_count){\n        arr.push(n)\n        n++\n    }\n  \n    if(currentPage !== arr[0]){\n        newSearch.set('page', currentPage-1)\n    }\n    if(currentPage !== arr[arr.length-1]){\n        newSearch.set('page', currentPage+1)\n    }\n\n    const url = `${pathname}?${newSearch}`\n\n    // const x = useRef(0)\n    return (\n        <PageContainer>\n            {/* {x.current++} */}\n            {(currentPage !== arr[0]) && (\n                <PageBtn>\n                    <Link to={url}>\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 90 }}/>\n                    </Link>\n                </PageBtn>\n            )}\n            {arr.map(page => (\n                <PageSelect \n                    key={page}\n                    page={page} \n                />\n            ))}\n            {(currentPage !== arr[arr.length-1]) && (\n                <PageBtn>\n                    <Link to={url}>\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: -90 }}/>\n                    </Link>\n                </PageBtn>\n            )}\n        </PageContainer>\n    )\n}\n\nexport const Pagination = ({products}) => {\n\n    // console.log('Pagination render')\n\n    const { count, per_page, page, page_count } = products;\n\n    const number_start = (page - 1) * per_page + 1\n    const number_end = (page === page_count) ? (\n        number_start + count - (page - 1) * per_page - 1\n    ) : (\n        number_start + per_page - 1\n    )\n\n    // const x = useRef(0)\n\n    return (\n        <>\n            {/* {x.current++} */}\n            <Result>\n                <p>{number_start} ~ {number_end}，共 {count} 筆資料</p>\n            </Result>\n            <Page {...{page_count}} />\n        </>\n    )\n}","import styled from \"styled-components\"\nimport { useEffect, useContext } from \"react\";\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getProducts, setProducts } from \"../../features/product/productSlice\";\n\nimport { P, H4 } from \"../../constants/style\"\nimport { MEDIA_QUERY } from \"../../constants/style\"\n\nimport { ProductItem } from \"../../components/ProductItem\";\n\nimport { Pagination } from \"./Pagination\";\nimport { LocationContext } from \"./ListPage\";\n\nconst ProductContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  text-align: center;\n  & > section {\n    width: calc(100%/4);\n    ${MEDIA_QUERY.l} {\n      width: calc(100%/3);\n    }\n    ${MEDIA_QUERY.m} {\n      width: 50%;\n    }\n    ${MEDIA_QUERY.xs} {\n      width: 100%;\n    }\n  }\n  & > p {\n    margin: 0 auto;\n    padding: 20px;\n  }\n  & > h4 {\n    margin: 0 auto;\n    padding: 40px 0;\n  }\n`\n\nconst IndexContainer = styled.div`\n\n  height: 55px;\n  box-sizing: border-box;\n\n  margin: 0 10px;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ${props => props.theme.color.lightGrey}3;\n`\n\nexport const ProductList = () => {\n\n  const { pathname, search } = useContext(LocationContext);\n\n  const products = useSelector(state => state.product.products)\n  const error = useSelector(state => state.product.error)\n  const dispatch = useDispatch()\n\n  useEffect(() => {    \n    window.scrollTo(0, 0);\n    const newSearch = new URLSearchParams(search);\n    if(!newSearch.has('page')){\n      newSearch.set('page', 1)\n    }\n    const pathArr = pathname.split('/').slice(2, 4)\n    dispatch(getProducts(pathArr, `?${newSearch}`))\n    return () => {\n      dispatch(setProducts(''))\n    }\n  }, [pathname, search, dispatch])\n  \n  return (\n    <>\n      <ProductContainer>\n        {!products && (\n          error ? (\n            <P>{error}</P>\n          ) : (\n            <H4>商品載入中...</H4>\n          )\n        )}\n        {products && !error && ( \n          products.rows.length > 0 ? (\n            products.rows.map(product => (\n              <ProductItem key={product.id} product={product} />\n            ))\n          ) : (\n            <H4>查無商品</H4>\n          )\n        )}\n      </ProductContainer>\n      <IndexContainer>\n        {products && (\n          <Pagination {...{products}} />\n        )}\n      </IndexContainer>\n    </>\n  )\n}","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\";\n\nimport { useSelector } from \"react-redux\";\nimport useProduct from \"../../hooks/useProduct\"\n\nimport { MEDIA_QUERY } from \"../../constants/style\";\nimport { H4, P, Span } from \"../../constants/style\"\n\n\nconst PopupItem = styled.div`\n    display: flex;\n    & > div {\n        padding: 20px;\n        width: 50%;\n        & img {\n            width: 100%;\n        }\n    }\n    ${MEDIA_QUERY.s} {\n        display: block;\n        & > div {\n            padding: 10px 0;\n            margin: 0 auto;\n            width: 80%;\n        }\n    }\n`\n\nconst PopupBtnGroup = styled.div`\n  text-align: center;\n  padding: 10px 0 20px;\n  & a {\n    margin-left: 5px;\n  }\n`\nconst PopupBtn = styled.button`\n  padding: 5px 15px;\n  border-radius: .25em;\n  border: 1px solid ${props => props.$checked ? props.theme.color.black : props.theme.color.lightGrey};\n  transition: .4s;\n  background-color: ${props => props.$checked ? props.theme.color.black : props.theme.color.white};\n  & span {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n    color: ${props => props.$checked ? props.theme.color.white : props.theme.color.black};\n  }\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    border-color: ${props => props.theme.color.black};\n    & span {\n      color: ${props => props.theme.color.white};\n    }\n  }\n`\n\n\nexport const CartPopup = () => {\n\n  const product = useSelector(state => state.product.product)\n  const spec = useSelector(state => state.product.spec)\n\n  const mainImg = product.product.Images.find(img => img.is_main)\n  const price = product.product.is_sale ? product.product.price_sale : product.product.price_standard\n  \n  const {\n    handleClosePopup\n  } = useProduct()\n\n  return (\n    <>\n      <PopupItem>\n          <div>\n            <img src={mainImg.src} alt={mainImg.alt}/>\n          </div>\n          <div>\n            <H4>{product.product.name}</H4>\n            <P>價格: {price}</P>\n            <P>尺寸: {spec.size}, 顏色: {spec.color}</P>\n            <P>數量: {spec.qty}</P>\n          </div>\n      </PopupItem>\n      <PopupBtnGroup>\n        <PopupBtn onClick={handleClosePopup()}>\n          <Span>繼續選購</Span>\n        </PopupBtn>\n        <Link to=\"/cart\" onClick={handleClosePopup()}>\n          <PopupBtn>\n            <Span>前往結帳</Span>\n          </PopupBtn>\n        </Link>\n      </PopupBtnGroup>\n    </>\n  )\n}","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nimport { P, Span } from \"../constants/style\"\n\n\nconst PopupContent = styled.div`\n    display: flex;\n    justify-content: space-between;\n    & a {\n        text-decoration: underline ${props => props.theme.color.black};\n    }\n    & span {\n        font-weight: ${props => props.theme.fontWeight.xl}\n    }\n`\n\nexport const LoginPopup = () => {\n\n    const popupCode = useSelector(state => state.general.popupCode)\n  \n    return (\n        <>\n            {popupCode === 'login' && (\n                <PopupContent>\n                    <P>請先登入！</P>\n                    <Link to=\"/\">\n                        <Span>點我登入</Span>\n                    </Link>\n                </PopupContent>\n            )}\n        </>\n    )\n}","import { useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { sizeMap } from \"../constants/mapping\";\nimport { setErrorMessage } from \"../features/general/generalSlice\";\nimport { addProductAPI, searchProductAPI, updateProductAPI } from \"../webAPI/productAPI\"\n\n\nexport default function useAdminProduct ({step, setStep, productToAdd, setProductToAdd, top}) {\n\n    const history = useHistory();\n\n    const [name, setName] = useState('')\n    const [gender, setGender] = useState('')\n    const [category, setCategory] = useState('')\n    const [desc, setDesc] = useState('')\n    const [material, setMaterial] = useState('')\n    const [washing, setWashing] = useState('')\n    const [images, setImages] = useState(Array(4).fill({src: ''}))\n\n    const [sizes, setSizes] = useState([])\n    const [colors, setColors] = useState([])\n    \n    const [patterns, setPatterns] = useState([])\n    const [isOn, setIsOn] = useState(false)\n    const [isSale, setIsSale] = useState(false)\n    const [priceStandard, setPriceStandard] = useState(0)\n    const [priceSale, setPriceSale] = useState(0)\n\n    const product = useSelector(state => state.product.product)\n    const errorMessage = useSelector(state => state.general.errorMessage)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(!product) return\n        setName(product.product.name)\n        setGender(product.product.gender)\n        setCategory(product.product.Category.name)\n        setDesc(product.product.desc)\n        setMaterial(product.product.material)\n        setWashing(product.product.washing)\n        setImages(Array(4).fill({src: ''}).map((image, i) => product.product.Images[i] ? {...image, id: product.product.Images[i].id, src: product.product.Images[i].src} : image))\n        setSizes(product.product[product.product.Category.group].map(size => size.waist ? {...size, waist: size.waist.split('~')} : size))\n        setColors(product.product.Colors)\n    }, [product])\n\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'name': {\n                if(errorMessage) dispatch(setErrorMessage(''))\n                return setName(e.target.value)\n            }\n            case 'gender': {\n                if(e.target.id === 'male') return setGender('M')\n                if(e.target.id === 'female') return setGender('F')\n                break\n            }\n            case 'category': return setCategory(e.target.value)\n            case 'desc': return setDesc(e.target.value)\n            case 'material': return setMaterial(e.target.value)\n            case 'washing': return setWashing(e.target.value)\n            case 'image': {\n                return setImages(images.map((image, index) => index === parseInt(e.target.id.slice(-1)) ? {...image, src: e.target.value} : image))\n            }\n            case 'size': {\n                if(e.target.id.includes('size') && errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                if(e.target.id.includes('waist')){\n                    return setSizes(sizes.map((size, i) => i === parseInt(e.target.id.slice(-1)) ? {...size, waist: size.waist.map((a, i) => i === parseInt(e.target.id.split('_')[1]) ? e.target.value : a)} : size))\n                }\n                return setSizes(sizes.map((size, i) => i === parseInt(e.target.id.slice(-1)) ? {...size, [e.target.id.slice(0, -2)]: e.target.value.toUpperCase()} : size))\n            }\n            case 'color': {\n                if(e.target.id.includes('name') && errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors(colors.map((color, i) => i === parseInt(e.target.id.slice(-1)) ? {...color, [e.target.id.split('_')[0]]: e.target.value.toLowerCase()} : color))\n            }\n            case 'pattern': {\n                return setPatterns(patterns.map((pattern, i) => i === parseInt(e.target.id.slice(-1)) ? {...pattern, [e.target.id.split('_')[0]]: e.target.value} : pattern))\n            }\n            case 'is_on': return setIsOn(e.target.checked)\n            case 'is_sale': return setIsSale(e.target.checked)\n            case 'price_standard': return setPriceStandard(e.target.value)\n            case 'price_sale': return setPriceSale(e.target.value)\n            default: break\n        }\n    }\n\n    const handleSetStep = e => {\n        switch (step) {\n            case 1: {\n                window.scrollTo(0, 0)\n                if(!name || !gender || !category || !images[0].src) return; \n                return searchProductAPI([['name', name]]).then(result => {\n                    if(result.ok) return dispatch(setErrorMessage('商品名稱重複'))\n                    saveProduct()\n                    setStep(step+1)\n                })\n            }\n            case 2: {\n                if(e.target.name === 'next'){\n                    if(saveProduct()){\n                        setStep(step+1)\n                        window.scrollTo(0, 400)\n                    }else{\n                        window.scrollTo(0, 0)\n                    }\n                }\n                if(e.target.name === 'back') {\n                    setProductToAdd('')\n                    setStep(step-1)\n                    window.scrollTo(0, 0)\n                    setSizes([])\n                }\n                break\n            }\n            case 3: {\n                const lastProduct = {...productToAdd}\n                delete lastProduct.sizes\n                delete lastProduct.colors\n                setProductToAdd(lastProduct)\n                setStep(step-1)\n                return window.scrollTo(0, 0)\n            }\n            default: break\n        }\n    }\n\n    const handleFormSubmit = e => {\n        e.preventDefault()\n        switch (e.target.id) {\n            case 'edit': {\n                const group = product.product.Category.group.slice(0, -1)\n                return checkForm() ? (\n                    updateProductAPI(product.product.id, {\n                        name, \n                        gender, \n                        category, \n                        desc, \n                        material, \n                        washing, \n                        images, \n                        sizes, \n                        colors, \n                        group\n                    }).then(result => {\n                        if (!result.ok) {\n                            dispatch(setErrorMessage(result.message))\n                            return top.current.scrollIntoView();\n                        }\n                        dispatch(setErrorMessage(''))\n                        alert('更新成功!')\n                        history.go()\n                    })\n                ) : (\n                    top.current.scrollIntoView()\n                )\n            }\n            case 'addThird': {\n                console.log(productToAdd)\n                return saveProduct() && addProductAPI(productToAdd)\n                .then(result => {\n                    if (!result.ok) {\n                        const lastProduct = {...productToAdd}\n                        if(step === 3){\n                            delete lastProduct.patterns\n                            delete lastProduct.is_on\n                            delete lastProduct.is_sale\n                            delete lastProduct.price_standard\n                            delete lastProduct.price_sale\n                        }\n                        setProductToAdd(lastProduct)\n                        alert(result.message)\n                        return window.scrollTo(0, 0)\n                    }\n                    setProductToAdd('')\n                    dispatch(setErrorMessage(''))\n                    alert('新增成功!')\n                    history.push('/admin/product/information')\n                })\n            }\n            default: break\n        }\n    }\n\n    function checkForm () {\n        if(!sizes.every(size => size.size) || !colors.every(color => color.name)) return false\n        if(new Set(sizes.map(size => size.size)).size !== sizes.length){\n            dispatch(setErrorMessage('尺碼不可重複'))\n            return false\n        }\n        if(new Set(colors.map(color => color.name)).size !== colors.length){\n            dispatch(setErrorMessage('名稱不可重複'))\n            return false\n        }\n        return true\n    }\n\n    function saveProduct () {\n        switch (step) {\n            case 1: {\n                return setProductToAdd({\n                    ...productToAdd,\n                    name, gender, category, desc, material, washing, \n                    images: images\n                        .filter(image => image.src)\n                        .map((image, index) => image.src && ({\n                            src: image.src,\n                            alt: `${name}_0${index+1}`\n                        })),\n                    group: ['tops', 'shirts', 'knit', 'one_piece', 'outer'].includes(category) ? 'Size_top' : category === 'bottoms' ? 'Size_bottom' : category === 'skirts' ? 'Size_skirt' : 'Size_general'\n                })\n            }\n            case 2: {\n                if(checkForm()){\n                    setProductToAdd({\n                        ...productToAdd,\n                        sizes, colors\n                    })\n                    return true\n                }else{\n                    return false\n                }\n            }\n            case 3: {\n                setProductToAdd({\n                    ...productToAdd,\n                    patterns,\n                    is_on: isOn,\n                    is_sale: isSale,\n                    price_standard: priceStandard,\n                    price_sale: priceSale\n                })\n                return true\n            }\n            default: break\n        }\n    }\n\n    const handleAddPattern = group => e => {\n        switch (e.target.name) {\n            case 'size': {\n                if(errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                const obj = {size: ''}\n                Object.keys(sizeMap[group]).map(ele => (\n                    obj[ele] = (ele === 'waist' ? [0, 0] : 0)\n                ))\n                return setSizes([...sizes, obj])\n            }\n            case 'color': {\n                if(errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors([...colors, {name: '', code: '#000000'}])\n            }\n            default: break\n        }\n    }\n\n    const handleDeletePattern = index => e => {\n        switch (e.currentTarget.name) {\n            case 'size': {\n                if(sizes.length === 1) return\n                if(errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                return setSizes(sizes.filter((size, i) => i !== index))\n            }\n            case 'color': {\n                if(colors.length === 1) return\n                if(errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors(colors.filter((size, i) => i !== index))\n            }\n            default: break\n        }\n    }\n\n    return {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n\n        sizes, \n        setSizes, \n        colors, \n        setColors, \n\n        patterns, \n        setPatterns, \n\n        isOn, \n        setIsOn, \n        isSale, \n        setIsSale, \n        priceStandard, \n        setPriceStandard, \n        priceSale, \n        setPriceSale, \n\n        handleInputChange, \n        handleSetStep, \n        handleFormSubmit, \n        checkForm, \n        saveProduct, \n        handleAddPattern, \n        handleDeletePattern, \n    }\n}","import { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport { sizeMap } from \"../../../constants/mapping\"\nimport { P, fontTheme, TextBtn, Btn } from \"../../../constants/style\";\n\nimport useAdminProduct from \"../../../hooks/useAdminProduct\";\n\n\nconst StepContainer = styled.div`\n    border: 1px solid #aaa8;\n    border-radius: .5em;\n    background-color: #eee;\n    ${props => !props.$active && 'opacity: 0.5;'}\n    transition: .5s;\n    padding: 10px;\n`\n\nconst FirstStepContainer = styled(StepContainer)``\nconst SecondStepContainer = styled(StepContainer)`\n    margin-bottom: 20px;\n    max-height: ${props => props.$step >= 2 || props.$step === 0 ? '1000px' : '80px'};\n    overflow: hidden;\n    transition: 1s;\n`\nconst ThirdStepContainer = styled(StepContainer)`\n    max-height: ${props => props.$step >= 3 || props.$step === 0 ? '1000px' : '80px'};\n    overflow: hidden;\n    transition: 1s;\n`\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    display: flex;\n    & > div {\n        width: 50%;\n        padding: 10px;\n    }\n`\n\nconst LeftContainer = styled.div``\nconst RightContainer = styled.div``\n\n\nconst FlowNode = styled.div`\n    ${fontTheme.span};\n    margin-right: 10px;\n    background-color: ${props => props.theme.color.lightGrey};\n    color: ${props => props.theme.color.white};\n    min-width: 60px;\n    min-height: 60px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    & > p {\n        ${fontTheme.h4}\n    }\n`\n\nconst FlowText = styled.div`\n    ${fontTheme.h4}\n    padding-right: 10px;\n    color: ${props => props.theme.color.lightGrey};\n    min-width: ${props => props.$fixed && '108px'};\n`\n\nconst FlowContent = styled.li`\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n    padding: 10px;\n    position: relative;\n    & + li::before {\n        content: '>';\n        position: absolute;\n        left: -10px;\n        ${fontTheme.h3}\n        color: ${props => props.theme.color.lightGrey};\n    }\n    ${FlowNode} {\n        background-color: ${props => props.$active && props.theme.color.black};\n    }\n    ${FlowText} {\n        color: ${props => props.$active && props.theme.color.black};\n    }\n`\n\nconst InputBlock = styled.div`\n    display: flex;\n    flex-direction: column;\n    padding: 0px 10px 10px;\n    ${fontTheme.p}\n    position: relative;\n    & label {\n        line-height: 2em;\n    }\n    & input, select, textarea {\n        ${fontTheme.span}\n        padding: 3px 8px;\n        &:invalid {\n            border: 2px solid red;\n            & ~ span {\n                &::before {\n                    ${fontTheme.span}\n                    color: ${props => props.theme.color.alert};\n                    content: '這是必填欄位';\n                }\n            }\n        }\n    }\n    & > input, > select, > textarea {\n        margin: 0 5px;\n    }\n    & span {\n        position: absolute;\n        top: 10px;\n        right: 15px;\n        ${fontTheme.span}\n        color: ${props => props.theme.color.alert};\n    }\n`\n\nconst BtnContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    padding: 20px 10px 10px;\n    & > button {\n        margin: 0px 5px;\n    }\n`\n\nconst UploadBtn = styled(TextBtn)`\n    ${fontTheme.h5}\n    font-weight: ${props => props.theme.fontWeight.m};\n    padding: 3px 8px;\n`\n\nconst ImgInput = styled.div`\n    display: flex;\n    align-items: center;\n    margin: 0 5px;\n    & + div {\n        margin-top: 5px;\n    }\n    & input {\n        flex-grow: 9.5;\n        font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n    & button {\n        flex-grow: 0.5;\n        margin-left: 5px;\n    }\n`\n\nconst CheckInput = styled.div`\n    & input {\n        margin: 0 5px;\n        & ~ input {\n            margin-left: 10px;\n        }\n    }\n`\n\nconst InputTitle = styled.div`\n    margin-left: 0;\n    display: flex;\n    align-items: center;\n    & > button {\n        margin-left: 10px;\n    }\n`\n\nconst SizeInput = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    & input {\n        margin: 0 5px;\n        width: 40px;\n    }\n    align-items: baseline;\n    margin: 5px 5px 0;\n    & > div {\n        // flex-grow: 1;\n        display: flex;\n        & > input {\n            // flex-grow: 1;\n        }\n    }\n    & > button {\n        margin: 5px 5px 0;\n        & svg {\n            font-size: ${props => props.theme.fontSize.h4};\n        }\n    }\n`\n\nconst ColorInput = styled.div`\n    display: flex;\n    & input {\n        margin: 0 5px;\n    }\n    & > div {\n        display: flex;\n        align-items: baseline;\n        margin: 5px 5px 0;\n        flex-grow: 1;\n        & > input {\n            flex-grow: 1;\n        }\n    }\n    & > button {\n        margin: 5px 5px 0;\n        & svg {\n            font-size: ${props => props.theme.fontSize.h4};\n        }\n    }\n`\n\nconst PatternInput = styled.div`\n    margin: 0 5px;\n    & input {\n        margin: 0 5px;\n        width: 40px;\n    }\n    & + div {\n        margin-top: 5px;\n    }\n`\n\nconst PriceInput = styled.div`\n    margin: 0 5px;\n    & input {\n        margin: 0 5px;\n        width: 60px;\n    }\n`\n\nexport const FirstStepInputs = ({step, name, gender, category, desc, material, washing, images, error, handleInputChange}) => {\n\n    const errorMessage = useSelector(state => state.general.errorMessage)\n\n    return (\n        <>\n            <InputBlock>\n                <label htmlFor=\"name\">品名</label>\n                <input\n                    value={name}\n                    onChange={handleInputChange}\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    disabled={step > 1}\n                    required\n                />\n                <span>{errorMessage === '商品名稱重複' && errorMessage}</span>\n            </InputBlock>\n            <InputBlock>\n                <label>性別</label>\n                <CheckInput>\n                    <input\n                        checked={gender === 'M'}\n                        onChange={handleInputChange}\n                        type=\"radio\"\n                        name=\"gender\"\n                        id=\"male\"\n                        disabled={step > 1}\n                        required\n                    />\n                    <label htmlFor=\"male\">男裝</label>\n                    <input\n                        checked={gender === 'F'}\n                        onChange={handleInputChange}\n                        type=\"radio\"\n                        name=\"gender\"\n                        id=\"female\"\n                        disabled={step > 1}\n                        required\n                    />\n                    <label htmlFor=\"female\">女裝</label>\n                    <span></span>\n                </CheckInput>\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"category\">分類</label>\n                <select\n                    value={category}\n                    onChange={handleInputChange}\n                    name=\"category\"\n                    id=\"category\"\n                    disabled={step !== 1}\n                    required pattern=\".\"\n                >\n                    <option value=\"\">-----</option>\n                    <option value=\"tops\">上衣類</option>\n                    <option value=\"shirts\">襯衫類</option>\n                    <option value=\"knit\">針織衫 / 毛衣</option>\n                    <option value=\"one_piece\">洋裝類</option>\n                    <option value=\"outer\">外套類</option>\n                    <option value=\"bottoms\">褲裝類</option>\n                    <option value=\"skirts\">裙子類</option>\n                    <option value=\"general\">配件類</option>\n                </select>\n                <span></span>\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"desc\">簡介</label>\n                <textarea\n                    value={desc}\n                    onChange={handleInputChange}\n                    name=\"desc\"\n                    id=\"desc\"\n                    disabled={step > 1}\n                    rows=\"5\"\n                />\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"material\">材質</label>\n                <textarea\n                    value={material}\n                    onChange={handleInputChange}\n                    name=\"material\"\n                    id=\"material\"\n                    disabled={step > 1}\n                    rows=\"2\"\n                />\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"washing\">洗滌方式</label>\n                <textarea\n                    value={washing}\n                    onChange={handleInputChange}\n                    name=\"washing\"\n                    id=\"washing\"\n                    disabled={step > 1}\n                    rows=\"4\"\n                />\n            </InputBlock>\n            <InputBlock>\n                <label htmlFor=\"image\">照片 (第一張為封面)</label>\n                {images.map((image, i) => (\n                    <ImgInput key={i}>\n                        <input\n                            value={image.src}\n                            placeholder={!i ? '(必填)' : '(選填)'}\n                            onChange={handleInputChange}\n                            type=\"text\"\n                            name=\"image\"\n                            id={`image_${i}`}\n                            disabled={step > 1}\n                            required={i === 0}\n                        />\n                        <UploadBtn $white $active={step === 1 || step === 0}>上傳照片</UploadBtn>\n                        <span></span>\n                    </ImgInput>\n                ))}\n            </InputBlock>\n        </>\n    )\n}\n\nconst FirstStep = ({step, setStep, productToAdd, setProductToAdd}) => {\n\n    const {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n        handleInputChange, \n        handleSetStep, \n    } = useAdminProduct({step, setStep, productToAdd, setProductToAdd})\n\n\n    return (\n        <FirstStepContainer $active={step === 1}>\n            <FlowContent $active>\n                <FlowNode>\n                    Step\n                    <p>01</p>\n                </FlowNode>\n                <FlowText $fixed>\n                    產品基本資料\n                </FlowText>\n            </FlowContent>\n            <form>\n                <FirstStepInputs {...{step, name, gender, category, desc, material, washing, images, handleInputChange}} />\n                <BtnContainer>\n                    <TextBtn type=\"button\" name=\"next\" onClick={handleSetStep} $active={step === 1} disabled={step !== 1}>下一步</TextBtn>\n                </BtnContainer>\n            </form>\n        </FirstStepContainer>        \n    )\n}\n\nexport const SecondStepInputs = ({step, group, sizes, colors, handleInputChange, handleAddPattern, handleDeletePattern, sizesLength, colorsLength}) => {\n\n    const errorMessage = useSelector(state => state.general.errorMessage)\n\n    return (\n        <>\n            <InputBlock>\n                <InputTitle>\n                    <label>尺寸</label>\n                    {group !== 'Size_general' && (\n                        <UploadBtn type=\"button\" onClick={handleAddPattern(group)} name=\"size\" $white $active={step === 2 || step === 0}>新增尺寸</UploadBtn>\n                    )}\n                </InputTitle>\n                    {sizes.length > 0 ? (\n                        group && sizeMap[group] ? (\n                            sizes.map((size, i) => (\n                                <SizeInput key={i}>\n                                    <div>\n                                        <label htmlFor={`size_${i}`}>尺碼:</label>\n                                        <input\n                                            value={size.size}\n                                            onChange={handleInputChange}\n                                            type=\"text\"\n                                            name=\"size\"\n                                            id={`size_${i}`}\n                                            size=\"2\"\n                                            disabled={step !== 2 && (sizesLength ? i < sizesLength : 1)}\n                                            required\n                                        />\n                                        <span>{errorMessage === '尺碼不可重複' && errorMessage}</span>\n                                    </div>\n                                    {Object\n                                        .entries(sizeMap[group])\n                                        .map((spec, j) => (\n                                            <div key={j}>\n                                                <label htmlFor={`${spec[0]}_${i}`}>{spec[1]}:</label>\n                                                {spec[0] === 'waist' ? (\n                                                    <>\n                                                        <input\n                                                            value={size[spec[0]][0]}\n                                                            onChange={handleInputChange}\n                                                            type=\"number\"\n                                                            name=\"size\"\n                                                            id={`${spec[0]}_0_${i}`}\n                                                            min=\"0\"\n                                                            disabled={step !== 2 && step !== 0}\n                                                        />~\n                                                        <input\n                                                            value={size[spec[0]][1]}\n                                                            onChange={handleInputChange}\n                                                            type=\"number\"\n                                                            name=\"size\"\n                                                            id={`${spec[0]}_1_${i}`}\n                                                            min=\"0\"\n                                                            disabled={step !== 2 && step !== 0}\n                                                        />\n                                                    </>\n                                                ) : (\n                                                    <input\n                                                        value={size[spec[0]]}\n                                                        onChange={handleInputChange}\n                                                        type=\"number\"\n                                                        name=\"size\"\n                                                        id={`${spec[0]}_${i}`}\n                                                        min=\"0\"\n                                                        disabled={step !== 2 && step !== 0}\n                                                    />\n                                                )}\n                                            </div>\n                                        ))\n                                    }\n                                    <Btn \n                                        onClick={handleDeletePattern(i)} \n                                        type=\"button\" \n                                        name=\"size\"\n                                        disabled={step !== 2 && (sizesLength ? i < sizesLength : 1)}\n                                    >\n                                        <FontAwesomeIcon icon={faTimes} />\n                                    </Btn>\n                                </SizeInput>\n                        ))) : (\n                            <P>單一尺寸</P>\n                        )\n                    ) : (\n                        <>\n                            {Array(2).fill('').map(() => (\n                                <SizeInput>\n                                    <div>\n                                        <label>尺碼:</label>\n                                        <input\n                                            type=\"text\"\n                                            name=\"size\"\n                                            size=\"2\"\n                                            disabled\n                                            required\n                                        />\n                                    </div>\n                                </SizeInput>\n                            ))}\n                        </>\n                    )}\n            </InputBlock>\n            <InputBlock>\n                <InputTitle>\n                    <label>顏色</label>\n                    <UploadBtn type=\"button\" onClick={handleAddPattern()} name=\"color\" $white $active={step === 2 || step === 0}>新增顏色</UploadBtn>\n                </InputTitle>\n                {colors && colors.map((color, i) => (\n                    <ColorInput key={i}>\n                        <div>\n                            <label htmlFor={`name_${i}`}>名稱:</label>\n                            <input\n                                value={color.name}\n                                onChange={handleInputChange}\n                                type=\"text\"\n                                name=\"color\"\n                                id={`name_${i}`}\n                                size=\"10\"\n                                disabled={step !== 2 && (colorsLength ? i < colorsLength : 1)}\n                                required\n                            />\n                            <span>{errorMessage === '名稱不可重複' && errorMessage}</span>\n                        </div>\n                        <div>\n                            <label htmlFor={`code_${i}`}>色碼:</label>\n                            <input\n                                value={color.code}\n                                onChange={handleInputChange}\n                                type=\"color\"\n                                name=\"color\"\n                                id={`code_${i}`}\n                                disabled={step !== 2 && step !== 0}\n                            />\n                        </div>\n                        <Btn \n                            onClick={handleDeletePattern(i)} \n                            type=\"button\" \n                            name=\"color\"\n                            disabled={step !== 2 && (colorsLength ? i < colorsLength : 1)}\n                        >\n                            <FontAwesomeIcon icon={faTimes} />\n                        </Btn>\n                    </ColorInput>\n                ))}\n            </InputBlock>\n        </>\n    )\n}\n\nconst SecondStep = ({step, setStep, productToAdd, setProductToAdd}) => {\n\n    const {\n        sizes, \n        setSizes, \n        colors, \n        setColors, \n        error, \n        handleInputChange, \n        handleSetStep, \n        handleFormSubmit, \n        handleAddPattern, \n        handleDeletePattern, \n    } = useAdminProduct({step, setStep, productToAdd, setProductToAdd})\n\n\n    useEffect(() => {\n        if(step !== 2) return;\n        if(productToAdd.group === 'Size_general'){\n            setSizes([{size: 'one'}])\n        } else {\n            let arr = Array(2).fill({size: ''})\n            Object.keys(sizeMap[productToAdd.group]).map(ele => (\n                arr.map(a => a[ele] = (ele === 'waist' ? [0, 0] : 0))\n            ))\n            setSizes(arr)\n        }\n        setColors(Array(2).fill({name: '', code: '#000000'}))\n    }, [productToAdd.group, step, setSizes, setColors])\n\n\n    return (\n        <SecondStepContainer $active={step === 2} $step={step}>\n            <FlowContent $active>\n                <FlowNode>\n                    Step\n                    <p>02</p>\n                </FlowNode>\n                <FlowText $fixed>\n                    設定尺寸及顏色\n                </FlowText>\n            </FlowContent>\n            {/* {productToAdd.group && ( */}\n                <form id=\"addSecond\" onSubmit={handleFormSubmit}>\n                    <SecondStepInputs \n                        step={step}\n                        group={productToAdd.group || null}\n                        sizes={sizes}\n                        colors={colors}\n                        error={error}\n                        handleInputChange={handleInputChange}\n                        handleAddPattern={handleAddPattern}\n                        handleDeletePattern={handleDeletePattern}\n                    />\n                    <BtnContainer>\n                        <TextBtn type=\"button\" name=\"back\" onClick={handleSetStep} $active={step === 2} disabled={step !== 2}>上一步</TextBtn>\n                        <TextBtn type=\"button\" name=\"next\" onClick={handleSetStep} $active={step === 2} disabled={step !== 2}>下一步</TextBtn>\n                        <TextBtn type=\"submit\" $active={step === 2} disabled={step !== 2}>略過並儲存</TextBtn>\n                    </BtnContainer>\n                </form>\n            {/* )} */}\n        </SecondStepContainer>        \n    )\n}\n\nconst ThirdStepInputs = ({step, patterns, isOn, isSale, priceStandard, priceSale, handleInputChange}) => {\n    return (\n        <>\n            <InputBlock>\n                <label>存貨數量</label>\n                {patterns && patterns.map((pattern, i) => (\n                    <PatternInput key={i}>\n                        尺寸: {pattern.size}, 顏色: {pattern.color},\n                        <label htmlFor={`total_${i}`}> 數量:</label>\n                        <input\n                            value={pattern.total}\n                            onChange={handleInputChange}\n                            type=\"number\"\n                            name=\"pattern\"\n                            id={`total_${i}`}\n                            min=\"0\"\n                            disabled={step !== 3}\n                        />\n                    </PatternInput>\n                ))}\n            </InputBlock>\n            <InputBlock>\n                <label>商品價格</label>\n                <CheckInput>\n                    <input\n                        checked={isOn}\n                        onChange={handleInputChange}\n                        type=\"checkbox\"\n                        name=\"is_on\"\n                        id=\"is_on\"\n                        disabled={step !== 3}\n                    />\n                    <label htmlFor=\"is_on\">上架中</label>\n                    <input\n                        value={isSale}\n                        onChange={handleInputChange}\n                        type=\"checkbox\"\n                        name=\"is_sale\"\n                        id=\"is_sale\"\n                        disabled={step !== 3}\n                    />\n                    <label htmlFor=\"is_sale\">特價中</label>\n                </CheckInput>\n                <PriceInput>\n                        <label htmlFor=\"price_standard\">原價:</label>\n                        <input\n                            value={priceStandard}\n                            onChange={handleInputChange}\n                            type=\"number\"\n                            name=\"price_standard\"\n                            id=\"price_standard\"\n                            min=\"0\"\n                            disabled={step !== 3}\n                        />\n                        <label htmlFor=\"price_standard\">特價:</label>\n                        <input\n                            value={priceSale}\n                            onChange={handleInputChange}\n                            type=\"number\"\n                            name=\"price_sale\"\n                            id=\"price_sale\"\n                            min=\"0\"\n                            disabled={step !== 3}\n                        />\n                </PriceInput>\n            </InputBlock>\n        </>\n    )\n}\n\nconst ThirdStep = ({step, setStep, productToAdd, setProductToAdd}) => {\n\n    const {\n        patterns, \n        setPatterns, \n        isOn, \n        setIsOn, \n        isSale, \n        setIsSale, \n        priceStandard, \n        setPriceStandard, \n        priceSale, \n        setPriceSale, \n        handleInputChange, \n        handleSetStep, \n        handleFormSubmit, \n        saveProduct, \n    } = useAdminProduct({step, setStep, productToAdd, setProductToAdd})\n\n\n    useEffect(() => {\n        if(step !== 3) return;\n        if(!productToAdd.sizes || !productToAdd.colors) return;\n        let arr = [];\n        productToAdd.sizes.map(size => productToAdd.colors.map(color => (\n            arr.push({size: size.size, color: color.name, total: 0})\n        )))\n        setPatterns(arr)\n        setIsOn(false)\n        setIsSale(false)\n        setPriceStandard(0)\n        setPriceSale(0)\n    }, [step, productToAdd, setPatterns, setIsOn, setIsSale, setPriceStandard, setPriceSale])\n\n\n    return (\n        <ThirdStepContainer $active={step === 3} $step={step}>\n            <FlowContent $active>\n                <FlowNode>\n                    Step\n                    <p>03</p>\n                </FlowNode>\n                <FlowText $fixed>\n                    存貨數量及商品價格\n                </FlowText>\n            </FlowContent>\n            {patterns.length > 0 && (\n                <form id=\"addThird\" onSubmit={handleFormSubmit}>\n                    <ThirdStepInputs {...{step, patterns, isOn, isSale, priceStandard, priceSale, handleInputChange}} />\n                    <BtnContainer>\n                        <TextBtn type=\"button\" name=\"back\" onClick={handleSetStep} $active={step === 3} disabled={step !== 3}>上一步</TextBtn>\n                        <TextBtn type=\"submit\" $active={step === 3} disabled={step !== 3}>略過並儲存</TextBtn>\n                        <TextBtn onClick={saveProduct} type=\"submit\" $active={step === 3} disabled={step !== 3}>送出</TextBtn>\n                    </BtnContainer>\n                </form>\n            )}\n        </ThirdStepContainer>\n    )\n}\n\nexport default function AddProduct () {\n\n    const history = useHistory()\n\n    const [step, setStep] = useState(1)\n    const [productToAdd, setProductToAdd] = useState('')\n\n    useEffect(() => {\n        const unblock = history.block(() => {\n            return window.confirm(\"目前的資料尚未被儲存, 是否要離開?\");\n        });\n    \n        return () => {\n            unblock();\n        };\n    })\n\n    return (\n        <MainContainer>\n            <LeftContainer>\n                <FirstStep {...{step, setStep, productToAdd, setProductToAdd}} />\n            </LeftContainer>\n            <RightContainer>\n                <SecondStep {...{step, setStep, productToAdd, setProductToAdd}} />\n                <ThirdStep {...{step, setStep, productToAdd, setProductToAdd}} />\n            </RightContainer>\n        </MainContainer>\n    )\n}","import { useRef } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\nimport styled from \"styled-components\"\n\nimport { sizeMap } from \"../../../constants/mapping\"\nimport { fontTheme, H4, P, TextBtn } from \"../../../constants/style\"\n\nimport useAdminProduct from \"../../../hooks/useAdminProduct\"\nimport useProduct from \"../../../hooks/useProduct\"\n\nimport { deleteProductAPI } from \"../../../webAPI/productAPI\"\n\nimport { FirstStepInputs, SecondStepInputs } from \"./AddProduct\"\n\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    & table {\n        width: 100%;\n        border: 1px solid ${props => props.theme.color.lightGrey};\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid ${props => props.theme.color.lightGrey};\n            border-bottom: 1px solid ${props => props.theme.color.lightGrey};\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst BtnContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    padding: 20px 10px 10px;\n    & > button {\n        margin: 0px 5px;\n    }\n`\n\nconst PopupContent = styled.div`\n    & h4 {\n        padding: 10px;\n        text-align: center;\n    }\n    & > div {\n        padding: 10px;\n        text-align: center;\n        & button {\n            margin: 5px;\n        }\n    }\n`\n\nexport const SizePopup = () => {\n\n    const product = useSelector(state => state.product.product)\n    const group = product ? product.product.Category.group : null;\n\n    return (\n        <TableContainer>\n            {product && group.slice(0, -1) === 'Size_general' ? (\n                <P>單一尺寸 One Size</P>\n            ) : (\n                <table>\n                    <thead>\n                        <tr>\n                            <th></th>\n                            {product ? (\n                                Object.keys(sizeMap[group.slice(0, -1)]).map((element, index) => {\n                                    const measure = element\n                                    .split('_')\n                                    .map(word => word[0].toUpperCase() + word.slice(1))\n                                    .join(' ')\n                                    return (\n                                        <th key={index}>\n                                            {measure}\n                                            <p>{sizeMap[group.slice(0, -1)][element]}</p>\n                                        </th>\n                                    )\n                            })) : null}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {product ? product.product[group].map(i => (\n                            <tr key={i.id}>\n                                <td>{i.size}</td>\n                                {Object.keys(sizeMap[group.slice(0, -1)]).map((j, index) => (\n                                    <td key={index}>\n                                        {i[j] ? `${i[j]}cm` : '-'}\n                                    </td>\n                                ))}\n                            </tr>\n                        )) : null}\n                    </tbody>\n                </table>\n            )}\n        </TableContainer>\n    )\n}\n\nexport const ColorPopup = () => {\n\n    const product = useSelector(state => state.product.product)\n\n    return (\n        <TableContainer>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Color Name</th>\n                        <th>HEX Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {product ? product.product.Colors.map((color, i) => (\n                        <tr key={i}>\n                            <td>{color.name}</td>\n                            <td>{color.code}</td>\n                        </tr>\n                    )) : null}\n                </tbody>\n            </table>\n        </TableContainer>\n    )\n}\n\nexport const EditPopup = () => {\n\n    const product = useSelector(state => state.product.product)\n\n    const top = useRef()\n\n    const {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n        sizes, \n        colors, \n        handleInputChange, \n        handleAddPattern, \n        handleDeletePattern, \n        handleFormSubmit\n    } = useAdminProduct({top})\n\n\n    return (\n        <TableContainer ref={top}>\n            {product && product.product.Category.name === category && (\n                <form id=\"edit\" onSubmit={handleFormSubmit}>\n                    <FirstStepInputs \n                        step={0} \n                        name={name}\n                        gender={gender}\n                        category={category}\n                        desc={desc}\n                        material={material}\n                        washing={washing}\n                        images={images}\n                        handleInputChange={handleInputChange}\n                    />\n                    <SecondStepInputs \n                        step={0}\n                        sizes={sizes}\n                        colors={colors}\n                        handleInputChange={handleInputChange}\n                        handleAddPattern={handleAddPattern}\n                        handleDeletePattern={handleDeletePattern}\n                        group={product?.product.Category.group.slice(0, -1)}\n                        sizesLength={product.product[product.product.Category.group].length}\n                        colorsLength={product.product.Colors.length}\n                    />\n                    <BtnContainer>\n                        <TextBtn type=\"submit\" $active>送出</TextBtn>\n                    </BtnContainer>\n                </form>\n            )}\n        </TableContainer>\n    )\n}\n\nexport const DeletePopup = () => {\n\n    const history = useHistory()\n\n    const product = useSelector(state => state.product.product)\n\n    const { handleClosePopup } = useProduct()\n\n    const handleDeleteProduct = () => {\n        deleteProductAPI(product.product.id)\n        .then(() => history.go())\n    }\n  \n    return (\n        <PopupContent>\n            <H4>是否要刪除此商品？</H4>\n            <div>\n                <TextBtn onClick={handleClosePopup} $active>返回</TextBtn>\n                <Link to=\"#\" onClick={handleDeleteProduct}>\n                    <TextBtn $active>刪除</TextBtn>\n                </Link>\n            </div>\n        </PopupContent>\n    )\n}","import styled from \"styled-components\"\nimport { useSelector } from \"react-redux\";\n\nimport { Btn, H3 } from \"../constants/style\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport useProduct from \"../hooks/useProduct\";\n\nimport { CartPopup } from \"../pages/ProductPage/CartPopup\";\nimport { LoginPopup } from \"./LoginPopup\"\nimport { SizePopup, ColorPopup, EditPopup, DeletePopup } from \"../pages/AdminPages/AdminProductPage/InfoPopup\";\n\n\nconst PopupCover = styled.div`\n    opacity: ${props => props.$isOpened ? '1' : '0'};\n    visibility: ${props => props.$isOpened ? 'visible' : 'hidden'};\n    transition: .2s;\n\n    background-color: rgba(0,0,0,0.5);\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 11;\n`\n\nconst PopupWrapper = styled.div`\n    width: 90%;\n    height: 100%;\n    margin: auto;\n    position: relative;\n    & > label {\n        background-color: transparent;\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n    }\n`\n\nconst PopupContainer = styled.div`\n    transform: ${props => props.$isOpened ? 'translateY(0%)' : 'translateY(-50%)'};\n    opacity: ${props => props.$isOpened ? '1' : '0'};\n    transition: .2s;\n    width: 100%;\n    max-width: ${props => props.$type === 'edit' ? '768px' : '512px'};\n    max-height: calc(100vh - 80px);\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 40px auto;\n    background-color: ${props => props.theme.color.white};\n    border: 1px solid ${props => props.theme.color.lightGrey};\n    & > div {\n        padding: 10px;\n    }\n`\n\nconst PopupHeader = styled.div`\n    border-bottom: 1px solid ${props => props.theme.color.lightGrey};\n    position: relative;\n    & > button {\n        & svg {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            right: 10px;\n        }\n    }\n    ${props => props.$cart && 'display: flex;'}\n`\n\nconst PopupTitle = styled(H3)`\n    & > svg {\n        color: ${props => props.theme.color.success};\n        margin-right: 5px;\n    }\n`\n\nconst PopupContent = styled.div`\n    max-height: calc(100vh - 145px);\n    overflow: auto;\n`\n\n\nexport const Popup = ({type}) => {\n\n    const isOpened = useSelector(state => state.general.isOpened)\n    \n    const {\n        handleClosePopup\n    } = useProduct()\n  \n    return (\n        <PopupCover $isOpened={isOpened}>\n            <PopupWrapper>\n                <label onClick={handleClosePopup(type)} />\n                <PopupContainer $isOpened={isOpened} $type={type}>\n                    <PopupHeader $cart={type === 'cart'}>\n                        {type === 'cart' && (\n                            <PopupTitle>\n                                <FontAwesomeIcon icon={faCheck} />\n                                已成功加入至購物車\n                            </PopupTitle>\n                        )}\n                        <Btn onClick={handleClosePopup(type)}>\n                            <FontAwesomeIcon icon={faTimes} />\n                        </Btn>\n                    </PopupHeader>\n                    <PopupContent>\n                        {type === 'login' && (\n                            <LoginPopup />\n                        )}\n                        {type === 'cart' && (\n                            <CartPopup />\n                        )}\n                        {type === 'size' && (\n                            <SizePopup />\n                        )}\n                        {type === 'color' && (\n                            <ColorPopup />\n                        )}\n                        {type === 'edit' && (\n                            <EditPopup />\n                        )}\n                        {type === 'delete' && (\n                            <DeletePopup />\n                        )}\n                    </PopupContent>\n                </PopupContainer>\n            </PopupWrapper>\n        </PopupCover>\n    )\n}","import { useEffect, createContext } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { H2, PageWrapper, PageContainer } from \"../../constants/style\"\nimport { crumbMap } from \"../../constants/mapping\";\n\nimport { Feed } from \"../../components/Feed\";\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { Aside } from \"../../components/Aside\"\n\nimport { Sort } from \"./Sort\"\nimport { ProductList } from \"./ProductList\";\nimport { Popup } from \"../../components/Popup\";\n\n\n\nconst MainContainer = styled.main`\n  width: 80%;\n  flex-grow: 1;\n  & h2 {\n    padding: 0 10px;\n  }\n`\n\n\nexport const LocationContext = createContext();\n\nexport default function ListPage() {\n\n  const { pathname, search } = useLocation();\n  const pathArr = pathname.split('/')\n  const currentPath = pathArr[pathArr.length-1]\n  const currentTitle = crumbMap[pathArr.length-2] ? crumbMap[pathArr.length-2][currentPath] : 0\n\n  const history = useHistory()\n    \n  useEffect(() => {\n    if(!currentTitle){\n      const previousPath = pathArr.slice(0, pathArr.length-1).join('/')\n      history.push(previousPath)\n    }\n  }, [history, pathArr, currentTitle])\n\n  return (\n    <LocationContext.Provider value={{pathname, search}} >\n      <>\n        {currentTitle && (\n          <CrumbNav pathArr={pathArr}/>\n        )}\n        <PageWrapper>\n          <PageContainer>\n            <Aside filter />\n            <MainContainer>\n              <H2>{currentTitle}</H2>\n              <Sort />\n              <ProductList />\n            </MainContainer>\n          </PageContainer>\n        </PageWrapper>\n        {process.env.NODE_ENV === 'production' && (\n          <Feed />\n        )}\n        <Popup type=\"login\" />\n      </>\n    </LocationContext.Provider>\n  );\n}","import { useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport { Img } from \"../../components/Img\"\nimport { MEDIA_QUERY } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\"\n\nconst ImageContainer = styled.div`\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst ImageMain = styled.div`\n  aspect-ratio: 1;\n  border: 1px solid #aaa;\n  margin-bottom: 5px;\n  overflow: hidden;\n  position: relative;\n  @media (min-width: 512px) {\n    &:hover {\n      cursor: crosshair;\n      & > img:last-child {\n        opacity: 0;\n      }\n    }\n  }\n  & > img:first-child {\n    z-index: -1;\n    transform: scale(2);\n    transform-origin: top left;\n    position: absolute;\n    top: -50%;\n    left: -50%;\n  }\n  background-color: ${props => props.$isLoading && '#f00'};\n`\n\nconst ImageCarousel = styled.div`\n  padding: 5px;\n  display: flex;\n  & > div {\n    position: relative;\n    aspect-ratio: 1;\n    width: calc(100%/3);\n    border: 1px solid #aaa;\n    margin: 5px;\n    &:nth-child(n+5) {\n      display: none;\n    }\n  }\n  ${MEDIA_QUERY.l} {\n    & > div:nth-child(4) {\n      display: none;\n    }\n  }\n  ${MEDIA_QUERY.m} {\n    & > div:nth-child(4) {\n      display: block;\n    }\n  }\n  ${MEDIA_QUERY.s} {\n    & > div:nth-child(4) {\n      display: none;\n    }\n  }\n`\n\n\nexport const Image = ({images}) => {\n\n  const {\n    handleMouseMove,\n    handleImgClick,\n    mainImg,\n    setMainImg,\n    scaledImg\n  } = useProduct()\n\n  useEffect(() => {\n    const img = images.find(img => img.is_main === true)\n    setMainImg({src: img.src, alt: img.alt})\n  }, [images, setMainImg])\n\n  return (\n    <ImageContainer>\n      <ImageMain onMouseMove={handleMouseMove}>\n        <img src={mainImg.src} alt={mainImg.alt} ref={scaledImg} />\n        <Img image={mainImg}/>\n      </ImageMain>\n      <ImageCarousel onClick={handleImgClick}>\n        {images.slice(0, 4).map(image => (\n          <div key={image.id}>\n            <Img image={image} />\n          </div>\n        ))}\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1631410744690-3cc75aaea4df?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzJ8fG9uZSUyMHBpZWNlJTIwZHJlc3N8ZW58MHwyfDJ8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"02\"}} />\n        </div>\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1601460588655-109bd38204db?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nzd8fGRyZXNzJTIwb25lJTIwcGllY2V8ZW58MHwyfDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"03\"}} />\n        </div>\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1623052760790-9605a8579730?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDV8fHNoaXJ0c3xlbnwwfDJ8Mnx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"04\"}} />\n        </div>\n      </ImageCarousel>\n    </ImageContainer>\n  )\n}","import styled from \"styled-components\"\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\nimport useProduct from \"../hooks/useProduct\";\nimport { setCartQty } from \"../features/product/productSlice\";\n\nconst Qty = styled.div`\n    width: 60px;\n    height: 40px;\n    position: relative;\n    & > input {\n        width: 100%;\n        box-sizing: border-box;\n        padding-left: 5px;\n        height: 100%;\n        outline: 0;\n        border: 1px solid #aaa;\n    }\n    & > div {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 20px;\n        & > button {\n            box-sizing: content-box;\n            height: 18.5px;\n            border: 1px solid #aaa;\n            transition: .25s;\n            background-color: ${props => props.theme.color.white};\n            & + button {\n                margin-top: -1px;\n            }\n            & svg {\n                display: block;\n                margin: auto;\n                color: ${props => props.theme.color.grey};\n                font-size: ${props => props.theme.fontSize.bodySmall};\n            }\n            &:hover {\n                background-color: #eee;\n            }\n        }\n    }\n`\n\nexport const QtySelector = ({qty, handleQtyChange, handleBtnClick}) => {\n\n    return (\n        <Qty>\n            <input\n                type=\"number\"\n                value={qty}\n                min={1}\n                onChange={handleQtyChange}\n            />\n            <div>\n                <button onClick={() => handleBtnClick('inc')}>\n                    <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 180 }}/>\n                </button>\n                <button onClick={() => handleBtnClick('dec')}>\n                    <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 0 }}/>\n                </button>\n            </div>\n        </Qty>\n    )\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown, faShoppingCart, faHeart } from '@fortawesome/free-solid-svg-icons'\n\nimport { H3, H4, P, Span, TextBtn } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\";\n\nimport { useSelector } from \"react-redux\";\nimport { QtySelector } from \"../../components/QtySelector\";\n\n\nconst ContentContainer = styled.div`\n  & > div {\n    padding-bottom: 20px;\n  }\n`\n\nconst TitleContainer = styled.div`\n  & p {\n    font-weight: ${props => props.theme.fontWeight.m};\n    line-height: 1.75em;\n    padding: 10px 0;\n  }\n  & h3 {\n    padding: 10px 0;\n    border-bottom: 1px solid #aaa;\n  }\n`\n\nconst SpecContainer = styled.div`\n  & > div {\n    padding: 5px 0;\n  }\n  & h4 {\n    padding: 5px 0;\n  }\n`\n\nconst ColorSelector = styled.div`\n  & ul {\n    display: flex;\n    & li {\n      z-index: 1;\n      & + li {\n        margin-left: 5px;\n      }\n    }\n  }\n`\n\nconst Msg = styled(Span)`\n  color: ${props => props.theme.color.alert};\n`\n\nconst SizeSelector = styled.div`\n  & > div {\n    position: relative;\n    width: 60px;\n    height: 33px;\n    & > div {\n      display: flex;\n      height: 100%;\n      box-sizing: border-box;\n      border: 1px solid #aaa;\n      & span {\n        width: 50%;\n        padding-left: 5px;\n        margin: auto 0;\n        font-size: ${props => props.theme.fontSize.body};\n      }\n    }\n    & svg {\n      display: block;\n      margin: auto;\n      color: ${props => props.theme.color.grey};\n      font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n    & select {\n      position: absolute;\n      top: 0;\n      opacity: 0;\n      padding: 5px;\n      outline: 0;\n      border-color: ${props => props.theme.color.lightGrey};\n      width: 60px;\n    }\n  }\n`\n\nconst ColorLabel = styled.label`\n  & input {\n    display: none;\n    &:checked + span {\n      border: ${props => (parseInt(props.$color.slice(1), 16) <= parseInt('777777', 16)) ? 'medium double #eee' : 'thin solid #333'};\n    }\n  }\n  & span {\n    background-color: ${props => props.$color};\n    position: relative;\n    overflow: hidden;\n    ${props => props.$isNull && 'cursor: not-allowed;'}\n    &:before {\n      content: '';\n      width: 40px;\n      position: absolute;\n      transform: rotate(45deg);\n      transform-origin: top left;\n      top: 0;\n      left: 0;\n      background-color: #aaaa;\n      height: 2px;\n      display: ${props => props.$isNull ? 'block' : 'none'};\n    }\n    &:after {\n      content: '';\n      width: 40px;\n      position: absolute;\n      transform: rotate(-45deg);\n      transform-origin: top right;\n      top: 0;\n      right: 0;\n      background-color: #aaaa;\n      height: 2px;\n      display: ${props => props.$isNull ? 'block' : 'none'};\n    }\n  }\n`\n\nconst ColorSpan = styled.span`\n  display: block;\n  box-sizing: border-box;\n  border: 1px solid #aaa8;\n  width: 30px;\n  height: 30px;\n`\n\nconst PriceIsSale = styled.div`\n  & h4 {\n    display: inline-block;\n    // font-weight: ${props => props.theme.fontWeight.m};\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n      font-size: ${props => props.theme.fontSize.h3};\n    }\n    & + h4 {\n      padding-left: 10px;\n    }\n  }\n`\n\nconst QtyAndAdd = styled.div`\n  display: flex;\n`\n\nconst AddBtn = styled(TextBtn)`\n  margin-left: 10px;\n  padding: 10px 15px;\n\n  & svg {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    color: ${props => props.theme.color.white};\n    margin-right: 5px;\n  }\n`\n\nconst WishList = styled(P)`\n\n  & svg {\n    color: ${props => props.theme.color.grey};\n    font-size: ${props => props.theme.fontSize.body};\n    margin-right: 3px;\n  }\n  & a > span {\n    color: ${props => props.theme.color.grey};\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n  & > span {\n    margin-left: 10px;\n  }\n`\n\n\nconst ColorSelect = ({name, code, total, color, handleColorChange}) => {\n\n    const isNull = !total ? true : false\n\n    return (\n      <ColorLabel $color={code} $isNull={isNull}>\n        <input \n          type=\"radio\" \n          name=\"color\" \n          value={name} \n          onChange={handleColorChange(isNull)} \n          checked={(color === name) && !isNull}\n        />\n        <ColorSpan />\n      </ColorLabel>\n    )\n  }\n\n\nexport const Content = ({product, group}) => {\n\n  const spec = useSelector(state => state.product.spec)\n  \n  const isOpened = useSelector(state => state.general.isOpened)\n  const errorMessage = useSelector(state => state.general.errorMessage)\n\n  const {\n    addCommaToPrice,\n    handleBtnClick,\n    handleSizeChange,\n    handleQtyChange,\n    handleColorChange,\n    handleAddToCart,\n    handleAddToWishList\n  } = useProduct(spec, product, group, isOpened)\n\n\n  return (\n    <ContentContainer>\n      <TitleContainer>\n        <H3>{product.product.name}</H3>\n        <P>{product.product.desc}</P>\n      </TitleContainer>\n      <SpecContainer>\n        <SizeSelector>\n          <H4>尺寸</H4>\n          <div>\n            <div>\n              <span>{spec.size}</span>\n              <span>\n                <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 0 }}/>\n              </span>\n            </div>\n            {spec.size && (\n              <select value={spec.size} onChange={handleSizeChange}>\n                {product.product[`${group}s`].map(size => (\n                  <option key={size.id} value={size.size}>{size.size}</option>\n                ))}\n              </select>\n            )}\n          </div>\n        </SizeSelector>\n        <ColorSelector>\n          <H4>顏色</H4>\n          <ul>\n            {product.patterns\n            .filter(pattern => pattern[group].size === spec.size)\n            .map((pattern, index) => (\n              <li key={index}>\n                <ColorSelect\n                  name={pattern.Color.name}\n                  code={pattern.Color.code}\n                  total={pattern.total}\n                  color={spec.color}\n                  handleColorChange={handleColorChange}\n                />\n              </li>\n            ))}\n          </ul>\n          {spec.size && spec.color && (\n            product.patterns.find(pattern => (\n              (pattern[group].size === spec.size) && (pattern.Color.name === spec.color))\n            ).total <= 10 && (\n              <Msg>庫存數量少</Msg>\n            )\n          )}\n        </ColorSelector>\n        {(product.product.is_sale ? (\n          <PriceIsSale>\n            <H4>NT ${addCommaToPrice(product.product.price_standard)}</H4>\n            <H4>NT ${addCommaToPrice(product.product.price_sale)}</H4>\n          </PriceIsSale>\n        ) : (\n          <div>\n            <H4>NT ${addCommaToPrice(product.product.price_standard)}</H4>\n          </div>\n        ))}\n        {errorMessage && (<Msg>{errorMessage}</Msg>)}\n        <QtyAndAdd>\n          <QtySelector\n            qty={spec.qty}\n            handleQtyChange={handleQtyChange}\n            handleBtnClick={handleBtnClick}\n          />\n          <AddBtn onClick={handleAddToCart} $active>\n            <FontAwesomeIcon icon={faShoppingCart} />\n            加入購物車\n          </AddBtn>\n        </QtyAndAdd>\n        <WishList>\n          <Link to=\"#\" onClick={handleAddToWishList}>\n            <FontAwesomeIcon icon={faHeart} />\n            <Span>加入願望清單</Span>\n          </Link>\n        </WishList>\n      </SpecContainer>\n    </ContentContainer>\n  )\n}","import styled from \"styled-components\"\nimport { sizeMap } from \"../../constants/mapping\";\nimport { MEDIA_QUERY, H4, P, TextBtn } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\";\n\n\nconst DetailContainer = styled.div`\n  padding: 10px;\n  ${MEDIA_QUERY.m} {\n    width: 90%;\n    margin: 0 auto;\n  }\n`\nconst DetailTag = styled.div`\n  text-align: center;\n  padding: 10px 0 20px;\n`\nconst TagBtn = styled(TextBtn)`\n  margin: 5px;\n  font-size: ${props => props.theme.fontSize.bodyLarge};\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    border-color: ${props => props.theme.color.black};\n    &::before {\n      opacity: 1;\n    }\n  }\n  position: relative;\n  &::before {\n    opacity: ${props => props.$checked ? 1 : 0};\n    transition: .4s;\n    content: '';\n    width: 0;\n    height: 0;\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    bottom: -8px;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-top: 8px solid ${props => props.theme.color.black};\n  }\n  position: relative;\n  & label {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    cursor: pointer;\n  }\n`\n\nconst DetailContent = styled.div`\n  border: 1px solid #aaa;\n  padding: 20px;\n  & > input {\n    display: none;\n    &:checked + div {\n      opacity: 1;\n      position: relative;\n      top: 0px;\n      transition: opacity .5s;\n    }\n  }\n  position: relative;\n  & > div {\n    z-index: -1;\n    opacity: 0;\n    position: absolute;\n    top: -200px;\n    margin: 10px;\n  }\n  ${MEDIA_QUERY.s} {\n    padding: 0;\n  }\n`\n\nconst InfoContainer = styled.div`\n  & h4 {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.xl};\n    padding: 5px 0 10px;\n  }\n  & p {\n    color: ${props => props.theme.color.grey};\n    padding-bottom: 10px;\n  }\n`\nconst SizeContainer = styled.div`\n  overflow: auto;\n  & table {\n    border-collapse: collapse;\n  }\n  & th, td {\n    border: 1px solid #aaa;\n    width: 150px;\n    text-align: center;\n    padding: 5px 0;\n    & span {\n      display: block;\n    }\n  }\n  & th, td, span {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n    color: ${props => props.theme.color.black};\n    line-height: 1.5em;\n  }\n`\n\n\nexport const Detail = ({product, group}) => {\n\n    const { \n      isChecked,\n      handleCheckedChange\n    } = useProduct()\n  \n    return (\n        <DetailContainer>\n          <DetailTag>\n            <TagBtn $white={!isChecked} $active>\n              <label htmlFor=\"detail_info\" />\n              商品詳情\n            </TagBtn>\n            <TagBtn $white={isChecked} $active>\n              <label htmlFor=\"detail_size\" />\n              尺寸資訊\n            </TagBtn>\n          </DetailTag>\n          <DetailContent>\n            <input type=\"radio\" name=\"detail\" id=\"detail_info\" checked={isChecked} onChange={handleCheckedChange} />\n            {product && (\n              <InfoContainer>\n                <H4>材質</H4>\n                <P>{product.product.material}</P>\n                <H4>清洗方式</H4>\n                <P>{product.product.washing}</P>\n              </InfoContainer>\n            )}\n            <input type=\"radio\" name=\"detail\" id=\"detail_size\" checked={!isChecked} onChange={handleCheckedChange} />\n            <SizeContainer>\n              {group && (group === 'Size_general' ? (\n                <P>單一尺寸 One Size</P>\n              ) : (\n                <table>\n                  <thead>\n                    <tr>\n                      <th></th>\n                      {Object.keys(sizeMap[group]).map((element, index) => {\n                        const measure = element\n                          .split('_')\n                          .map(word => word[0].toUpperCase() + word.slice(1))\n                          .join(' ')\n                        return (\n                          <th key={index}>\n                            <span>{measure}</span>\n                            <span>{sizeMap[group][element]}</span>\n                          </th>\n                        )\n                      })}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {product.product[`${group}s`].map(i => (\n                      <tr key={i.id}>\n                        <td>{i.size}</td>\n                        {Object.keys(sizeMap[group]).map((j, index) => (\n                          <td key={index}>\n                            {i[j] ? `${i[j]}cm` : '-'}\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ))}\n            </SizeContainer>\n          </DetailContent>\n        </DetailContainer>\n    )\n}","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport styled from \"styled-components\"\n\nimport { MEDIA_QUERY, PageWrapper, PageContainer, H4, fontTheme } from \"../../constants/style\"\n\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { Aside } from \"../../components/Aside\";\nimport { Popup } from \"../../components/Popup\";\nimport { Feed } from \"../../components/Feed\";\n\nimport { getProduct, setProduct } from \"../../features/product/productSlice\";\n\nimport { Image } from \"./Image\";\nimport { Content } from \"./Content\";\nimport { Detail } from \"./Detail\";\n\nconst Msg = styled(H4)`\n  margin: 0 auto;\n  padding: 20px;\n`\n\nconst MainContainer = styled.main`\n  width: 80%;\n  flex-grow: 1;\n  position: relative;\n`\n\nconst ItemContainer = styled.div`\n  display: flex;\n  & > div {\n    width: 50%;\n    padding: 10px;\n  }\n  ${MEDIA_QUERY.m} {\n    display: block;\n    & > div {\n      width: 90%;\n      margin: 0 auto;\n    }\n  }\n`\n\nconst OffMessage = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: ${props => props.theme.color.white}a;\n  z-index: 1;\n  & > div {\n    position: absolute;\n    top: 20%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 20px 40px;\n    border-radius: .25em;\n    background-color: ${props => props.theme.color.lightGrey}c;\n    color: ${props => props.theme.color.black};\n    white-space: nowrap;\n    ${MEDIA_QUERY.s} {\n      ${fontTheme.p}\n      padding: 10px 20px;\n      top: 10%;\n    }\n    ${fontTheme.h4}\n  }\n`\n\n\nconst BreadCrumb = ({product}) => {\n  const [path, setPath] = useState(['', 'collection'])\n  useEffect(() => {\n    if(!product) return\n    const gender = product.gender === 'M' ? 'men' : 'women';\n    const category = product.Category.name;\n    setPath(['', 'collection', gender, category])\n    // return () => {\n    //   setPath(['', 'collection'])\n    // }\n  }, [product])\n  return (\n    <CrumbNav pathArr={path} name={product?.name} />   \n  )\n}\n\nexport default function ProductPage () {\n\n    const { id } = useParams()\n\n    const product = useSelector(state => state.product.product)\n    const error = useSelector(state => state.product.error)\n    const popupCode = useSelector(state => state.general.popupCode)\n    const dispatch = useDispatch()\n\n    const group = product?.product?.Category?.group.slice(0, -1)\n\n    useEffect(() => {\n      dispatch(getProduct(id))\n      return () => {\n        dispatch(setProduct(''))\n      }\n    }, [id, dispatch])\n\n    return (\n        <>\n          <BreadCrumb product={product?.product}/>\n          <PageWrapper>\n            <PageContainer>\n              <Aside />\n              {!product && (\n                error ? (\n                  <Msg>{error}</Msg>\n                ) : (\n                  <Msg>商品載入中...</Msg>\n                )\n              )}\n              {product && !error && (\n                <MainContainer>\n                  <ItemContainer>\n                    <Image images={product.product.Images} />\n                    <Content product={product} group={group} />\n                  </ItemContainer>\n                  <Detail product={product} group={group} />\n                  {!product.product.is_on && (\n                    <OffMessage>\n                      <div>此商品目前未上架!</div>\n                    </OffMessage>\n                  )}\n                </MainContainer>\n              )}\n            </PageContainer>\n          </PageWrapper>\n          {process.env.NODE_ENV === 'production' && (\n            <Feed />\n          )}\n          {popupCode !== 'cart' && (\n            <Popup type=\"login\" />\n          )}\n          {product && popupCode !== 'login' && (\n            <Popup type=\"cart\" />\n          )}\n        </>\n    )\n}","import styled from \"styled-components\"\nimport { fontTheme, MEDIA_QUERY } from \"../constants/style\"\n\n\nconst FlowMobile = styled.li`\n    margin: 1px 0;\n    padding: 10px;\n    border-left: 3px solid ${props => props.$active ? props.theme.color.black : props.theme.color.lightGrey};\n    color: ${props => props.$active && props.theme.color.black};\n`\n\nconst FlowContainer = styled.div`\n    & ol {\n        &:nth-child(1) {\n            display: flex;\n            justify-content: center;\n            ${MEDIA_QUERY.m} {\n                display: none;\n            }\n        }\n        &:nth-child(2) {\n            display: none;\n            ${fontTheme.p}\n            color: ${props => props.theme.color.lightGrey};\n            padding: 10px 0;\n            ${MEDIA_QUERY.m} {\n                display: block;\n            }\n        }\n    }\n`\n\nconst FlowNode = styled.div`\n    ${fontTheme.p};\n    margin: 10px;\n    background-color: ${props => props.theme.color.lightGrey};\n    color: ${props => props.theme.color.white};\n    min-width: 80px;\n    min-height: 80px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    & > p {\n        ${fontTheme.h3}\n    }\n`\n\nconst FlowText = styled.div`\n    ${fontTheme.p}\n    padding-right: 10px;\n    color: ${props => props.theme.color.lightGrey};\n    min-width: ${props => props.$fixed && '108px'};\n    & > p {\n        ${fontTheme.h4}\n    }\n`\n\nconst FlowContent = styled.li`\n    display: flex;\n    align-items: center;\n    padding: 10px 20px;\n    position: relative;\n    & + li::before {\n        content: '>';\n        position: absolute;\n        left: -10px;\n        ${fontTheme.h3}\n        color: ${props => props.theme.color.lightGrey};\n    }\n    ${FlowNode} {\n        background-color: ${props => props.$active && props.theme.color.black};\n    }\n    ${FlowText} {\n        color: ${props => props.$active && props.theme.color.black};\n    }\n`\n\nexport const CheckoutFlow = ({step}) => {\n    return (\n        <FlowContainer>\n            <ol>\n                <FlowContent $active={step === 1}>\n                    <FlowNode>\n                        Step\n                        <p>01</p>\n                    </FlowNode>\n                    <FlowText $fixed>\n                        Check Order\n                        <p>確認購買清單</p>\n                    </FlowText>\n                </FlowContent>\n                <FlowContent $active={step === 2}>\n                    <FlowNode>\n                        Step\n                        <p>02</p>\n                    </FlowNode>\n                    <FlowText $fixed>\n                        Write the Add\n                        <p>填寫付款及運送資料</p>\n                    </FlowText>\n                </FlowContent>\n                <FlowContent $active={step === 3}>\n                    <FlowNode>\n                        Step\n                        <p>03</p>\n                    </FlowNode>\n                    <FlowText>\n                        Completed\n                        <p>完成訂單</p>\n                    </FlowText>\n                </FlowContent>\n            </ol>\n            <ol>\n                <FlowMobile $active={step === 1}>\n                    STEP1. 確認購買訂單 Check Order\n                </FlowMobile>\n                <FlowMobile $active={step === 2}>\n                    STEP2. 填寫付款及運送資料 Write the Add\n                </FlowMobile>\n                <FlowMobile $active={step === 3}>\n                    STEP3. 完成訂單 Completed\n                </FlowMobile>\n            </ol>\n        </FlowContainer>\n    )\n}","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\n\nimport { Btn, fontTheme, MEDIA_QUERY } from \"../../constants/style\"\n\nimport { QtySelector } from \"../../components/QtySelector\"\nimport { Img } from \"../../components/Img\"\nimport useProduct from \"../../hooks/useProduct\"\nimport useCart from \"../../hooks/useCart\"\n\n\nconst NameNote = styled.div`\n    display: none;\n    ${MEDIA_QUERY.m} {\n        display: block;\n    }\n    padding: 10px 0;\n    & > p {\n        ${fontTheme.span}\n    }\n`\n\nconst Price = styled.p`\n    font-weight: ${props => props.theme.fontWeight.xl};\n    font-size: ${props => props.theme.fontSize.h4};\n    ${MEDIA_QUERY.s} {\n        font-size: ${props => props.theme.fontSize.bodyLarge};\n    }\n`\n\nconst SellingPrice = styled(Price)`\n    color: ${props => props.theme.color.alert};\n    & + div {\n        font-weight: ${props => props.theme.fontWeight.xl};\n        color: ${props => props.theme.color.lightGrey};\n        line-height: 1.25em;\n        margin-top: 10px;\n    }\n`\n\nconst ErrorMsg = styled.span`\n    ${fontTheme.span}\n    color: ${props => props.theme.color.alert};\n    padding: 5px 0;\n    position: absolute;\n    ${MEDIA_QUERY.s} {\n        bottom: 0;\n        right: -100px;\n    }\n`\n\nconst MobileItem = styled.div`\n    padding: 10px 0;\n`\nconst ItemTitle = styled.div`\n    display: flex;\n    & > div {\n        width: 50%;\n        padding: 5px;\n        ${fontTheme.p}\n    }\n    ${MEDIA_QUERY.xs} {\n        display: block;\n        & > div {\n            width: 95%;\n            margin: 0 auto;\n        }\n    }\n`\n\nconst TableContainer = styled.div`\n    & table {\n        width: 100%;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.p}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst ItemContent = styled(TableContainer)`\n    overflow: auto;\n    & table {\n        border: none;\n        border-bottom: 1px solid #aaa;\n        & th, td {\n            border: none;\n            ${fontTheme.span}\n            position: relative;\n            &:last-child {\n                width: 10%;\n            }\n        }\n        & svg {\n            font-size: ${props => props.theme.fontSize.h3};\n        }\n    }\n`\nconst ItemImage = styled.div`\n    position: relative;\n    & img {\n        width: 100%;\n        aspect-ratio: 1;\n    }\n`\nconst ItemName = styled.div`\n`\n\n\nexport const CartItem = ({item, index}) => {\n\n    const url = `/product/${item.id}`\n\n    const subtotal = (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    const {\n        addCommaToPrice,\n    } = useProduct()\n\n    const {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick\n    } = useCart(item)\n\n    return (\n        <tr>\n            <td>\n                <Link to={url}>\n                    <Img image={{src: item.src, alt: item.alt}} />\n                </Link>\n            </td>\n            <td>\n                {item.name}\n                <NameNote>\n                    <p>尺寸 : {item.size}</p>\n                    <p>顏色 : {item.color}</p>\n                </NameNote>\n            </td>\n            <td>\n                <p>尺寸 : {item.size}</p>\n                <p>顏色 : {item.color}</p>\n            </td>\n            <td>\n                {item.is_sale ? (\n                    <>\n                        <SellingPrice>\n                            ${addCommaToPrice(item.price_sale)}\n                        </SellingPrice>\n                        <div>\n                            原價\n                            <p>${addCommaToPrice(item.price_standard)}</p>\n                        </div>\n                    </>\n                ) : (\n                    <Price>\n                        ${addCommaToPrice(item.price_standard)}\n                    </Price>\n                )}\n            </td>\n            <td>\n                <QtySelector \n                    qty={item.qty}\n                    handleQtyChange={handleQtyChange}\n                    handleBtnClick={handleBtnClick}\n                />\n                {errorMessage && (\n                    <ErrorMsg>{errorMessage[index]}</ErrorMsg>\n                )}\n            </td>\n            <td>\n                <Price>\n                    ${addCommaToPrice(subtotal)}\n                </Price>\n            </td>\n            <td>\n                <Btn onClick={handleDeleteCart(index)}>\n                    <FontAwesomeIcon icon={faTrashAlt}/>\n                </Btn>\n            </td>\n        </tr>\n    )\n}\n\n\nexport const MobileCartItem = ({item, index}) => {\n\n    const url = `/product/${item.id}`\n\n    const subtotal = (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    const {\n        addCommaToPrice\n    } = useProduct()\n\n    const {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick\n    } = useCart(item)\n\n    return (\n        <li>\n            <MobileItem>\n                <ItemTitle>\n                    <ItemImage>\n                        <Link to={url}>\n                            <Img image={{src: item.src, alt: item.alt}} />\n                        </Link>\n                    </ItemImage>\n                    <ItemName>\n                        {item.name}\n                        <NameNote>\n                            <p>尺寸 : {item.size}</p>\n                            <p>顏色 : {item.color}</p>\n                        </NameNote>\n                    </ItemName>\n                </ItemTitle>\n                <ItemContent>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>售價</th>\n                                <th>數量</th>\n                                <th>小計</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>\n                                    {item.is_sale ? (\n                                        <>\n                                            <SellingPrice>\n                                                ${addCommaToPrice(item.price_sale)}\n                                            </SellingPrice>\n                                            <div>\n                                                原價\n                                                <p>${addCommaToPrice(item.price_standard)}</p>\n                                            </div>\n                                        </>\n                                    ) : (\n                                        <Price>\n                                            ${addCommaToPrice(item.price_standard)}\n                                        </Price>\n                                    )}\n                                </td>\n                                <td>\n                                    <QtySelector \n                                        qty={item.qty}\n                                        handleQtyChange={handleQtyChange}\n                                        handleBtnClick={handleBtnClick}\n                                    />\n                                    {errorMessage && (\n                                        <ErrorMsg>{errorMessage[index]}</ErrorMsg>\n                                    )}\n                                </td>\n                                <td>\n                                    <Price>\n                                        ${addCommaToPrice(subtotal)}\n                                    </Price>\n                                </td>\n                                <td>\n                                    <Btn onClick={handleDeleteCart(index)}>\n                                        <FontAwesomeIcon icon={faTrashAlt}/>\n                                    </Btn>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </ItemContent>\n            </MobileItem>\n        </li>       \n    )\n}","import styled, { css } from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport { useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { fontTheme, H2, MEDIA_QUERY, P, TextBtn, H4 } from \"../../constants/style\"\n\nimport useProduct from \"../../hooks/useProduct\"\nimport useCart from \"../../hooks/useCart\"\nimport { setErrorMessage } from \"../../features/cart/cartSlice\"\nimport { CheckoutFlow } from \"../../components/CheckoutFlow\"\nimport { CartItem, MobileCartItem } from \"./CartItem\"\n\n\nconst PageWrapper = styled.div``\n\nconst PageContainer = styled.div`\n    width: 90%;\n    ${MEDIA_QUERY.m} {\n        width: 95%;\n    }\n    margin: 0 auto;\n    //   display: flex;\n    //   align-items: flex-start;\n`\n\nconst TableContainer = styled.div`\n    & table {\n        width: 100%;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.p}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst CartContainer = styled(TableContainer)`\n    padding: 10px 0;\n    & table {\n        & th, td {\n            ${MEDIA_QUERY.m} {\n                &:nth-child(3) {\n                    display: none;\n                }\n            }\n            &:nth-last-child(2) {\n                width: 15%;\n            }\n        }\n        & td:first-child {\n            width: 10%;\n            position: relative;\n            & img {\n                width: 100%;\n                min-width: 80px;\n            }\n        }\n    }\n    ${MEDIA_QUERY.s} {\n        display: none;\n    }\n`\n\nconst ADDSTYLE = css`\n    display: inline-block;\n    margin-left: 10px;\n    ${MEDIA_QUERY.s} {\n        display: block;\n        width: fit-content;\n        margin: 20px 0 0 auto;\n    }\n`\n\nconst TotalContainer = styled.div`\n    margin-bottom: 20px;\n    padding: 10px 0;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    align-items: baseline;\n    ${fontTheme.h4}\n    ${MEDIA_QUERY.s} {\n        display: block;\n        text-align: right;\n    }\n    & > a {\n        color: ${props => props.theme.color.black};\n        display: block;\n        margin: 10px 0;\n        & svg {\n            margin-right: 4px;\n        }\n    }\n    & > div {\n        color: ${props => props.theme.color.black};\n        & span {\n            ${fontTheme.h3}\n        }\n        & a {\n            ${ADDSTYLE}\n        }\n    }\n`\n\n\n\nconst ToCartBtn = styled(TextBtn)`\n    vertical-align: bottom;\n    padding: 5px 20px;\n    ${fontTheme.h4}\n    ${props => !props.$active && ADDSTYLE}\n`\n\nconst MobileCartContainer = styled.div`\n    display: none;\n    padding: 10px 0;\n    ${MEDIA_QUERY.s} {\n        display: block;\n    }\n    & > p {\n        ${fontTheme.span}\n        border-bottom: 1px solid #aaa;\n    }\n`\n\n\nexport default function CartPage () {\n\n    const dispatch = useDispatch()\n    const cart = useSelector(state => state.cart.cart)\n    const error = useSelector(state => state.product.error)\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    useEffect(() => {\n        if(!cart || !cart.length) return\n        const arr = Array(cart.length).fill('').map((element, index) => {\n            if(cart[index].qty > cart[index].total){\n                element = '選擇的數量超過庫存數量!'\n            }\n            if(cart[index].qty === 0){\n                element = '選擇的數量不可為0!'\n            }\n            if(!cart[index].is_on){\n                element = '此商品已下架, 請從購物車移除!'\n            }\n            return element\n        })\n        dispatch(setErrorMessage(arr))\n    }, [dispatch, cart])\n\n    const {\n        addCommaToPrice\n    } = useProduct()\n\n    const {\n        getTotal,\n        hasError\n    } = useCart()\n\n    return (\n        <PageWrapper>\n            <PageContainer>\n                <H2>購物車</H2>\n                <CheckoutFlow step={1}/>\n                <CartContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th></th>\n                                <th>商品名稱</th>\n                                <th>尺寸 / 顏色</th>\n                                <th>售價</th>\n                                <th>數量</th>\n                                <th>小計</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        {cart && cart.every(item => item.name) && !error && cart.length > 0 && (\n                            <tbody>\n                                {cart.map((item, index) => (\n                                    <CartItem \n                                        key={index}\n                                        item={item} \n                                        index={index}\n                                    />\n                                ))}\n                            </tbody>\n                        )}\n                    </table>\n                    {cart && cart.every(item => item.name) && !error && !cart.length > 0 && (<H4>購物車內暫無商品</H4>)}\n                    {(!cart || !cart.every(item => item.name)) && (\n                        error ? (\n                            <H4>{error}</H4>\n                        ) : (\n                            <H4>商品載入中...</H4>\n                        )\n                    )}\n                </CartContainer>\n                <MobileCartContainer>\n                    <P>全部商品 ({cart ? cart.length : '-'})</P>\n                    <ul>\n                        {(!cart || !cart.every(item => item.name)) && (\n                            error ? (\n                                <H4>{error}</H4>\n                            ) : (\n                                <H4>商品載入中...</H4>\n                            )\n                        )}\n                        {cart && cart.every(item => item.name) && !error && (\n                            cart.length > 0 ? (\n                                cart.map((item, index) => (\n                                    <MobileCartItem \n                                        key={index}\n                                        item={item} \n                                        index={index}\n                                    />\n                                ))\n                            ) : (\n                                <H4>購物車內暫無商品</H4>\n                            )\n                        )}\n                    </ul>\n                </MobileCartContainer>\n                <TotalContainer>\n                    {cart && !error && (\n                        <div>\n                            總金額 (不含運費) : \n                            <span>\n                                ${cart.length > 0 ? (\n                                    addCommaToPrice(getTotal(cart))\n                                ) : (\n                                    '-'\n                                )}\n                            </span>\n                            {hasError(errorMessage) ? (\n                                <ToCartBtn $active={!hasError(errorMessage)}>\n                                    前往結帳\n                                </ToCartBtn>\n                            ) : (\n                                <Link to=\"#\">\n                                    <ToCartBtn $active={!hasError(errorMessage)}>\n                                        前往結帳\n                                    </ToCartBtn>\n                                </Link>\n                            )}\n                        </div>\n                    )}\n                    <Link to=\"/collection\">\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 90 }}/>\n                        繼續選購\n                    </Link>\n                </TotalContainer>\n            </PageContainer>\n        </PageWrapper>\n    )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt, faPen, faPlus } from '@fortawesome/free-solid-svg-icons'\nimport { crumbMap } from \"../../../constants/mapping\";\nimport { Btn, fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\n\nimport { setPopupCode, setIsOpened } from \"../../../features/general/generalSlice\";\nimport { getProducts, setProduct, setProducts } from \"../../../features/product/productSlice\";\n\nimport { getProductAPI } from \"../../../webAPI/productAPI\";\n\nimport { Popup } from \"../../../components/Popup\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst ToDetailBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst FilterContainer = styled.div`\n    padding: 10px;\n    display: flex;\n    justify-content: space-between;\n    // align-items: center;\n    ${fontTheme.p}\n    & > div {\n        display: flex;\n        & > div + div {\n            margin-left: 10px;\n        }\n        & > button {\n            margin-right: 10px;\n        }\n        & a {\n            color: ${props => props.theme.color.black};\n            & svg {\n                margin-right: 2px;\n                font-size: ${props => props.theme.fontSize.h4};\n            }\n        }\n    }\n`\n\nconst Item = ({product}) => {\n\n    const dispatch = useDispatch()\n    \n    const [info, setInfo] = useState()\n    \n    useEffect(() => {\n        getProductAPI(product.id)\n        .then(result => {\n            setInfo(result.data)\n        })\n    }, [product.id])\n\n    const handleIsOpened = e => {\n        dispatch(setProduct(info))\n        dispatch(setIsOpened(true))\n        dispatch(setPopupCode(e.currentTarget.name))\n    }\n\n    return (\n        <>\n            {info && (\n                <tr>\n                    <td>{product.id}</td>\n                    <td>{product.gender === 'M' ? '男裝' : '女裝'}</td>\n                    <td>{crumbMap[2][info.product.Category.name]}</td>\n                    <td>{product.name}</td>\n                    <td>{info.product.desc || '-'}</td>\n                    <td>{info.product.material || '-'}</td>\n                    <td>{info.product.washing || '-'}</td>\n                    <td>\n                        <ToDetailBtn name=\"size\" onClick={handleIsOpened} $white $active>查看</ToDetailBtn>\n                    </td>\n                    <td>\n                        <ToDetailBtn name=\"color\" onClick={handleIsOpened} $white $active>查看</ToDetailBtn>\n                    </td>\n                    <td>\n                        <Btn name=\"edit\" onClick={handleIsOpened}>\n                            <FontAwesomeIcon icon={faPen}/>\n                        </Btn>\n                    </td>\n                    <td>\n                        <Btn name=\"delete\" onClick={handleIsOpened}>\n                            <FontAwesomeIcon icon={faTrashAlt}/>\n                        </Btn>\n                    </td>\n                </tr>\n            )}\n        </>\n    )\n}\n\nexport const Information = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n    const popupCode = useSelector(state => state.general.popupCode)\n\n    const [gender, setGender] = useState('')\n    const [category, setCategory] = useState('')\n\n    useEffect(() => {\n        dispatch(getProducts([gender, category], ''))\n        return () => {\n            dispatch(setProducts(''))\n        }\n    }, [dispatch, gender, category])\n\n    const handleSelectChange = e => {\n        if(e.target.name === 'gender') return setGender(e.target.value)\n        if(e.target.name === 'category') return setCategory(e.target.value)\n        if(e.target.name === 'clearFilter'){\n            setGender('')\n            setCategory('')\n        }\n    }\n\n    return (\n        <>\n            <MainContainer>\n                <H2>新增及管理產品資訊</H2>\n                <FilterContainer>\n                    <div>\n                        <ToDetailBtn name=\"clearFilter\" onClick={handleSelectChange} $white $active>清除篩選</ToDetailBtn>\n                        <div>\n                            <label htmlFor=\"gender\">性別: </label>\n                            <select name=\"gender\" value={gender} onChange={handleSelectChange} id=\"gender\">\n                                <option value=\"\">-----</option>\n                                <option value=\"men\">男裝</option>\n                                <option value=\"women\">女裝</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label htmlFor=\"category\">分類: </label>\n                            <select name=\"category\" value={category} onChange={handleSelectChange} id=\"category\">\n                                <option value=\"\">-----</option>\n                                <option value=\"tops\">上衣類</option>\n                                <option value=\"shirts\">襯衫類</option>\n                                <option value=\"knit\">針織衫 / 毛衣</option>\n                                <option value=\"one_piece\">洋裝類</option>\n                                <option value=\"outer\">外套類</option>\n                                <option value=\"bottoms\">褲裝類</option>\n                                <option value=\"skirts\">裙子類</option>\n                                <option value=\"general\">配件類</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div>\n                        <Link to=\"/admin/product/new\">\n                            <Btn>\n                                <FontAwesomeIcon icon={faPlus} />\n                            </Btn>\n                            <span>新增產品</span>\n                        </Link>\n                    </div>\n                </FilterContainer>\n                <TableContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>id</th>\n                                <th>性別</th>\n                                <th>分類</th>\n                                <th>品名</th>\n                                <th>簡介</th>\n                                <th>材質</th>\n                                <th>洗滌方式</th>\n                                <th>尺寸資訊</th>\n                                <th>顏色資訊</th>\n                                <th>編輯</th>\n                                <th>刪除</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {products && !error && (\n                                products.length > 0 ? (\n                                    products.map(product => (\n                                        <Item key={product.id} product={product} />\n                                    ))\n                                ) : (\n                                    <H4>查無商品</H4>\n                                )\n                            )}\n                        </tbody>\n                    </table>\n                    {!products && (\n                        error ? (\n                            <P>{error}</P>\n                        ) : (\n                            <H4>商品載入中......</H4>\n                        )\n                    )}\n                </TableContainer>\n            </MainContainer>\n            <>\n                {popupCode !== 'color' && popupCode !== 'edit' && popupCode !== 'delete' && (\n                    <Popup type=\"size\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'edit' && popupCode !== 'delete' && (\n                    <Popup type=\"color\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'color' && popupCode !== 'delete' && (\n                    <Popup type=\"edit\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'color' && popupCode !== 'edit' && (\n                    <Popup type=\"delete\" />\n                )}\n            </>\n        </>\n        \n    )\n}","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\nimport { getProducts, setProducts } from \"../../../features/product/productSlice\";\nimport { getProductAPI, updatePatternAPI } from \"../../../webAPI/productAPI\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n            &:nth-child(n+3):nth-child(-n+6){\n                width: 10%;\n            }\n\n            white-space: nowrap;\n\n            \n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                // white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\n\nconst FilterBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst Input = styled.input`\n    &:last-child {\n        width: 50px;\n        padding: 0 5px;\n    }\n    margin-right: 2px;\n    & + label {\n        margin-right: 5px;\n    }\n`\n\nconst Form = styled.td`\n    & ${Input}:last-child {\n        border: ${props => props.$isError && '2px solid red'};\n    }\n    & + td > span {\n        color: ${props => props.$isError && props.theme.color.alert};\n    }\n`\n\nconst Total = styled.td`\n    background-color: ${props => props.$safe && props.theme.color.success};\n    background-color: ${props => props.$caution && props.theme.color.yellow};\n    background-color: ${props => props.$danger && props.theme.color.alert};\n`\n\nconst SubItem = ({pattern, group}) => {\n\n    const history = useHistory();\n\n    const [type, setType] = useState('')\n    const [qty, setQty] = useState(0)\n\n    const [isEditing, setIsEditing] = useState(false)\n    const [error, setError] = useState('')\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'type': {\n                return setType(e.target.id)\n            }\n            case 'qty': {\n                if(error) setError('')\n                return setQty(e.target.value)\n            }\n            default: break\n        }\n    }\n\n    const handleIsEditing = e => {\n        if(e.target.name === 'edit') return setIsEditing(true)\n        if(e.target.name === 'save') {\n            if(!type || !parseInt(qty)) {\n                setType('')\n                setQty(0)\n                return setIsEditing(false)\n            }\n            updatePatternAPI(pattern.id, {\n                type, \n                quantity: parseInt(qty)\n            }).then(result => {\n                if(!result.ok) return setError(result.message)\n                alert('更改存貨數量成功!')\n                return history.go()\n            })\n        }\n    }\n\n    return (\n        <tr>\n            <td></td>\n            <td></td>\n            <td>{pattern[group].size}</td>\n            <td>{pattern.Color.name}</td>\n            <Total \n                $safe={pattern.total >= 30}\n                $caution={pattern.total >= 10 && pattern.total < 30}\n                $danger={pattern.total < 10 && typeof pattern.total === 'number'}\n            >\n                {typeof pattern.total === 'number' ? pattern.total : '-'}\n            </Total>\n            <Form $isError={error}>\n                <Input \n                    checked={type === 'INC'} \n                    onChange={handleInputChange} \n                    type=\"radio\" \n                    name=\"type\" \n                    id=\"INC\" \n                    disabled={!isEditing} \n                />\n                <label htmlFor=\"increase\">增加</label>\n                <Input \n                    checked={type === 'DEC'} \n                    onChange={handleInputChange} \n                    type=\"radio\" \n                    name=\"type\" \n                    id=\"DEC\" \n                    disabled={!isEditing} \n                />\n                <label htmlFor=\"decrease\">減少</label>\n                <Input \n                    value={qty} \n                    onChange={handleInputChange} \n                    type=\"number\" \n                    name=\"qty\" \n                    min=\"0\" \n                    disabled={!isEditing} \n                />個\n            </Form>\n            <td>{isEditing ? (<span>{error}</span>) : pattern.updatedAt}</td>\n            <td>\n                {isEditing ? (\n                    <FilterBtn onClick={handleIsEditing} type=\"submit\" name=\"save\" $white $active>\n                        儲存\n                    </FilterBtn>\n                ) : (\n                    <FilterBtn onClick={handleIsEditing} type=\"button\" name=\"edit\" $white $active>\n                        編輯\n                    </FilterBtn>\n                )}\n            </td>\n            <td>\n                <FilterBtn type=\"button\" $white $active>\n                    查看\n                </FilterBtn>\n            </td>\n        </tr>\n    )\n}\n\nconst Item = ({product}) => {\n\n    const [item, setItem] = useState()\n\n    useEffect(() => {\n        getProductAPI(product.id)\n            .then(result => {\n                setItem({group: result.data.product.Category.group.slice(0, -1), patterns: result.data.patterns})\n            })\n    }, [product.id])\n\n    return (\n        <>\n            <tr>\n                <td>{product.id}</td>\n                <td>{product.name}</td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            {item && item.patterns.map(pattern => {\n                return (\n                    <SubItem \n                        key={pattern.id} \n                        pattern={pattern} \n                        group={item.group} \n                    />\n                )\n            })}\n        </>\n    )\n}\n\nexport const Quantity = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n\n    useEffect(() => {\n        dispatch(getProducts('', ''))\n        return () => {\n            dispatch(setProducts(''))\n        }\n    }, [dispatch])\n\n    return (\n        <>\n            <MainContainer>\n                <H2>管理存貨數量與紀錄</H2>\n                <TableContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>id</th>\n                                <th>產品名稱</th>\n                                <th>尺寸</th>\n                                <th>顏色</th>\n                                <th>數量</th>\n                                <th></th>\n                                <th>更新時間</th>\n                                <th></th>\n                                <th>進出紀錄</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {products && !error && (\n                                products.length > 0 ? (\n                                    products.map(product => (\n                                        <Item key={product.id} product={product} />\n                                    ))\n                                ) : (\n                                    <H4>查無商品</H4>\n                                )\n                            )}\n                        </tbody>\n                    </table>\n                    {!products && (\n                        error ? (\n                            <P>{error}</P>\n                        ) : (\n                            <H4>商品載入中......</H4>\n                        )\n                    )}\n                </TableContainer>\n            </MainContainer>\n        </>\n        \n    )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport { fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\nimport { getProducts, setProducts } from \"../../../features/product/productSlice\";\nimport { updateProductAPI } from \"../../../webAPI/productAPI\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n            &:nth-child(n+3):nth-child(-n+6){\n                width: 8%;\n            }\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst FilterContainer = styled.div`\n    padding: 10px;\n    display: flex;\n    ${fontTheme.p}\n    & > div + div {\n        margin-left: 10px;\n    }\n    & > button {\n        margin-right: 20px;\n    }\n`\n\nconst SortBtn = styled.button`\n    ${fontTheme.span}\n    color: ${props => props.theme.color.white};\n    font-weight: ${props => props.theme.fontWeight.xl};\n\n    position: relative;\n    &::before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 0;\n        position: absolute;\n        right: -15px;\n        top: -1px;\n        border-left: 5px solid transparent;\n        border-right: 5px solid transparent;\n        border-bottom: 10px solid ${props => props.theme.color.grey};\n    }\n    &::after {\n        content: '';\n        display: block;\n        width: 0;\n        height: 0;\n        position: absolute;\n        right: -15px;\n        bottom: -1px;\n        border-left: 5px solid transparent;\n        border-right: 5px solid transparent;\n        border-top: 10px solid ${props => props.theme.color.grey};\n    }\n`\n\nconst FilterBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst BooleanSvg = styled(FontAwesomeIcon)`\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    color: ${props => props.$active ? props.theme.color.success : props.theme.color.alert};\n`\n\nconst PriceInput = styled.input`\n    width: 50px;\n`\n\nconst Item = ({product}) => {\n\n    const [isOn, setIsOn] = useState(null)\n    const [isSale, setIsSale] = useState(null)\n    const [priceStandard, setPriceStandard] = useState(NaN)\n    const [priceSale, setPriceSale] = useState(NaN)\n\n    const [isEditing, setIsEditing] = useState(false)\n\n    useEffect(() => {\n        setIsOn(product.is_on)\n        setIsSale(product.is_sale)\n        setPriceStandard(product.price_standard || '')\n        setPriceSale(product.price_sale || '')\n    }, [product])\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'is_on': {\n                return setIsOn(e.target.checked)\n            }\n            case 'is_sale': {\n                return setIsSale(e.target.checked)\n            }\n            case 'price_standard': {\n                return setPriceStandard(e.target.value)\n            }\n            case 'price_sale': {\n                return setPriceSale(e.target.value)\n            }\n            default: break\n        }\n    }\n\n    const handleIsEditing = e => {\n        if(e.target.name === 'edit') return setIsEditing(true)\n        if(e.target.name === 'save') {\n            return updateProductAPI(product.id, {\n                is_on: isOn, \n                is_sale: isSale, \n                price_standard: parseInt(priceStandard), \n                price_sale: parseInt(priceSale)\n            }).then(result => {\n                if(!result.ok) return console.log(result.message)\n                setIsEditing(false)\n            })\n        }\n    }\n\n    return (\n        <tr>\n            <td>{product.id}</td>\n            <td>{product.name}</td>\n            <td>\n                {isEditing ? (\n                    <input \n                        onChange={handleInputChange} \n                        checked={isOn} \n                        type=\"checkbox\" \n                        name=\"is_on\" \n                    />\n                ) : (\n                    <BooleanSvg icon={isOn ? faCheck : faTimes} $active={isOn} />\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <input \n                        onChange={handleInputChange} \n                        checked={isSale} \n                        type=\"checkbox\" \n                        name=\"is_sale\" \n                    />\n                ) : (\n                    <BooleanSvg icon={isSale ? faCheck : faTimes} $active={isSale} />\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <PriceInput \n                        onChange={handleInputChange} \n                        value={priceStandard} \n                        type=\"number\" \n                        name=\"price_standard\" \n                        min=\"0\"\n                    />\n                ) : (\n                    priceStandard || '-'\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <PriceInput \n                        onChange={handleInputChange} \n                        value={priceSale} \n                        type=\"number\" \n                        name=\"price_sale\" \n                        min=\"0\"\n                    />\n                ) : (\n                    priceSale || '-'\n                )}\n            </td>\n            <td>{product.sold}</td>\n            <td>{product.updatedAt}</td>\n            <td>\n                {isEditing ? (\n                    <FilterBtn name=\"save\" onClick={handleIsEditing} $white $active>\n                        儲存\n                    </FilterBtn>\n                ) : (\n                    <FilterBtn name=\"edit\" onClick={handleIsEditing} $white $active>\n                        編輯\n                    </FilterBtn>\n                )}\n            </td>\n            <td>\n                <FilterBtn $white $active>\n                    查看\n                </FilterBtn>\n            </td>\n        </tr>\n    )\n}\n\nexport const Price = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n\n    const [isOn, setIsOn] = useState('')\n    const [isSale, setIsSale] = useState('')\n    const [order, setOrder] = useState('')\n\n    useEffect(() => {\n        const search = new URLSearchParams();\n        if(isOn !== '') search.set('is_on', isOn)\n        if(isSale !== '') search.set('is_sale', isSale)\n        if(order !== '') search.set('order', order)\n        dispatch(getProducts('', `?${search}`))\n        return () => {\n            dispatch(setProducts(''))\n        }\n    }, [dispatch, isOn, isSale, order])\n\n    const handleSelectChange = e => {\n        if(e.target.name === \"is_on\") return setIsOn(e.target.value)\n        if(e.target.name === \"is_sale\") return setIsSale(e.target.value)\n        if(e.target.name === \"clearFilter\"){\n            setIsOn('')\n            setIsSale('')\n        }\n    }\n\n    const handleSort = e => {\n        if (e.target.name === 'sold') {\n            if(order === 'sold_desc') return setOrder('sold_asc')\n            if(order === 'sold_asc') return setOrder('sold_desc')\n            setOrder('sold_desc')            \n        } else {\n            if(order === 'price_desc') return setOrder('price_asc')\n            if(order === 'price_asc') return setOrder('price_desc')\n            setOrder('price_asc')\n        }\n    }\n\n    return (\n        <MainContainer>\n            <H2>管理商品價格與紀錄</H2>\n            <FilterContainer>\n                <FilterBtn name=\"clearFilter\" onClick={handleSelectChange} $white $active>清除篩選</FilterBtn>\n                <div>\n                    <select name=\"is_on\" value={isOn} onChange={handleSelectChange}>\n                        <option value=\"\">-----</option>\n                        <option value=\"1\">已上架</option>\n                        <option value=\"0\">未上架</option>\n                    </select>\n                </div>\n                <div>\n                    <select name=\"is_sale\" value={isSale} onChange={handleSelectChange}>\n                        <option value=\"\">-----</option>\n                        <option value=\"1\">特價商品</option>\n                        <option value=\"0\">原價商品</option>\n                    </select>\n                </div>\n            </FilterContainer>\n            <TableContainer>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>id</th>\n                            <th>產品名稱</th>\n                            <th>上架中</th>\n                            <th>特價中</th>\n                            <th>\n                                <SortBtn name=\"price_standard\" onClick={handleSort}>原價</SortBtn>\n                            </th>\n                            <th>\n                                <SortBtn name=\"price_sale\" onClick={handleSort}>特價</SortBtn>\n                            </th>\n                            <th>\n                                <SortBtn name=\"sold\" onClick={handleSort}>已售出</SortBtn>\n                            </th>\n                            <th>更新時間</th>\n                            <th></th>\n                            <th>存貨紀錄</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {products && !error && (\n                            products.length > 0 ? (\n                                products.map(product => (\n                                    <Item key={product.id} product={product} />\n                                ))\n                            ) : (\n                                <H4>查無商品</H4>\n                            )\n                        )}\n                    </tbody>\n                </table>\n                {!products && (\n                    error ? (\n                        <P>{error}</P>\n                    ) : (\n                        <H4>商品載入中...</H4>\n                    )\n                )}\n            </TableContainer>\n        </MainContainer>        \n    )\n}","import styled from \"styled-components\";\nimport { Switch, Route, Link, useRouteMatch, useLocation } from \"react-router-dom\"\n\nimport { H3 } from \"../../../constants/style\";\n\nimport { Information } from \"./Information\";\nimport { Quantity } from \"./Quantity\";\nimport { Price } from \"./Price\";\nimport AddProduct from \"./AddProduct\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h3 {\n        padding: 10px;\n    }\n    & a {\n        color: ${props => props.theme.color.black};\n    }\n`\n\nexport default function AdminProductPage () {\n\n    const { path, url } = useRouteMatch();\n    const { pathname } = useLocation();\n\n    return (\n        <>\n            {path === pathname && (\n                <MainContainer>\n                    <H3>\n                        <Link to={`${url}/information`}>新增及管理產品資訊</Link>\n                    </H3>\n                    <H3>\n                        <Link to={`${url}/quantity`}>管理存貨數量與紀錄</Link>\n                    </H3>\n                    <H3>\n                        <Link to={`${url}/price`}>管理商品價格與紀錄</Link>\n                    </H3>\n                </MainContainer>\n            )}\n            <Switch>\n                <Route path={`${path}/information`}>\n                    <Information />\n                </Route>\n                <Route path={`${path}/quantity`}>\n                    <Quantity />\n                </Route>\n                <Route path={`${path}/price`}>\n                    <Price />\n                </Route>\n                <Route path={`${path}/new`}>\n                    <AddProduct />\n                </Route>\n                <Route path={`${path}/edit/:id`}>\n                    <AddProduct />\n                </Route>\n            </Switch>\n        </>\n    )\n}","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Switch, Route, useRouteMatch, useLocation } from \"react-router-dom\"\n\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { H4, LinkedTag, MEDIA_QUERY, P, PageContainer, PageWrapper } from \"../../constants/style\";\n\nimport AdminProductPage from \"./AdminProductPage\";\n\n\nconst AsideContainer = styled.aside`\n    width: 20%;\n    min-width: 250px;\n\n    & > div {\n        z-index: 1;\n        margin: 10px;\n        background-color: ${props => props.theme.color.white};\n    }\n\n    ${MEDIA_QUERY.main} {\n        position: fixed;\n        left: -240px;\n        z-index: 200;\n        transition: .3s;\n    }\n\n`\n\nconst AsideBlock = styled.div`\n    border: 1px solid ${props => props.theme.color.lightGrey}8;\n    & > h4 {\n        padding: 10px 15px;\n        font-weight: ${props => props.theme.fontWeight.xl};\n        background-color: #eee;\n    }\n    & > div {\n        padding: 5px 15px;\n    }\n`\n\nconst AsideContent = styled(P)`\n    ${LinkedTag}\n    line-height: 2em;\n    padding: ${props => props.$active ? '5px 0 7px' : '5px 0'};\n    font-weight: ${props => props.$active && props.theme.fontWeight.xl}\n`\n\n\n\nexport default function AdminPage () {\n\n    let { path, url } = useRouteMatch();\n\n    const { pathname } = useLocation();\n    const subPath = pathname.split('/').slice(2, 4)\n    const pathArr = ['', 'admin']\n    if(subPath) subPath.map(path => pathArr.push(path))\n\n\n    return (\n        <>\n            <CrumbNav pathArr={pathArr} />\n            <PageWrapper>\n                <PageContainer>\n                    <AsideContainer>\n                        <AsideBlock>\n                            <H4>商品管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[1] === 'information'}>\n                                    {subPath[1] === 'information' ? (\n                                        <>新增及管理產品資訊</>\n                                    ) : (\n                                        <Link to={`${url}/product/information`}>新增及管理產品資訊</Link>\n                                    )}\n                                </AsideContent>\n                                <AsideContent $active={subPath[1] === 'quantity'}>\n                                    {subPath[1] === 'quantity' ? (\n                                        <>管理存貨數量與紀錄</>\n                                    ) : (\n                                        <Link to={`${url}/product/quantity`}>管理存貨數量與紀錄</Link>\n                                    )}\n                                </AsideContent>\n                                <AsideContent $active={subPath[1] === 'price'}>\n                                    {subPath[1] === 'price' ? (\n                                        <>管理商品價格與紀錄</>\n                                    ) : (\n                                        <Link to={`${url}/product/price`}>管理商品價格與紀錄</Link>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                        <AsideBlock>\n                            <H4>訂單管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[0] === 'order'}>\n                                    {subPath[0] === 'order' ? (\n                                        <>管理所有訂單</>\n                                    ) : (\n                                        <Link to={`${url}/order`}>管理所有訂單</Link>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                        <AsideBlock>\n                            <H4>用戶管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[0] === 'user'}>\n                                    {subPath[0] === 'user' ? (\n                                        <>管理所有用戶</>\n                                    ) : (\n                                        <Link to={`${url}/user`}>管理所有用戶</Link>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                    </AsideContainer>\n\n                    <Switch>\n                        <Route path={`${path}/product`}>\n                            <AdminProductPage />\n                        </Route>\n                        {/* <Route path={`${path}/order`}>\n                            <AdminProductPage />\n                        </Route>\n                        <Route path={`${path}/user`}>\n                            <AdminProductPage />\n                        </Route> */}\n                    </Switch>\n\n                </PageContainer>\n            </PageWrapper>\n        </>\n    )\n}","import './App.css';\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\"\nimport ScrollRestoration from 'react-scroll-restoration'\nimport styled from \"styled-components\"\n\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport HomePage from './pages/HomePage'\nimport ListPage from './pages/ListPage'\nimport ProductPage from './pages/ProductPage'\nimport CartPage from './pages/CartPage'\nimport AdminProductPage from './pages/AdminPages/AdminProductPage'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport AdminPage from './pages/AdminPages/AdminPage';\n\nlibrary.add(fab)\n\nconst Layout = styled.div``\n\nfunction App() {\n\n  return (\n    <Router>\n      <Layout>\n        <ScrollRestoration />\n        <Header/>\n        <Switch>\n          <Route exact path=\"/\">\n            <HomePage />\n          </Route>\n          <Route path=\"/collection\">\n            <ListPage />\n          </Route>\n          <Route path=\"/product/:id\">\n            <ProductPage />\n          </Route>\n          <Route path=\"/cart\">\n            <CartPage />\n          </Route>\n          <Route path=\"/admin\">\n            <AdminPage />\n          </Route>\n        </Switch>\n        <Footer/>\n      </Layout>\n    </Router>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport productReducer from '../features/product/productSlice'\nimport generalReducer from '../features/general/generalSlice'\nimport cartReducer from '../features/cart/cartSlice'\n\nexport const store = configureStore({\n  reducer: {\n    product: productReducer,\n    general: generalReducer,\n    cart: cartReducer,\n  },\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { ThemeProvider } from 'styled-components';\nimport { theme } from './constants/theme';\n\nimport { store } from './app/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <App />\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}