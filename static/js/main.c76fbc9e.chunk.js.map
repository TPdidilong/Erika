{"version":3,"sources":["constants/theme.js","constants/style.js","components/Header/Nav.js","components/Loader.js","components/Img.js","webAPI/productAPI.js","features/cart/cartSlice.js","hooks/useCart.js","components/Header/Cart.js","assets/logo.png","components/Logo.js","components/Header/Header.js","components/Header/index.js","components/Footer/Footer.js","components/Footer/index.js","pages/HomePage/Carousel.js","hooks/useCarousel.js","assets/arrival_female.jpeg","assets/arrival_male.jpeg","pages/HomePage/Arrival.js","components/TestProductCards.js","features/general/generalSlice.js","features/product/productSlice.js","hooks/useProduct.js","components/ProductItem.js","pages/HomePage/Trend.js","components/Feed.js","pages/HomePage/HomePage.js","constants/mapping.js","components/CrumbNav.js","hooks/usePriceFilter.js","pages/ListPage/Filter.js","components/Trend.js","components/Aside.js","pages/ListPage/Sort.js","pages/ListPage/Pagination.js","pages/ListPage/ProductList.js","pages/ProductPage/CartPopup.js","components/LoginPopup.js","hooks/useAdminProduct.js","pages/AdminPages/AdminProductPage/AddProduct.js","pages/AdminPages/AdminProductPage/InfoPopup.js","components/Popup.js","pages/ListPage/ListPage.js","pages/ProductPage/Image.js","components/QtySelector.js","pages/ProductPage/Content.js","pages/ProductPage/Detail.js","pages/ProductPage/ProductPage.js","components/CheckoutFlow.js","pages/CartPage/CartItem.js","pages/CartPage/CartPage.js","pages/AdminPages/AdminProductPage/Information.js","pages/AdminPages/AdminProductPage/Quantity.js","pages/AdminPages/AdminProductPage/Price.js","pages/AdminPages/AdminProductPage/AdminProductPage.js","pages/AdminPages/AdminPage.js","App.js","app/store.js","index.js"],"names":["theme","fontSize","bannerLarge","bannerMedium","svgLarge","h2","svg","btn","h3","h4","bodyLarge","body","bodySmall","fontWeight","xxl","xl","l","m","s","xs","color","lightGrey","grey","black","white","light_primary","alert","success","brown","yellow","MEDIA_QUERY","LinkedTag","styled","Link","fontTheme","css","h5","p","span","H2","H3","H4","P","Span","H5","Btn","button","TextBtn","props","$active","$white","PageWrapper","div","PageContainer","MenuNav","nav","Menu","ul","SubMenu","SubMenuListFlex","SubMenuListBlock","MenuLink","$small","$large","$medium","SubMenuLink","SubMenuTitle","MobileMenuNav","MobileMenu","MobileLink","ToggleBtn","$size","ToggleInput","input","CheckBox","id","type","htmlFor","icon","faChevronDown","MobileNav","to","Nav","spin_loader","keyframes","LoaderBase","FullPageLoader","ImgLoader","Mask","Loader","Img","image","useState","isLoading","setIsLoading","src","alt","onLoad","url","baseURL","getProductsAPI","pathname","search","Arr","URLSearchParams","gender","category","push","men","women","has","sizes","get","split","map","size","colors","prices","order","page","is_on","is_sale","query","fetch","then","res","msg","status","Error","statusText","console","log","json","data","ok","message","catch","e","getProductAPI","updateProductAPI","product","method","headers","JSON","stringify","cartSlice","createSlice","name","initialState","cart","errorMessage","reducers","setCart","state","action","payload","setCartQty","find","item","pattern_id","qty","deleteCart","filter","index","addCart","setErrorMessage","actions","getProductInfo","result","error","itemPattern","patterns","pattern","group","Category","slice","Color","total","price_standard","price_sale","mainImg","Images","img","is_main","setCartStorage","items","dispatch","Promise","all","a","useCart","useDispatch","handleDeleteCart","cartLocal","parse","localStorage","getItem","i","setItem","handleQtyChange","target","value","parseInt","handleBtnClick","direction","getTotal","length","reduce","acc","cur","hasError","some","err","MenuBtn","CartContainer","CartCard","li","CartImage","CartInfo","ToCartBtn","Cover","label","Cart","useSelector","cartDOM","useRef","useLocation","useEffect","cartItem","current","checked","faShoppingCart","ref","onClick","faTrashAlt","LogoContainer","h1","Logo","logo","height","HeaderWrapper","HeaderContainer","HeaderLeft","HeaderRight","BurgerBtn","BurgerInput","MenuBtnGroup","ToAdminBtn","Header","navDOM","style","position","zIndex","faBars","faUser","faHeart","FooterWrapper","FooterContainer","BottomWrapper","BottomContainer","FooterLeft","FooterRight","LinkBtn","LinkBtnGroup","LinkedList","ListTitle","ListItem","Footer","BannerWrapper","BannerContainer","MoveBtn","LeftBtn","RightBtn","DotBtn","DotContainer","ArrowContainer","BannerImage","handleClick","Dot","currentPage","handleRadioChange","handleRadioClick","onChange","Arrow","handleButtonClick","Banner","banner","handleMouseDown","handleMouseMove","handleMouseUp","transform","transition","onMouseDown","onMouseMove","onMouseUp","Array","fill","flat","Carousel","W","setW","setCurrentPage","isDragging","setIsDragging","isClicked","setIsClicked","isHovered","setIsHovered","X","timeoutID","setTimeout","clearTimeout","handleTransform","pageX","preventDefault","handleMouseLeave","handleMouseOver","useCarousel","onMouseLeave","onMouseOver","ArrivalWrapper","ArrivalContainer","ArrivalItem","TitleWrapper","TitleContainer","Arrival","arrival_female_img","arrival_male_img","ProductCard","section","ImageContainer","ImageMask","ProductPrice","ProductReminder","ProductReminderSale","ProductReminderNew","TestProductCards","faCartPlus","fasHeart","generalSlice","isOpened","popupCode","setIsOpened","setPopupCode","productSlice","unfilteredProducts","products","spec","setUnfilteredProducts","setProducts","setProduct","setError","setSize","setColor","setQty","getProducts","useProduct","isChecked","setIsChecked","setMainImg","scaledImg","size_Initialized","addCommaToPrice","price","arr","reverse","join","offsetX","nativeEvent","offsetY","offsetWidth","perX","perY","left","top","handleImgClick","tagName","handleCheckedChange","handleSizeChange","handleColorChange","isNull","handleAddToCart","newItem","WriteToLocalStorage","handleAddToWishList","handleClosePopup","BtnContainer","ProductItem","TrendingWrapper","TrendingContainer","Subtitle","ProductContainer","GenderBlock","trends","defaultChecked","trend","Trend","male","female","setTrends","FeedWrapper","FeedContainer","Feed","feeds","setFeeds","process","topics","orientation","count","toString","desc","description","urls","small","feed","rel","href","HomePage","crumbMap","collection","admin","user","tops","shirts","knit","one_piece","outer","bottoms","skirts","general","information","quantity","new","sizeMap","Size_top","sleeve_length","body_length","body_width","Size_bottom","waist","hip","rise","inseam","Size_skirt","CrumbWrapper","CrumbContainer","CrumbPath","CrumbNav","pathArr","faHome","path","usePriceFilter","useContext","LocationContext","minInitailizer","Math","min","maxInitailizer","max","getUnfilteredProducts","minimum","maximum","setMin","setMax","WR","WL","perLeft","perRight","bar","barSelected","knobLeft","knobRight","priceParam","minTemp","maxTemp","right","history","useHistory","isNaN","per","Number","toFixed","offsetLeft","newSearch","set","append","delete","priceURL","ControllerBtn","AsideBlock","FilterContainer","SizeFilter","ColorFilter","ColorSpan","$border","$color","PriceFilter","PriceTag","PriceBar","PriceKnob","ClearBtn","SizeSelect","param","faSquare","includes","faCheckSquare","newParam","ColorSelect","border","PriceSelect","$left","$right","Filter","clearedSearch","clearURL","faFilter","TrendContainer","TrendCard","TrendImage","TrendInfo","TrendPrice","TrendItem","PictureContainer","AsideContainer","aside","Controller","Aside","SortContainer","GalleryBtnGroup","GalleryBtn","$four","GalleryRadio","$two","$three","MenuContainer","SortSelect","sortMap","SortMenu","currentOrder","sortMenuDOM","sold_desc","price_desc","price_asc","title","Object","keys","Sort","faThLarge","faTh","faAlignJustify","rotate","PageBtn","$selected","Result","PageSelect","selected","Page","page_count","n","Pagination","per_page","number_start","number_end","IndexContainer","ProductList","rows","PopupItem","PopupBtnGroup","PopupBtn","$checked","CartPopup","PopupContent","LoginPopup","useAdminProduct","step","setStep","productToAdd","setProductToAdd","setName","setGender","setCategory","setDesc","material","setMaterial","washing","setWashing","images","setImages","setSizes","setColors","setPatterns","isOn","setIsOn","isSale","setIsSale","priceStandard","setPriceStandard","priceSale","setPriceSale","Colors","isSubmitted","setIsSubmitted","addProductAPI","lastProduct","window","scrollTo","checkForm","every","Set","saveProduct","handleInputChange","toUpperCase","toLowerCase","handleSetStep","searchProductAPI","handleFormSubmit","stepName","scrollIntoView","go","handleAddPattern","obj","ele","code","handleDeletePattern","currentTarget","handleUploadImage","StepContainer","FirstStepContainer","SecondStepContainer","$step","ThirdStepContainer","MainContainer","main","LeftContainer","RightContainer","FlowNode","FlowText","$fixed","FlowContent","InputBlock","UploadBtn","AddBtn","ImgInput","CheckInput","InputTitle","SizeInput","ColorInput","PatternInput","PriceInput","FirstStepInputs","files","file","FormData","uploadImageAPI","link","disabled","autoComplete","required","placeholder","accept","FirstStep","SecondStepInputs","sizesLength","colorsLength","entries","j","faTimes","SecondStep","getGroup","useCallback","ThirdStepInputs","ThirdStep","onSubmit","AddProduct","unblock","block","confirm","TableContainer","SizePopup","element","measure","word","ColorPopup","EditPopup","DeletePopup","PopupCover","$isOpened","PopupWrapper","PopupContainer","$type","PopupHeader","$cart","PopupTitle","Popup","faCheck","createContext","ListPage","currentPath","currentTitle","previousPath","Provider","ImageMain","$isLoading","ImageCarousel","Image","Qty","QtyInput","QtyDiv","QtyBtn","QtySelector","ContentContainer","SpecContainer","ColorSelector","Msg","SizeSelector","ColorLabel","$isNull","PriceIsSale","QtyAndAdd","WishList","Content","DetailContainer","DetailTag","TagBtn","DetailContent","InfoContainer","SizeContainer","Detail","ItemContainer","OffMessage","BreadCrumb","setPath","ProductPage","useParams","getProduct","FlowMobile","FlowContainer","CheckoutFlow","NameNote","Price","SellingPrice","ErrorMsg","MobileItem","ItemTitle","ItemContent","ItemImage","ItemName","CartItem","subtotal","MobileCartItem","ADDSTYLE","TotalContainer","MobileCartContainer","CartPage","ToDetailBtn","Item","info","setInfo","handleIsOpened","faPen","Information","handleSelectChange","faPlus","FilterBtn","Input","Form","td","$isError","Total","$safe","$caution","$danger","SubItem","setType","isEditing","setIsEditing","handleIsEditing","updatePatternAPI","updatedAt","Quantity","SortBtn","BooleanSvg","FontAwesomeIcon","NaN","sold","setOrder","handleSort","AdminProductPage","useRouteMatch","AsideContent","AdminPage","subPath","library","add","fab","App","exact","store","configureStore","reducer","productReducer","generalReducer","cartReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c76fbc9e.chunk.js","sourcesContent":["export const theme = {\n    fontSize: {\n        bannerLarge: '64px',\n        bannerMedium: '48px',\n        svgLarge: '40px',\n        h2: '32px',\n        svg: '28px',\n        btn: '24px',\n        h3: '22px',\n        h4: '18px',\n        bodyLarge: '16px',\n        body: '14px',\n        bodySmall: '12px',\n    },\n    fontWeight: {\n        xxl: '900',\n        xl: '700',\n        l: '500',\n        m: '400',\n        s: '300',\n        xs: '100',\n    },\n    color: {\n        lightGrey: '#aaa',\n        grey: '#555',\n        black: '#333',\n        white: '#fff',\n        light_primary: '#eee',\n        alert: '#e83927',\n        success: '#40a85f',\n        brown: '#918481',\n        yellow: '#d4ad54',\n    },\n};\n","import { Link } from 'react-router-dom';\nimport styled, { css } from 'styled-components';\nimport { theme } from './theme';\n\nexport const MEDIA_QUERY = {\n    l: '@media (max-width: 1366px)',\n    main: '@media (max-width: 1024px)',\n    m: '@media (max-width: 768px)',\n    s: '@media (max-width: 512px)',\n    xs: '@media (max-width: 256px)',\n};\n\nexport const LinkedTag = styled(Link)`\n    &::after {\n        content: '';\n        display: block;\n        width: 0%;\n        height: 2px;\n        background-color: ${theme.color.black};\n        transition: width 0.4s;\n    }\n    &:hover {\n        &::after {\n            width: 100%;\n        }\n    }\n`;\n\nexport const fontTheme = {\n    h2: css`\n        font-size: ${theme.fontSize.h2};\n        font-weight: ${theme.fontWeight.xl};\n        line-height: 2em;\n    `,\n    h3: css`\n        font-size: ${theme.fontSize.h3};\n        font-weight: ${theme.fontWeight.xl};\n        line-height: 1.5em;\n    `,\n    h4: css`\n        font-size: ${theme.fontSize.h4};\n        font-weight: ${theme.fontWeight.l};\n        line-height: 1.5em;\n    `,\n    h5: css`\n        font-size: ${theme.fontSize.bodySmall};\n        font-weight: ${theme.fontWeight.s};\n        line-height: 1.5em;\n    `,\n    p: css`\n        font-size: ${theme.fontSize.bodyLarge};\n        font-weight: ${theme.fontWeight.l};\n        line-height: 1.5em;\n    `,\n    span: css`\n        font-size: ${theme.fontSize.body};\n        font-weight: ${theme.fontWeight.m};\n        line-height: 1.5em;\n    `,\n};\n\nexport const H2 = styled.h2`\n    ${fontTheme.h2}\n    color: ${theme.color.black};\n`;\n\nexport const H3 = styled.h3`\n    ${fontTheme.h3}\n    color: ${theme.color.black};\n`;\n\nexport const H4 = styled.h4`\n    ${fontTheme.h4}\n    color: ${theme.color.black};\n`;\n\nexport const P = styled.p`\n    ${fontTheme.p}\n    color: ${theme.color.black};\n`;\n\nexport const Span = styled.span`\n    ${fontTheme.span}\n    color: ${theme.color.black};\n`;\n\nexport const H5 = styled.h5`\n    ${fontTheme.h5}\n    color: ${theme.color.black};\n`;\n\nexport const Btn = styled.button`\n    & svg {\n        font-size: ${theme.fontSize.svg};\n        color: ${theme.color.lightGrey};\n        transition: 0.2s;\n    }\n    &:hover svg {\n        cursor: pointer;\n        color: ${theme.color.grey};\n    }\n`;\n\nexport const TextBtn = styled.button`\n    padding: 5px 15px;\n    border-radius: 0.25em;\n    transition: 0.2s;\n\n    ${fontTheme.span}\n    font-weight: ${props => props.theme.fontWeight.l};\n\n    border: 1px solid\n        ${props =>\n            props.$active\n                ? props.theme.color.black\n                : props.theme.color.lightGrey};\n    background-color: ${props =>\n        props.$white && props.$active\n            ? props.theme.color.white\n            : props.$white\n            ? props.theme.color.light_primary\n            : props.$active\n            ? props.theme.color.black\n            : props.theme.color.lightGrey};\n    color: ${props =>\n        !props.$white\n            ? props.theme.color.white\n            : props.$active\n            ? props.theme.color.black\n            : props.theme.color.grey};\n    &:hover {\n        border-color: ${props =>\n            props.$white && props.$active\n                ? props.theme.color.black\n                : props.theme.color.lightGrey};\n        background-color: ${props =>\n            !props.$white\n                ? props.theme.color.lightGrey\n                : props.$active\n                ? props.theme.color.black\n                : props.theme.color.light_primary};\n        color: ${props =>\n            props.$white && !props.$active\n                ? props.theme.color.grey\n                : props.theme.color.white};\n    }\n    cursor: ${props => (props.$active ? 'pointer' : 'not-allowed')};\n`;\n\nexport const PageWrapper = styled.div``;\nexport const PageContainer = styled.div`\n    width: 90%;\n    ${MEDIA_QUERY.s} {\n        width: 100%;\n    }\n    margin: 0 auto;\n    display: flex;\n    align-items: flex-start;\n`;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { fontTheme, MEDIA_QUERY, Btn, LinkedTag } from '../../constants/style';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons';\n\nconst MenuNav = styled.nav`\n    ${MEDIA_QUERY.main} {\n        display: none;\n    }\n`;\n\nconst Menu = styled.ul`\n    margin: 0 20px;\n    display: flex;\n\n    & > li {\n        & > a {\n            display: block;\n        }\n        margin: 0 5px;\n        padding: 16px 0;\n        position: relative;\n        & > div {\n            display: none;\n            position: absolute;\n        }\n        &:hover > div {\n            display: flex;\n        }\n    }\n`;\n\nconst SubMenu = styled.div`\n    top: 71px;\n    box-shadow: 1px 1px 5px #aaa;\n    background-color: #fff;\n    & > div {\n        margin: 20px 30px;\n    }\n    & li > a {\n        display: block;\n    }\n`;\n\nconst SubMenuListFlex = styled.div`\n    width: 240px;\n    & ul {\n        height: 150px;\n        padding: 10px 0;\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        flex-wrap: wrap;\n    }\n`;\n\nconst SubMenuListBlock = styled.div`\n    width: 180px;\n    & ul {\n        text-align: center;\n        & li {\n            display: inline-block;\n        }\n    }\n`;\n\nconst MenuLink = styled(LinkedTag)`\n    ${fontTheme.h4};\n    ${props => (props.$small ? fontTheme.p : 'line-height: 2em')};\n    color: ${props => props.theme.color.black};\n    padding: 0 10px;\n\n    ${MEDIA_QUERY.main} {\n        height: ${props =>\n            props.$large\n                ? '60px'\n                : props.$medium\n                ? '50px'\n                : props.$small\n                ? '40px'\n                : '0px'};\n        display: table-cell;\n        vertical-align: middle;\n    }\n`;\n\nconst SubMenuLink = styled(LinkedTag)`\n    ${fontTheme.p}\n    color: ${props => props.theme.color.black};\n    padding: 5px 5px;\n`;\n\nconst SubMenuTitle = styled(MenuLink)`\n    display: inline-block;\n    padding-bottom: 10px;\n    font-weight: ${props => props.theme.fontWeight.xl};\n    padding: 5px 5px;\n    & + ul {\n        border-top: 1px solid #ddd;\n    }\n`;\n\nconst MobileMenuNav = styled.nav`\n    display: none;\n    ${MEDIA_QUERY.main} {\n        display: block;\n    }\n`;\n\nconst MobileMenu = styled.ul`\n    position: fixed;\n    left: 0;\n    top: 0;\n    z-index: 20;\n    width: 75%;\n    max-width: 360px;\n    height: 100vh;\n    padding: 0 10px;\n    background-color: ${props => props.theme.color.white};\n    box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n    overflow-y: auto;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    & li {\n        position: relative;\n    }\n\n    & > div {\n        & > li {\n            width: 100%;\n            display: block;\n            & > ul {\n                margin-left: 30px;\n                display: none;\n                & > li {\n                    & > ul {\n                        display: none;\n                        margin-left: 30px;\n                    }\n                }\n            }\n        }\n    }\n`;\n\nconst MobileLink = styled(Link)`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n`;\n\nconst ToggleBtn = styled(Btn)`\n    width: 60px;\n    height: ${props => (props.$size === 'large' ? '60px' : '50px')};\n    position: absolute;\n    right: 0;\n    z-index: 21;\n    & label {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n    }\n    & svg {\n        font-size: ${props => props.theme.fontSize.h4};\n    }\n`;\n\nconst ToggleInput = styled.input`\n    position: absolute;\n    right: 0;\n    opacity: 0;\n    z-index: -1;\n    &:checked ~ ul {\n        display: block;\n    }\n    &:checked + button {\n        & svg {\n            color: ${props => props.theme.color.grey};\n            transform: rotate(0.5turn);\n        }\n    }\n`;\n\nconst CheckBox = ({ id, $size }) => {\n    return (\n        <>\n            <ToggleInput id={id} type=\"checkbox\" />\n            <ToggleBtn {...{ $size }}>\n                <label htmlFor={id}>\n                    <FontAwesomeIcon icon={faChevronDown} />\n                </label>\n            </ToggleBtn>\n        </>\n    );\n};\n\nexport const MobileNav = () => {\n    return (\n        <MobileMenuNav>\n            <MobileMenu>\n                <div>\n                    <li>\n                        <MenuLink to=\"#\" $large>\n                            新品上市\n                        </MenuLink>\n                        <MobileLink to=\"#\" />\n                    </li>\n                    <li>\n                        <CheckBox id=\"collection\" $size=\"large\" />\n                        <MenuLink to=\"/collection\" $large>\n                            商品一覽\n                        </MenuLink>\n                        <MobileLink to=\"/collection\" />\n                        <ul>\n                            <li>\n                                <CheckBox id=\"collection-men\" />\n                                <MenuLink to=\"/collection/men\" $medium>\n                                    男裝\n                                </MenuLink>\n                                <MobileLink to=\"/collection/men\" />\n                                <ul>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/men/tops\"\n                                            $small\n                                        >\n                                            上衣類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/men/tops\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/men/shirts\"\n                                            $small\n                                        >\n                                            襯衫類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/men/shirts\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/men/knit\"\n                                            $small\n                                        >\n                                            針織衫 / 毛衣\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/men/knit\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/men/bottoms\"\n                                            $small\n                                        >\n                                            褲裝類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/men/bottoms\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/men/outer\"\n                                            $small\n                                        >\n                                            外套類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/men/outer\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/men/general\"\n                                            $small\n                                        >\n                                            配件類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/men/general\" />\n                                    </li>\n                                </ul>\n                            </li>\n                            <li>\n                                <CheckBox id=\"collection-women\" />\n                                <MenuLink to=\"/collection/women\" $medium>\n                                    女裝\n                                </MenuLink>\n                                <MobileLink to=\"/collection/women\" />\n                                <ul>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/women/tops\"\n                                            $small\n                                        >\n                                            上衣 / 襯衫\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/women/tops\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/women/knit\"\n                                            $small\n                                        >\n                                            針織衫 / 毛衣\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/women/knit\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/women/bottoms\"\n                                            $small\n                                        >\n                                            褲裝類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/women/bottoms\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/women/skirts\"\n                                            $small\n                                        >\n                                            裙子類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/women/skirts\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/women/one_piece\"\n                                            $small\n                                        >\n                                            洋裝類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/women/one_piece\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/women/outer\"\n                                            $small\n                                        >\n                                            外套類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/women/outer\" />\n                                    </li>\n                                    <li>\n                                        <MenuLink\n                                            to=\"/collection/women/general\"\n                                            $small\n                                        >\n                                            配件類\n                                        </MenuLink>\n                                        <MobileLink to=\"/collection/women/general\" />\n                                    </li>\n                                </ul>\n                            </li>\n                        </ul>\n                    </li>\n                    <li>\n                        <CheckBox id=\"on-sale\" $size=\"large\" />\n                        <MenuLink to=\"#\" $large>\n                            特價專區\n                        </MenuLink>\n                        <MobileLink to=\"#\" />\n                        <ul>\n                            <li>\n                                <MenuLink to=\"#\" $medium>\n                                    秋冬女裝新品_7折起\n                                </MenuLink>\n                                <MobileLink to=\"#\" />\n                            </li>\n                            <li>\n                                <MenuLink to=\"#\" $medium>\n                                    秋冬男裝新品_7折起\n                                </MenuLink>\n                                <MobileLink to=\"#\" />\n                            </li>\n                            <li>\n                                <MenuLink to=\"#\" $medium>\n                                    春夏商品出清_3折起\n                                </MenuLink>\n                                <MobileLink to=\"#\" />\n                            </li>\n                        </ul>\n                    </li>\n                    <li>\n                        <MenuLink to=\"#\" $large>\n                            關於我們\n                        </MenuLink>\n                        <MobileLink to=\"#\" />\n                    </li>\n                </div>\n                <div>\n                    <li>\n                        <MenuLink to=\"#\" $large>\n                            登入\n                        </MenuLink>\n                        <MobileLink to=\"#\" />\n                    </li>\n                    <li>\n                        <MenuLink to=\"#\" $large>\n                            願望清單\n                        </MenuLink>\n                        <MobileLink to=\"#\" />\n                    </li>\n                </div>\n            </MobileMenu>\n        </MobileMenuNav>\n    );\n};\n\nexport const Nav = () => {\n    return (\n        <MenuNav>\n            <Menu>\n                <li>\n                    <MenuLink to=\"#\">新品上市</MenuLink>\n                </li>\n                <li>\n                    <MenuLink to=\"/collection\">商品一覽</MenuLink>\n                    <SubMenu>\n                        <SubMenuListFlex>\n                            <SubMenuTitle to=\"/collection/men\">\n                                男裝\n                            </SubMenuTitle>\n                            <ul>\n                                <li>\n                                    <SubMenuLink to=\"/collection/men/tops\">\n                                        上衣類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/men/shirts\">\n                                        襯衫類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/men/knit\">\n                                        針織衫 / 毛衣\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/men/bottoms\">\n                                        褲裝類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/men/outer\">\n                                        外套類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/men/general\">\n                                        配件類\n                                    </SubMenuLink>\n                                </li>\n                            </ul>\n                        </SubMenuListFlex>\n                        <SubMenuListFlex>\n                            <SubMenuTitle to=\"/collection/women\">\n                                女裝\n                            </SubMenuTitle>\n                            <ul>\n                                <li>\n                                    <SubMenuLink to=\"/collection/women/tops\">\n                                        上衣 / 襯衫\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/women/knit\">\n                                        針織衫 / 毛衣\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/women/bottoms\">\n                                        褲裝類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/women/skirts\">\n                                        裙子類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/women/one_piece\">\n                                        洋裝類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/women/outer\">\n                                        外套類\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"/collection/women/general\">\n                                        配件類\n                                    </SubMenuLink>\n                                </li>\n                            </ul>\n                        </SubMenuListFlex>\n                    </SubMenu>\n                </li>\n                <li>\n                    <MenuLink to=\"#\">特價專區</MenuLink>\n                    <SubMenu>\n                        <SubMenuListBlock>\n                            <ul>\n                                <li>\n                                    <SubMenuLink to=\"#\">\n                                        秋冬女裝新品_7折起\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"#\">\n                                        秋冬男裝新品_7折起\n                                    </SubMenuLink>\n                                </li>\n                                <li>\n                                    <SubMenuLink to=\"#\">\n                                        春夏商品出清_3折起\n                                    </SubMenuLink>\n                                </li>\n                            </ul>\n                        </SubMenuListBlock>\n                    </SubMenu>\n                </li>\n                <li>\n                    <MenuLink to=\"#\">關於我們</MenuLink>\n                </li>\n            </Menu>\n        </MenuNav>\n    );\n};\n","import styled, { keyframes } from 'styled-components';\n\nconst spin_loader = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst LoaderBase = styled.div`\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\tleft: 0;\n\tmargin: auto;\n\tborder: solid #f3f3f3;\n\tborder-top-color: #aaa;\n\tborder-radius: 50%;\n\twidth: 10%;\n\theight: 10%;\n\tanimation: ${spin_loader} 1s linear infinite;\n`;\n\nexport const FullPageLoader = styled(LoaderBase)`\n\tposition: fixed;\n\tborder-width: 8px;\n\twidth: 60px;\n\theight: 60px;\n`;\n\nexport const ImgLoader = styled(LoaderBase)`\n\tposition: absolute;\n\tborder-width: 4px;\n\twidth: 20px;\n\theight: 20px;\n`;\n\nconst Mask = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 10;\n\tbackground-color: ${props => props.theme.color.lightGrey}5;\n`;\n\nexport const Loader = () => {\n\treturn (\n\t\t<Mask>\n\t\t\t<FullPageLoader />\n\t\t</Mask>\n\t);\n};\n","import { useState } from 'react';\nimport { ImgLoader } from './Loader';\n\nexport const Img = ({ image }) => {\n    const [isLoading, setIsLoading] = useState(true);\n\n    const handleImgLoad = () => {\n        setIsLoading(false);\n    };\n\n    return (\n        <>\n            {isLoading && <ImgLoader />}\n            <img src={image.src} alt={image.alt} onLoad={handleImgLoad} />\n        </>\n    );\n};\n","const baseURL = process.env.NODE_ENV === 'production' ? 'https://erika-backend.herokuapp.com' : 'http://localhost:5000'\nconst url = baseURL + '/api/v1'\n\nconst getProductsAPI = (pathname, search) => {\n\n    const Arr = [];\n    search = new URLSearchParams(search);\n    const gender = pathname[0]\n    const category = pathname[1]\n    const genderObj = {\n        men: 'M',\n        women: 'F',\n    }\n\n    if(gender){\n        Arr.push(['_gender', genderObj[gender]])\n    }\n    if(category){\n        Arr.push(['_category', category])\n    }\n\n    if(search.has('size')){\n        const sizes = search.get('size').split(' ').map(size => (\n            ['_size[]', size]\n        ))\n        Arr.push(...sizes)\n    }\n\n    if(search.has('color')){\n        const colors = search.get('color').split(' ').map(size => (\n            ['_color[]', size]\n        ))\n        Arr.push(...colors)\n    }\n\n    if(search.has('price')){\n        const prices = search.get('price').split('-')\n        Arr.push(['_min', prices[0]], ['_max', prices[1]])\n    }\n\n    if(search.has('order')){\n        const order = search.get('order')\n        Arr.push(['_order', order])\n    }\n\n    if(search.has('page')){\n        const page = search.get('page')\n        Arr.push(['_page', page])\n    }\n\n    if(search.has('is_on')){\n        const is_on = search.get('is_on')\n        Arr.push(['_is_on', is_on])\n    }\n\n    if(search.has('is_sale')){\n        const is_sale = search.get('is_sale')\n        Arr.push(['_is_sale', is_sale])\n    }\n\n    const query = new URLSearchParams(Arr);\n\n    return fetch(`${url}/products?${query}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 200){\n            msg = \"取得商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst getProductAPI = id => {\n    return fetch(url + `/products/${id}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 404) {\n            msg = \"無此id對應的商品\";\n        } else if (res.status === 200){\n            msg = \"取得商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst addProductAPI = product => {\n    return fetch(`${url}/products`, {\n        method: 'POST',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(product)\n    })\n    .then(res => {\n        let msg = null;\n        if (res.status === 403) {\n            msg = '缺少必要欄位'\n        } else if (res.status === 409) {\n            msg = \"商品名稱重複\";\n        } else if (res.status === 201){\n            msg = \"新增商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst updateProductAPI = (id, product) => {\n    return fetch(`${url}/products/${id}`, {\n        method: 'PATCH',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(product)\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 200: {\n                msg = \"更新商品成功\";\n                break\n            }\n            case 404: {\n                msg = \"無此id對應的商品\";\n                break\n            }\n            case 409: {\n                msg = \"商品名稱重複\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst deleteProductAPI = id => {\n    return fetch(`${url}/products/${id}`, {\n        method: 'DELETE',\n        headers: {\n            'content-type': 'application/json'\n        }\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 204: {\n                msg = \"刪除商品成功\";\n                return {ok: res.ok, message: msg}\n            }\n            case 404: {\n                msg = \"無此id對應的商品\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })    \n}\n\nconst searchProductAPI = arr => {\n\n    const query = new URLSearchParams(arr);\n\n    return fetch(url + `/product/search?${query}`)\n    .then(res => {\n        let msg = null;\n        if (res.status === 404) {\n            msg = \"目前暫無商品\";\n        } else if (res.status === 200){\n            msg = \"搜尋商品成功\";\n        } else {\n            throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })\n}\n\nconst updatePatternAPI = (id, pattern) => {\n    return fetch(`${url}/product/patterns/${id}`, {\n        method: 'PATCH',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(pattern)\n    })\n    .then(res => {\n        let msg = null;\n        switch (res.status) {\n            case 200: {\n                msg = \"更新存貨數量成功\";\n                return {ok: res.ok, message: msg}\n            }\n            case 403: {\n                msg = \"存貨數量不可為負\";\n                break\n            }\n            case 404: {\n                msg = \"無此id對應的存貨\";\n                break\n            }\n            default: throw new Error(`${res.status} (${res.statusText})`)\n        }\n        console.log(`${res.status} (${msg})`)\n        return res.json().then(data => (\n            {ok: res.ok, message: msg, data: data}\n        ))\n    })\n    .catch(e => {\n        console.log(e.message)\n        return {ok: 0, message: e.message}\n    })    \n}\n\nconst getFeedImagesAPI = () => {\n    return fetch('https://api.unsplash.com/topics/fashion', {\n        method: 'GET',\n        headers: {\n            'Accept-Version': 'v1',\n            'Authorization': `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n        },\n    })\n    .then(res => res.json())\n    .then(data => {\n        const query = new URLSearchParams({\n            topics: data.id,\n            orientation: 'squarish',\n            count: 6,\n        }).toString()\n        return fetch('https://api.unsplash.com/photos/random?' + query, {\n            method: 'GET',\n            headers: {\n                'Accept-Version': 'v1',\n                'Authorization': `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n            },\n        })\n        .then(res => res.json())\n    })\n}\n\nconst uploadImageAPI = file => {\n    const data = new FormData()\n    data.append('image', file)\n    return fetch('https://api.imgur.com/3/image', {\n        method: 'POST',\n        headers: {\n            'Authorization': `Client-ID ${process.env.REACT_APP_IMGUR_KEY}`\n        },\n        body: data\n    }).then(res => res.json())\n}\n\nexport { getProductsAPI, getProductAPI, addProductAPI, updateProductAPI, deleteProductAPI, searchProductAPI, updatePatternAPI, getFeedImagesAPI, uploadImageAPI };","import { createSlice } from '@reduxjs/toolkit'\nimport { getProductAPI } from '../../webAPI/productAPI';\n\nconst initialState = {\n  cart: null, \n  errorMessage: '',\n}\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    setCart: (state, action) => {\n      state.cart = action.payload;\n    },\n    setCartQty: (state, action) => {\n      state.cart.find(item => \n        item.pattern_id === action.payload.pattern_id\n      ).qty = action.payload.qty\n    },\n    deleteCart: (state, action) => {\n      state.cart = state.cart.filter((item, index) => index !== action.payload)\n    },\n    addCart: (state, action) => {\n      state.cart.push(action.payload);\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n  },\n})\n\nexport const { \n  setCart,\n  setCartQty,\n  addCart,\n  deleteCart,\n  setErrorMessage\n} = cartSlice.actions\n\n\nexport const getCartStorage = () => dispatch => {\n  const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n  dispatch(setCartStorage(cartItem))\n}\n\nconst getProductInfo = item => {\n  return getProductAPI(item.id)\n    .then(result => {\n      if(!result.ok) {\n        item.error = true;\n        const msg = result.message === '無此id對應的商品' ? 'localStorage 的 cart 裡面包含已被管理者刪除的商品' : result.message\n        throw new Error(msg)\n      }\n      return result.data\n    })\n    .then(product => {\n      item.name = product.product.name;\n      const itemPattern = product.patterns.find(pattern => (pattern.id === item.pattern_id))\n      const group = product.product.Category.group.slice(0, -1)\n      item.size = itemPattern[group].size;\n      item.color = itemPattern.Color.name;\n      item.total = itemPattern.total;\n      item.price_standard = product.product.price_standard;\n      item.price_sale = product.product.price_sale;\n      item.is_on = product.product.is_on;\n      item.is_sale = product.product.is_sale;\n      const mainImg = product.product.Images.find(img => img.is_main)\n      item.src = mainImg.src;\n      item.alt = mainImg.alt;\n    })\n    .catch(e => console.log(e.message))\n}\n\nexport const setCartStorage = items => dispatch => {\n  Promise.all(\n    items.map(async item => {\n        await getProductInfo(item)\n        return item\n    })\n  ).then(items => {\n    dispatch(setCart(items.filter(item => !item.error)))\n  })\n}\n\nexport const addCartStorage = item => dispatch => {\n  getProductInfo(item)\n    .then(() => dispatch(addCart(item)))\n}\n\nexport default cartSlice.reducer","import { useDispatch } from \"react-redux\";\nimport { deleteCart, setCartQty } from \"../features/cart/cartSlice\";\n\nexport default function useCart (item) {\n\n    const dispatch = useDispatch()\n\n    const handleDeleteCart = index => () => {\n        dispatch(deleteCart(index))\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        cartLocal = cartLocal.filter((item, i) => i !== index)\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const handleQtyChange = e => {\n        if(!e.target.value) return\n        dispatch(setCartQty({pattern_id: item.pattern_id, qty: parseInt(e.target.value)}))\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        cartLocal = cartLocal.map(i => {\n            if(i.pattern_id === item.pattern_id){\n                i.qty = parseInt(e.target.value)\n            }\n            return i\n        })\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const handleBtnClick = (direction) => {\n        let cartLocal = JSON.parse(localStorage.getItem('cart')) || [];\n        if(direction === 'inc') {\n            dispatch(setCartQty({pattern_id: item.pattern_id, qty: item.qty+1}))\n            cartLocal = cartLocal.map(i => {\n                if(i.pattern_id === item.pattern_id){\n                    i.qty += 1\n                }\n                return i\n            })\n        }\n        if(direction === 'dec') {\n            if(item.qty<=1) return \n            dispatch(setCartQty({pattern_id: item.pattern_id, qty: item.qty-1}))\n            cartLocal = cartLocal.map(i => {\n                if(i.pattern_id === item.pattern_id){\n                    i.qty -= 1\n                }\n                return i\n            })\n        }\n        localStorage.setItem('cart', JSON.stringify(cartLocal))\n    }\n\n    const getTotal = cart => {\n        if(cart.length === 0) return\n        return cart.map(item => \n            (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n        ).reduce((acc, cur) => acc + cur)\n    }\n\n    const hasError = errorMessage => {\n        if(!errorMessage.length) return false\n        return errorMessage.some(err => err)\n    }\n\n    return {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick,\n        getTotal,\n        hasError\n    }\n}","import styled from 'styled-components';\nimport { useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShoppingCart, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\n\nimport { Span, H4, Btn, fontTheme, TextBtn } from '../../constants/style';\n\nimport { Img } from '../Img';\nimport useCart from '../../hooks/useCart';\n\nimport { setCartStorage } from '../../features/cart/cartSlice';\n\nconst MenuBtn = styled.div`\n    position: relative;\n    & > input {\n        display: none;\n        &:checked {\n            & ~ div {\n                display: flex;\n            }\n            & + label {\n                display: block;\n            }\n        }\n    }\n    & > button {\n        &:hover span {\n            cursor: pointer;\n        }\n        & span {\n            position: absolute;\n            width: 15px;\n            line-height: 15px;\n            vertical-align: middle;\n            top: -5px;\n            right: -5px;\n            font-size: ${props => props.theme.fontSize.bodySmall};\n            background-color: ${props => props.theme.color.black};\n            color: ${props => props.theme.color.white};\n            border-radius: 50%;\n        }\n    }\n`;\n\nconst CartContainer = styled.div`\n    position: absolute;\n    top: calc(35px + calc(28.5px / 2));\n    right: 0;\n    width: 50vw;\n    max-width: 300px;\n    background-color: ${props => props.theme.color.white};\n    border: 1px solid ${props => props.theme.color.lightGrey};\n    display: none;\n    flex-direction: column;\n    align-items: center;\n    & > ul {\n        max-height: 240px;\n        overflow: auto;\n    }\n    & > h4 {\n        padding: 20px;\n    }\n`;\n\nconst CartCard = styled.li`\n    display: flex;\n    align-items: flex-start;\n    text-align: left;\n    & > button {\n        padding: 5px;\n        & svg {\n            font-size: ${props => props.theme.fontSize.body};\n            color: ${props => props.theme.color.black};\n        }\n    }\n`;\n\nconst CartImage = styled.div`\n    margin: 5px;\n    width: 30%;\n    position: relative;\n    & img {\n        width: 100%;\n    }\n`;\nconst CartInfo = styled.div`\n    padding: 5px;\n    width: 70%;\n    ${fontTheme.span}\n    font-weight: ${props => props.theme.fontWeight.l};\n    & p {\n        font-size: ${props => props.theme.fontSize.bodySmall};\n        font-weight: ${props => props.theme.fontWeight.m};\n    }\n    & > span {\n        color: ${props => props.theme.color.alert};\n        font-weight: ${props => props.theme.fontWeight.l};\n        & > span {\n            text-decoration: line-through;\n            color: ${props => props.theme.color.grey};\n            margin-right: 3px;\n        }\n    }\n`;\n\nconst ToCartBtn = styled(TextBtn)`\n    margin: 10px;\n`;\n\nconst Cover = styled.label`\n    z-index: 0;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    opacity: 0;\n    display: none;\n    // background-color: #aaaa;\n`;\n\nexport const Cart = () => {\n    const dispatch = useDispatch();\n    const cart = useSelector(state => state.cart.cart);\n\n    const cartDOM = useRef();\n    const { pathname, search } = useLocation();\n\n    useEffect(() => {\n        const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n        dispatch(setCartStorage(cartItem));\n    }, [dispatch]);\n\n    useEffect(() => {\n        cartDOM.current.checked = false;\n    }, [pathname, search]);\n\n    const { handleDeleteCart } = useCart();\n\n    return (\n        <MenuBtn>\n            <Btn>\n                <label htmlFor=\"cart\">\n                    <FontAwesomeIcon icon={faShoppingCart} />\n                    {cart && cart.length > 0 && (\n                        <Span>\n                            {cart.reduce((acc, cur) => acc + cur.qty, 0)}\n                        </Span>\n                    )}\n                </label>\n            </Btn>\n            <input type=\"checkbox\" id=\"cart\" ref={cartDOM} />\n            <Cover htmlFor=\"cart\" />\n            <CartContainer>\n                {cart ? (\n                    <>\n                        {cart.length > 0 ? (\n                            <ul>\n                                {cart.map((item, i) => (\n                                    <CartCard key={item.pattern_id}>\n                                        <CartImage>\n                                            <Link to={`/product/${item.id}`}>\n                                                <Img\n                                                    image={{\n                                                        src: item.src,\n                                                        alt: item.alt,\n                                                    }}\n                                                />\n                                            </Link>\n                                        </CartImage>\n                                        <CartInfo>\n                                            {item.qty} x {item.name}\n                                            <p>\n                                                尺寸: {item.size}, 顏色:{' '}\n                                                {item.color}\n                                            </p>\n                                            {item.is_sale ? (\n                                                <Span>\n                                                    <Span>\n                                                        ${item.price_standard}\n                                                    </Span>\n                                                    ${item.price_sale}\n                                                </Span>\n                                            ) : (\n                                                <>${item.price_standard}</>\n                                            )}\n                                        </CartInfo>\n                                        <button onClick={handleDeleteCart(i)}>\n                                            <FontAwesomeIcon\n                                                icon={faTrashAlt}\n                                            />\n                                        </button>\n                                    </CartCard>\n                                ))}\n                            </ul>\n                        ) : (\n                            <H4>購物車內目前沒有商品</H4>\n                        )}\n                        {cart.length > 0 ? (\n                            <Link to=\"/cart\">\n                                <ToCartBtn $active={true}>前往結帳</ToCartBtn>\n                            </Link>\n                        ) : (\n                            <ToCartBtn $active={false}>前往結帳</ToCartBtn>\n                        )}\n                    </>\n                ) : (\n                    <H4>商品載入中...</H4>\n                )}\n            </CartContainer>\n        </MenuBtn>\n    );\n};\n","export default __webpack_public_path__ + \"static/media/logo.2f43df1d.png\";","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nimport logo from '../assets/logo.png';\nimport { MEDIA_QUERY } from '../constants/style';\n\nconst LogoContainer = styled.h1`\n    display: block;\n    height: 70px;\n    text-align: center;\n    ${MEDIA_QUERY.xs} {\n        display: none;\n    }\n`;\n\nexport const Logo = () => {\n    return (\n        <LogoContainer>\n            <Link to=\"/\">\n                <img src={logo} height=\"70px\" alt=\"logo\" />\n            </Link>\n        </LogoContainer>\n    );\n};\n","import styled from 'styled-components';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars, faUser, faHeart } from '@fortawesome/free-solid-svg-icons';\n\nimport { Btn, TextBtn } from '../../constants/style';\nimport { MEDIA_QUERY } from '../../constants/style';\n\nimport { Nav, MobileNav } from './Nav';\nimport { Cart } from './Cart';\nimport { Logo } from '../Logo';\nimport { useRef } from 'react';\nimport { useEffect } from 'react';\n\nconst HeaderWrapper = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    background-color: ${props => props.theme.color.white};\n    box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n`;\n\nconst HeaderContainer = styled.div`\n    height: 70px;\n    width: 90%;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: relative;\n    & > h1 {\n        display: none;\n        position: absolute;\n        left: 50%;\n        transform: translateX(-50%);\n        ${MEDIA_QUERY.main} {\n            display: block;\n        }\n        ${MEDIA_QUERY.xs} {\n            display: none;\n        }\n    }\n`;\n\nconst HeaderLeft = styled.div`\n    display: flex;\n    align-items: center;\n    ${MEDIA_QUERY.main} {\n        & > h1 {\n            display: none;\n        }\n    }\n`;\n\nconst HeaderRight = styled.div`\n    display: flex;\n    align-items: center;\n    & > a {\n        margin-right: 30px;\n        ${MEDIA_QUERY.main} {\n            display: none;\n        }\n    }\n`;\n\nconst BurgerBtn = styled(Btn)`\n    display: none;\n    ${MEDIA_QUERY.main} {\n        display: block;\n    }\n`;\n\nconst BurgerInput = styled.input`\n    ${MEDIA_QUERY.main} {\n        display: block;\n    }\n    position: absolute;\n    left: 0;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    & ~ nav {\n        & > ul {\n            left: -380px;\n            transition: 0.25s;\n        }\n    }\n    &:checked ~ nav {\n        & > ul {\n            left: 0;\n        }\n    }\n    &:checked + button {\n        & label::after {\n            display: none;\n            content: '';\n            width: 100%;\n            height: 100vh;\n            position: fixed;\n            left: 0;\n            top: 0;\n            z-index: 11;\n            background: rgba(0, 0, 0, 0.7);\n            ${MEDIA_QUERY.main} {\n                display: block;\n            }\n        }\n    }\n`;\n\nconst MenuBtnGroup = styled.div`\n    display: flex;\n    & > div {\n        ${MEDIA_QUERY.main} {\n            &:nth-child(-n + 2) {\n                display: none;\n            }\n        }\n        & + div {\n            margin-left: 30px;\n        }\n    }\n`;\n\nconst ToAdminBtn = styled(TextBtn)``;\n\nexport default function Header() {\n    const navDOM = useRef();\n    const { pathname, search } = useLocation();\n\n    const style = {\n        height: '70px',\n        position: 'relative',\n        zIndex: '10',\n    };\n\n    useEffect(() => {\n        navDOM.current.checked = false;\n    }, [pathname, search]);\n\n    return (\n        <header style={style}>\n            <HeaderWrapper>\n                <HeaderContainer>\n                    <HeaderLeft>\n                        <BurgerInput id=\"nav\" type=\"checkbox\" ref={navDOM} />\n                        <BurgerBtn>\n                            <label htmlFor=\"nav\">\n                                <FontAwesomeIcon icon={faBars} />\n                            </label>\n                        </BurgerBtn>\n                        <MobileNav />\n                        <Logo />\n                        <Nav />\n                    </HeaderLeft>\n                    <Logo />\n                    <HeaderRight>\n                        <Link to=\"/admin/product\">\n                            <ToAdminBtn $white $active>\n                                管理後台\n                            </ToAdminBtn>\n                        </Link>\n                        <MenuBtnGroup>\n                            <div>\n                                <Btn>\n                                    <Link to=\"#\">\n                                        <FontAwesomeIcon icon={faUser} />\n                                    </Link>\n                                </Btn>\n                            </div>\n                            <div>\n                                <Btn>\n                                    <Link to=\"#\">\n                                        <FontAwesomeIcon icon={faHeart} />\n                                    </Link>\n                                </Btn>\n                            </div>\n                            <Cart />\n                        </MenuBtnGroup>\n                    </HeaderRight>\n                </HeaderContainer>\n            </HeaderWrapper>\n        </header>\n    );\n}\n","import Header from './Header'\nexport default Header","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport {\n    MEDIA_QUERY,\n    Btn,\n    H5,\n    fontTheme,\n    LinkedTag,\n} from '../../constants/style';\n\nimport { Logo } from '../Logo';\n\nconst FooterWrapper = styled.div`\n    background-color: ${props => props.theme.color.light_primary}5;\n`;\n\nconst FooterContainer = styled.div`\n    width: 90%;\n    margin: 0 auto;\n    padding: 20px 0;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    ${MEDIA_QUERY.s} {\n        display: block;\n    }\n`;\n\nconst BottomWrapper = styled.div`\n    background-color: #222;\n`;\n\nconst BottomContainer = styled.div`\n    width: 90%;\n    margin: 0 auto;\n    & h5 {\n        text-align: center;\n        color: ${props => props.theme.color.white};\n        padding: 10px 0;\n    }\n`;\n\nconst FooterLeft = styled.ul`\n    display: flex;\n    justify-content: center;\n    ${MEDIA_QUERY.xs} {\n        display: block;\n    }\n`;\n\nconst FooterRight = styled.div``;\n\nconst LinkBtn = styled(Btn)``;\n\nconst LinkBtnGroup = styled.div`\n    padding: 10px 0;\n    display: flex;\n    justify-content: center;\n    & button + button {\n        margin-left: 20px;\n    }\n`;\n\nconst LinkedList = styled.li`\n    & + li {\n        margin-left: 40px;\n    }\n    ${MEDIA_QUERY.xs} {\n        & + li {\n            margin: 0;\n        }\n    }\n\n    & > ul {\n        padding: 10px 0;\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        flex-wrap: wrap;\n    }\n\n    & a {\n        color: ${props => props.theme.color.black};\n    }\n`;\n\nconst ListTitle = styled(LinkedTag)`\n    ${fontTheme.h4}\n    font-weight: ${props => props.theme.fontWeight.xl};\n    display: inline-block;\n    padding: 15px 5px;\n    border-bottom: 1px solid #ddd;\n`;\n\nconst ListItem = styled(LinkedTag)`\n    ${fontTheme.p}\n    display: inline-block;\n    padding: 5px 5px;\n`;\n\nexport default function Footer() {\n    return (\n        <footer>\n            <FooterWrapper>\n                <FooterContainer>\n                    <FooterRight>\n                        <Logo />\n                        <LinkBtnGroup>\n                            <LinkBtn>\n                                <Link to=\"#\">\n                                    <FontAwesomeIcon\n                                        icon={['fab', 'facebook']}\n                                    />\n                                </Link>\n                            </LinkBtn>\n                            <LinkBtn>\n                                <Link to=\"#\">\n                                    <FontAwesomeIcon\n                                        icon={['fab', 'instagram']}\n                                    />\n                                </Link>\n                            </LinkBtn>\n                            <LinkBtn>\n                                <Link to=\"#\">\n                                    <FontAwesomeIcon\n                                        icon={['fab', 'twitter']}\n                                    />\n                                </Link>\n                            </LinkBtn>\n                        </LinkBtnGroup>\n                    </FooterRight>\n                    <FooterLeft>\n                        <LinkedList>\n                            <ListTitle to=\"#\">會員中心</ListTitle>\n                            <ul>\n                                <li>\n                                    <ListItem to=\"#\">會員資料管理</ListItem>\n                                </li>\n                                <li>\n                                    <ListItem to=\"#\">歷史訂單</ListItem>\n                                </li>\n                                <li>\n                                    <ListItem to=\"#\">願望清單</ListItem>\n                                </li>\n                            </ul>\n                        </LinkedList>\n                        <LinkedList>\n                            <ListTitle to=\"#\">關於我們</ListTitle>\n                            <ul>\n                                <li>\n                                    <ListItem to=\"#\">隱私權條款</ListItem>\n                                </li>\n                                <li>\n                                    <ListItem to=\"#\">免責聲明</ListItem>\n                                </li>\n                                <li>\n                                    <ListItem to=\"#\">退貨政策</ListItem>\n                                </li>\n                                <li>\n                                    <ListItem to=\"#\">FAQ</ListItem>\n                                </li>\n                            </ul>\n                        </LinkedList>\n                    </FooterLeft>\n                </FooterContainer>\n            </FooterWrapper>\n            <BottomWrapper>\n                <BottomContainer>\n                    <H5>Copyright © 2021 TPdidilong All Rights Reserved</H5>\n                </BottomContainer>\n            </BottomWrapper>\n        </footer>\n    );\n}\n","import Footer from './Footer'\nexport default Footer","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons';\n\nimport useCarousel from '../../hooks/useCarousel';\n\nconst BannerWrapper = styled.div`\n\twidth: 100%;\n\toverflow: hidden;\n\tposition: relative;\n`;\n\nconst BannerContainer = styled.div`\n\tdisplay: flex;\n\t& img {\n\t\twidth: 100vw;\n\t}\n`;\n\nconst MoveBtn = styled.button`\n\theight: 50px;\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tmargin: auto 0;\n\tz-index: 1;\n\t& svg {\n\t\tpadding: 5px 10px;\n\t\tfont-size: ${props => props.theme.fontSize.svgLarge};\n\t\tcolor: ${props => props.theme.color.light_primary}4;\n\t\ttransition: 0.2s;\n\t\tfilter: drop-shadow(\n\t\t\t0px 0px 0.75rem ${props => props.theme.color.black}\n\t\t);\n\t\t&:hover {\n\t\t\tcolor: ${props => props.theme.color.light_primary}6;\n\t\t}\n\t\t&:active ~ div {\n\t\t\ttransition: 0.25s;\n\t\t\ttransform: translateX(-400vw);\n\t\t}\n\t}\n`;\n\nconst LeftBtn = styled(MoveBtn)`\n\tleft: 2.5%;\n\t& svg {\n\t\ttransform: rotate(90deg);\n\t}\n`;\n\nconst RightBtn = styled(MoveBtn)`\n\tright: 2.5%;\n\t& svg {\n\t\ttransform: rotate(270deg);\n\t}\n`;\n\nconst DotBtn = styled.button`\n\twidth: 12px;\n\theight: 12px;\n\tbackground-color: ${props => props.theme.color.light_primary}6;\n\tdisplay: block;\n\tborder-radius: 50%;\n\tposition: relative;\n\ttransition: 0.25s;\n`;\n\nconst DotContainer = styled.div`\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tmargin: 0 auto;\n\tz-index: 1;\n\twidth: 50px;\n\t& ul {\n\t\tmargin: 0 10px 10px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\t& input {\n\t\tdisplay: none;\n\t\t&:checked + button {\n\t\t\tbackground-color: ${props => props.theme.color.light_primary}d;\n\t\t}\n\t}\n`;\n\nconst ArrowContainer = styled.div``;\n\nconst BannerImage = ({ page, handleClick }) => {\n\treturn (\n\t\t<Link to={`#${page}`} onClick={handleClick}>\n\t\t\t<img\n\t\t\t\tsrc={`https://picsum.photos/970/250?random=${page}`}\n\t\t\t\talt={`BannerImage${page}`}\n\t\t\t/>\n\t\t</Link>\n\t);\n};\n\nconst Dot = ({ currentPage, handleRadioChange, handleRadioClick }) => {\n\treturn (\n\t\t<DotContainer>\n\t\t\t<ul>\n\t\t\t\t{[1, 2].map(page => (\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tname=\"banner\"\n\t\t\t\t\t\t\t\tvalue={`page${page}`}\n\t\t\t\t\t\t\t\tchecked={currentPage === `page${page}`}\n\t\t\t\t\t\t\t\tonChange={handleRadioChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<DotBtn onClick={handleRadioClick(page)} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</DotContainer>\n\t);\n};\n\nconst Arrow = ({ handleButtonClick }) => {\n\treturn (\n\t\t<ArrowContainer>\n\t\t\t<LeftBtn onClick={handleButtonClick('backward')}>\n\t\t\t\t<FontAwesomeIcon icon={faChevronDown} />\n\t\t\t</LeftBtn>\n\t\t\t<RightBtn onClick={handleButtonClick('forward')}>\n\t\t\t\t<FontAwesomeIcon icon={faChevronDown} />\n\t\t\t</RightBtn>\n\t\t</ArrowContainer>\n\t);\n};\n\nconst Banner = ({\n\tbanner,\n\thandleMouseDown,\n\thandleMouseMove,\n\thandleMouseUp,\n\thandleClick,\n}) => {\n\tconst bannerStyle = {\n\t\ttransform: 'translateX(-200vw)',\n\t\ttransition: '0s',\n\t};\n\n\treturn (\n\t\t<BannerContainer\n\t\t\tref={banner}\n\t\t\tstyle={bannerStyle}\n\t\t\tonMouseDown={handleMouseDown}\n\t\t\tonMouseMove={handleMouseMove}\n\t\t\tonMouseUp={handleMouseUp}\n\t\t>\n\t\t\t{Array(3)\n\t\t\t\t.fill([1, 2])\n\t\t\t\t.flat()\n\t\t\t\t.map(page => (\n\t\t\t\t\t<BannerImage {...{ page, handleClick }} />\n\t\t\t\t))}\n\t\t</BannerContainer>\n\t);\n};\n\nexport const Carousel = () => {\n\tconst {\n\t\tbanner,\n\t\tcurrentPage,\n\t\thandleMouseDown,\n\t\thandleMouseMove,\n\t\thandleMouseUp,\n\t\thandleMouseLeave,\n\t\thandleMouseOver,\n\t\thandleClick,\n\t\thandleButtonClick,\n\t\thandleRadioChange,\n\t\thandleRadioClick,\n\t} = useCarousel();\n\n\treturn (\n\t\t<BannerWrapper\n\t\t\tonMouseLeave={handleMouseLeave}\n\t\t\tonMouseOver={handleMouseOver}\n\t\t>\n\t\t\t<Dot {...{ currentPage, handleRadioChange, handleRadioClick }} />\n\t\t\t<Arrow {...{ handleButtonClick }} />\n\t\t\t<Banner\n\t\t\t\t{...{\n\t\t\t\t\tbanner,\n\t\t\t\t\thandleMouseDown,\n\t\t\t\t\thandleMouseMove,\n\t\t\t\t\thandleMouseUp,\n\t\t\t\t\thandleClick,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</BannerWrapper>\n\t);\n};\n","import { useState, useEffect, useRef } from 'react';\n\nexport default function useCarousel() {\n    const [W, setW] = useState(0);\n    const [currentPage, setCurrentPage] = useState('page1');\n    const [isDragging, setIsDragging] = useState(false);\n    const [isClicked, setIsClicked] = useState(false);\n    const [isHovered, setIsHovered] = useState(false);\n\n    const X = useRef(null);\n    const banner = useRef(null);\n    const timeoutID = useRef(null);\n\n    useEffect(() => {\n        W % 2 ? setCurrentPage('page2') : setCurrentPage('page1');\n    }, [W, setCurrentPage]);\n\n    useEffect(() => {\n        if (!isHovered) {\n            timeoutID.current = setTimeout(() => {\n                banner.current.style.transition = '0s';\n                banner.current.style.transform = `translateX(${\n                    -100 * ((W % 2) + 3) + 100\n                }vw)`;\n                setTimeout(() => {\n                    banner.current.style.transition = '.5s';\n                    banner.current.style.transform = `translateX(${\n                        -100 * ((W % 2) + 3)\n                    }vw)`;\n                    setW((W % 2) + 1);\n                });\n            }, 5000);\n        }\n        if (isHovered) clearTimeout(timeoutID.current);\n        return () => clearTimeout(timeoutID.current);\n    }, [banner, W, isHovered]);\n\n    const handleMouseDown = e => {\n        e.preventDefault();\n        X.current = e.pageX;\n        setIsDragging(true);\n        setIsClicked(true);\n    };\n    const handleMouseMove = e => {\n        e.preventDefault();\n        setIsClicked(false);\n        if (isDragging) banner.current.style.transition = '0s';\n        if (X.current && isDragging && e.pageX - X.current < 0) {\n            banner.current.style.transform = `translateX(calc(${\n                -100 * ((W % 2) + 3) + 100\n            }vw + ${e.pageX - X.current}px))`;\n        }\n        if (X.current && isDragging && e.pageX - X.current > 0) {\n            banner.current.style.transform = `translateX(calc(${\n                -100 * ((W % 2) + 3) - 100\n            }vw + ${e.pageX - X.current}px))`;\n        }\n    };\n    const handleMouseUp = e => {\n        if (!isClicked && isDragging) handleTransform(e);\n        setIsDragging(false);\n    };\n    const handleMouseLeave = e => {\n        setIsHovered(false);\n        if (isDragging) handleTransform(e);\n        setIsDragging(false);\n    };\n\n    const handleTransform = e => {\n        banner.current.style.transition = '.25s';\n        if (e.pageX - X.current < 0 && e.pageX - X.current >= -100) {\n            return (banner.current.style.transform = `translateX(${\n                -100 * ((W % 2) + 3) + 100\n            }vw)`);\n        }\n        if (e.pageX - X.current > 0 && e.pageX - X.current <= 100) {\n            return (banner.current.style.transform = `translateX(${\n                -100 * ((W % 2) + 3) - 100\n            }vw)`);\n        }\n        banner.current.style.transform = `translateX(${\n            -100 * ((W % 2) + 3)\n        }vw)`;\n        if (e.pageX - X.current < -100) return setW((W % 2) + 1);\n        if (e.pageX - X.current > 100) return setW((W % 2) - 1);\n    };\n\n    const handleMouseOver = e => {\n        setIsHovered(true);\n    };\n\n    const handleClick = e => {\n        if (!isClicked) e.preventDefault();\n    };\n\n    const handleButtonClick = direction => () => {\n        banner.current.style.transition = '0s';\n        if (direction === 'backward') {\n            banner.current.style.transform = `translateX(${\n                -100 * ((W % 2) + 3) - 100\n            }vw)`;\n        }\n        if (direction === 'forward') {\n            banner.current.style.transform = `translateX(${\n                -100 * ((W % 2) + 3) + 100\n            }vw)`;\n        }\n        setTimeout(() => {\n            banner.current.style.transition = '.25s';\n            banner.current.style.transform = `translateX(${\n                -100 * ((W % 2) + 3)\n            }vw)`;\n            if (direction === 'forward') return setW((W % 2) + 1);\n            if (direction === 'backward') return setW((W % 2) - 1);\n        });\n    };\n\n    const handleRadioChange = e => {\n        setCurrentPage(e.target.value);\n    };\n\n    const handleRadioClick = page => () => {\n        banner.current.style.transition = '0s';\n        if (page === 1 && currentPage === 'page2') {\n            banner.current.style.transform = `translateX(-300vw)`;\n        }\n        if (page === 2 && currentPage === 'page1') {\n            banner.current.style.transform = `translateX(-200vw)`;\n        }\n        setTimeout(() => {\n            banner.current.style.transition = '.25s';\n            if (page === 1 && currentPage === 'page2') {\n                banner.current.style.transform = `translateX(-200vw)`;\n                setW((W % 2) - 1);\n            }\n            if (page === 2 && currentPage === 'page1') {\n                banner.current.style.transform = `translateX(-300vw)`;\n                setW((W % 2) + 1);\n            }\n        });\n    };\n\n    return {\n        currentPage,\n        banner,\n\n        handleMouseDown,\n        handleMouseMove,\n        handleMouseUp,\n        handleMouseLeave,\n        handleMouseOver,\n        handleClick,\n        handleButtonClick,\n        handleRadioChange,\n        handleRadioClick,\n    };\n}\n","export default __webpack_public_path__ + \"static/media/arrival_female.82ff7752.jpeg\";","export default __webpack_public_path__ + \"static/media/arrival_male.2de499ab.jpeg\";","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport arrival_female_img from '../../assets/arrival_female.jpeg';\nimport arrival_male_img from '../../assets/arrival_male.jpeg';\nimport { MEDIA_QUERY } from '../../constants/style';\n\nconst ArrivalWrapper = styled.div``;\nconst ArrivalContainer = styled.div`\n\twidth: 90%;\n\tmargin: 0 auto;\n\tpadding-top: 40px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\t${MEDIA_QUERY.s} {\n\t\tflex-direction: column;\n\t\t& > div {\n\t\t\tmargin: 10px 0;\n\t\t}\n\t}\n`;\n\nconst ArrivalItem = styled.div`\n\twidth: 50%;\n\tbox-sizing: border-box;\n\tmargin: 10px;\n\tbackground-color: ${props => props.theme.color.lightGrey};\n\tbox-shadow: 1px 1px 5px ${props => props.theme.color.lightGrey};\n\tposition: relative;\n\toverflow: hidden;\n\n\t&:hover img {\n\t\ttransform: scale(1.1);\n\t}\n\t& img {\n\t\twidth: 100%;\n\t\ttransition: 0.5s;\n\t}\n\t${MEDIA_QUERY.s} {\n\t\twidth: 100%;\n\t}\n`;\n\nconst TitleWrapper = styled.div`\n\tposition: absolute;\n\twidth: 50%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 1;\n`;\n\nconst TitleContainer = styled.div`\n\ttext-align: center;\n\t& hr {\n\t\tmargin: 15px 0;\n\t\tborder: 1px solid ${props => props.theme.color.lightGrey};\n\t}\n\t& h4 {\n\t\tfont-size: ${props => props.theme.fontSize.bannerLarge};\n\t\tfont-family: impact;\n\t\tcolor: ${props => props.theme.color.black};\n\t}\n\t& p {\n\t\tfont-size: ${props => props.theme.fontSize.svgLarge};\n\t\tfont-weight: ${props => props.theme.fontWeight.xxl};\n\t\tcolor: ${props => props.theme.color.black};\n\t\tline-height: 1.5em;\n\t}\n\t${MEDIA_QUERY.main} {\n\t\t& hr {\n\t\t\tmargin: 7px 0;\n\t\t}\n\t\t& h4 {\n\t\t\tfont-size: ${props => props.theme.fontSize.bannerMedium};\n\t\t}\n\t\t& p {\n\t\t\tfont-size: ${props => props.theme.fontSize.svg};\n\t\t}\n\t}\n\t${MEDIA_QUERY.m} {\n\t\t& hr {\n\t\t\tmargin: 5px 0;\n\t\t}\n\t\t& h4 {\n\t\t\tfont-size: ${props => props.theme.fontSize.h2};\n\t\t}\n\t\t& p {\n\t\t\tfont-size: ${props => props.theme.fontSize.h3};\n\t\t}\n\t}\n\t${MEDIA_QUERY.xs} {\n\t\t& hr {\n\t\t\tmargin: 5px 0;\n\t\t}\n\t\t& h4 {\n\t\t\tfont-size: ${props => props.theme.fontSize.h3};\n\t\t}\n\t\t& p {\n\t\t\tfont-size: ${props => props.theme.fontSize.body};\n\t\t}\n\t}\n`;\n\nexport const Arrival = () => {\n\treturn (\n\t\t<ArrivalWrapper>\n\t\t\t<ArrivalContainer>\n\t\t\t\t<ArrivalItem>\n\t\t\t\t\t<Link to=\"#\">\n\t\t\t\t\t\t<TitleWrapper>\n\t\t\t\t\t\t\t<TitleContainer>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h4>New</h4>\n\t\t\t\t\t\t\t\t\t<h4>Arrival</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<p>女裝新品</p>\n\t\t\t\t\t\t\t</TitleContainer>\n\t\t\t\t\t\t</TitleWrapper>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={arrival_female_img}\n\t\t\t\t\t\t\talt=\"arrival_female_img\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Link>\n\t\t\t\t</ArrivalItem>\n\t\t\t\t<ArrivalItem>\n\t\t\t\t\t<Link to=\"#\">\n\t\t\t\t\t\t<TitleWrapper>\n\t\t\t\t\t\t\t<TitleContainer>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h4>New</h4>\n\t\t\t\t\t\t\t\t\t<h4>Arrival</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<p>男裝新品</p>\n\t\t\t\t\t\t\t</TitleContainer>\n\t\t\t\t\t\t</TitleWrapper>\n\t\t\t\t\t\t<img src={arrival_male_img} alt=\"arrival_male_img\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</ArrivalItem>\n\t\t\t</ArrivalContainer>\n\t\t</ArrivalWrapper>\n\t);\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { H4, P } from '../constants/style';\nimport {\n    faCartPlus,\n    faShoppingCart,\n    faHeart as fasHeart,\n} from '@fortawesome/free-solid-svg-icons';\nimport { faHeart } from '@fortawesome/free-regular-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { MEDIA_QUERY } from '../constants/style';\n\nconst ProductCard = styled.section`\n    padding: 10px;\n    box-sizing: border-box;\n    & a {\n        text-decoration: none;\n    }\n    & img {\n        width: 100%;\n        height: 100%;\n    }\n    & h4 {\n        padding: 10px 0;\n    }\n`;\n\nconst ImageContainer = styled.div`\n    position: relative;\n    aspect-ratio: 1;\n    & a {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 1;\n    }\n    &:hover > div:last-child {\n        background-color: ${props => props.theme.color.black}5;\n        & > button {\n            &:nth-child(1) {\n                left: -80px;\n            }\n            &:nth-child(2) {\n                right: -80px;\n            }\n        }\n    }\n`;\n\nconst ImageMask = styled.div`\n    background-color: transparent;\n    transition: background-color 0.3s;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n    & > button {\n        z-index: 2;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n        &:nth-child(1) {\n            left: -400px;\n            transition: left 0.3s;\n        }\n        &:nth-child(2) {\n            right: -400px;\n            transition: right 0.3s 0.05s;\n        }\n    }\n`;\n\nconst Btn = styled.button`\n    width: 60px;\n    height: 60px;\n    background-color: ${props => props.theme.color.lightGrey}a;\n    border-radius: 50%;\n    display: block;\n\n    &:hover {\n        bottom: 4px;\n    }\n    &:active {\n        top: 2px;\n    }\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    & svg {\n        font-size: ${props => props.theme.fontSize.svgLarge};\n        color: ${props => props.theme.color.grey};\n    }\n`;\n\nconst ProductPrice = styled(P)`\n    & span {\n        padding: 0 5px;\n        &:nth-child(1) {\n            color: ${props => props.theme.color.grey};\n            font-size: ${props => props.theme.fontSize.body};\n            text-decoration: line-through;\n        }\n        &:nth-child(2) {\n            color: ${props => props.theme.color.alert};\n        }\n    }\n`;\n\nconst ProductReminder = styled.div`\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    & span {\n        display: inline-block;\n        width: 50px;\n        color: ${props => props.theme.color.white};\n        font-weight: ${props => props.theme.fontWeight.xl};\n        font-size: ${props => props.theme.fontSize.body};\n        border-radius: 5px;\n        & + span {\n            margin-left: 5px;\n        }\n        ${MEDIA_QUERY.s} {\n            width: 40px;\n            font-size: ${props => props.theme.fontSize.bodySmall};\n        }\n    }\n`;\n\nconst ProductReminderSale = styled.span`\n    background-color: ${props => props.theme.color.alert};\n`;\nconst ProductReminderNew = styled.span`\n    background-color: ${props => props.theme.color.black};\n`;\n\nexport const TestProductCards = () => {\n    return (\n        <>\n            <ProductCard>\n                <div>\n                    <ImageContainer>\n                        <Link to=\"#\" />\n                        <img\n                            src=\"https://picsum.photos/280/280?random=1\"\n                            alt=\"001\"\n                        />\n                        <ProductReminder>\n                            <ProductReminderSale>SALE</ProductReminderSale>\n                            <ProductReminderNew>NEW</ProductReminderNew>\n                        </ProductReminder>\n                        <ImageMask>\n                            <Btn>\n                                <FontAwesomeIcon icon={faCartPlus} />\n                            </Btn>\n                            <Btn>\n                                <FontAwesomeIcon icon={fasHeart} />\n                            </Btn>\n                        </ImageMask>\n                    </ImageContainer>\n                    <Link to=\"#\">\n                        <H4>商品001</H4>\n                    </Link>\n                </div>\n                <ProductPrice>\n                    <span>NT $1,450</span>\n                    <span>NT $1,150</span>\n                </ProductPrice>\n            </ProductCard>\n            <ProductCard>\n                <div>\n                    <ImageContainer>\n                        <Link to=\"#\" />\n                        <img\n                            src=\"https://picsum.photos/280/280?random=1\"\n                            alt=\"001\"\n                        />\n                        <ImageMask>\n                            <Btn>\n                                <FontAwesomeIcon icon={faShoppingCart} />\n                            </Btn>\n                            <Btn>\n                                <FontAwesomeIcon icon={faHeart} />\n                            </Btn>\n                        </ImageMask>\n                    </ImageContainer>\n                    <Link to=\"#\">\n                        <H4>商品001</H4>\n                    </Link>\n                </div>\n                <P>NT $1,450</P>\n            </ProductCard>\n        </>\n    );\n};\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  isOpened: false,\n  errorMessage: '',\n  popupCode: '',\n}\n\nexport const generalSlice = createSlice({\n  name: 'general',\n  initialState,\n  reducers: {\n    setIsOpened: (state, action) => {\n      state.isOpened = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setPopupCode: (state, action) => {\n      state.popupCode = action.payload;\n    },\n  },\n})\n\nexport const { \n  setIsOpened,\n  setErrorMessage,\n  setPopupCode,\n} = generalSlice.actions\n\nexport default generalSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\nimport { getProductsAPI, getProductAPI } from '../../webAPI/productAPI';\n\nconst initialState = {\n  unfilteredProducts: null,\n  products: null,\n  product: null,\n  error: null,\n  spec: {size: '', color: '', qty: ''},\n}\n\nexport const productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    setUnfilteredProducts: (state, action) => {\n      state.unfilteredProducts = action.payload;\n    },\n    setProducts: (state, action) => {\n      state.products = action.payload;\n    },\n    setProduct: (state, action) => {\n      state.product = action.payload;\n    },\n    setError: (state, action) => {\n      state.error = action.payload;\n    },\n    setSize: (state, action) => {\n      state.spec.size = action.payload;\n    },\n    setColor: (state, action) => {\n      state.spec.color = action.payload;\n    },\n    setQty: (state, action) => {\n      state.spec.qty = action.payload;\n    },\n  },\n})\n\nexport const { \n  setUnfilteredProducts,\n  setProducts,\n  setProduct,\n  setError,\n  setSize,\n  setColor,\n  setQty,\n} = productSlice.actions\n\nexport const getUnfilteredProducts = pathname => dispatch => {\n  getProductsAPI(pathname, '')\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setUnfilteredProducts(''))\n      }\n      dispatch(setUnfilteredProducts(result.data))\n    })\n}\n\nexport const getProducts = (pathname, search) => dispatch => {\n  getProductsAPI(pathname, search)\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setProducts(''))\n        return dispatch(setError(result.message))\n      }\n      dispatch(setProducts(result.data))\n      dispatch(setError(null))\n    })\n}\n\nexport const getProduct = id => dispatch => {\n  getProductAPI(id)\n    .then(result => {\n      if(!result.ok) {\n        dispatch(setProduct(''))\n        return dispatch(setError(result.message))\n      }\n      dispatch(setProduct(result.data))\n      dispatch(setError(null))\n    })\n}\n\nexport default productSlice.reducer","import { useEffect, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { addCartStorage, setCartQty } from '../features/cart/cartSlice';\nimport {\n    setPopupCode,\n    setErrorMessage,\n    setIsOpened,\n} from '../features/general/generalSlice';\nimport {\n    setColor,\n    setProduct,\n    setQty,\n    setSize,\n} from '../features/product/productSlice';\n\nexport default function useProduct(spec, product, group, isOpened) {\n    const [isChecked, setIsChecked] = useState(true);\n    const [mainImg, setMainImg] = useState({ src: '', alt: '' });\n\n    const scaledImg = useRef();\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (isOpened) return;\n        if (!group || !product) return;\n        const size_Initialized = product\n            ? product.product[`${group}s`][0].size\n            : '';\n        dispatch(setSize(size_Initialized));\n        dispatch(setColor(''));\n        dispatch(setQty(1));\n    }, [product, group, dispatch, isOpened]);\n\n    const handleClosePopup = type => () => {\n        dispatch(setIsOpened(false));\n        if (\n            type === 'size' ||\n            type === 'color' ||\n            type === 'edit' ||\n            type === 'delete'\n        ) {\n            dispatch(setProduct(''));\n        }\n        dispatch(setPopupCode(''));\n        dispatch(setErrorMessage(''));\n    };\n\n    const handleSizeChange = e => {\n        dispatch(setSize(e.target.value));\n        dispatch(setColor(''));\n    };\n\n    const handleColorChange = isNull => e => {\n        if (isNull) return;\n        dispatch(setColor(e.target.value));\n    };\n\n    const handleQtyChange = e => {\n        dispatch(setQty(parseInt(e.target.value)));\n    };\n\n    const handleBtnClick = direction => {\n        switch (direction) {\n            case 'inc': {\n                return dispatch(setQty(spec.qty + 1));\n            }\n            case 'dec': {\n                if (spec.qty <= 1) return;\n                return dispatch(setQty(spec.qty - 1));\n            }\n            default:\n                break;\n        }\n    };\n\n    const handleMouseMove = e => {\n        e.preventDefault();\n        const offsetX = e.nativeEvent.offsetX > 0 ? e.nativeEvent.offsetX : 0;\n        const offsetY = e.nativeEvent.offsetY > 0 ? e.nativeEvent.offsetY : 0;\n        const offsetWidth = e.target.offsetWidth;\n        const perX = offsetX / offsetWidth;\n        const perY = offsetY / offsetWidth;\n        scaledImg.current.style.left = `-${perX * 100}%`;\n        scaledImg.current.style.top = `-${perY * 100}%`;\n    };\n\n    const handleImgClick = e => {\n        if (e.target.tagName === 'IMG') {\n            setMainImg({ src: e.target.src, alt: e.target.alt });\n        }\n    };\n\n    const handleCheckedChange = () => {\n        setIsChecked(!isChecked);\n    };\n\n    const handleAddToCart = () => {\n        if (!spec.size || !spec.color)\n            return dispatch(setErrorMessage('請選擇尺寸或顏色'));\n        const cartItem = JSON.parse(localStorage.getItem('cart')) || [];\n        WriteToLocalStorage(cartItem);\n        dispatch(setIsOpened(true));\n    };\n\n    const handleAddToWishList = () => {\n        dispatch(setPopupCode('login'));\n        dispatch(setIsOpened(true));\n    };\n\n    function WriteToLocalStorage(cartItem) {\n        const pattern_id = product.patterns.find(\n            pattern =>\n                pattern.Color.name === spec.color &&\n                pattern[group].size === spec.size\n        ).id;\n        const newItem = {\n            pattern_id,\n            qty: spec.qty,\n        };\n        const getItem = cartItem.find(\n            item => item.pattern_id === newItem.pattern_id\n        );\n        if (getItem) {\n            getItem.qty += spec.qty;\n            newItem.qty = getItem.qty;\n            dispatch(setCartQty(newItem));\n        } else {\n            newItem.id = product.product.id;\n            cartItem.push(newItem);\n            dispatch(addCartStorage(newItem));\n        }\n        return localStorage.setItem('cart', JSON.stringify(cartItem));\n    }\n\n    function addCommaToPrice(price) {\n        let p = price;\n        const arr = [];\n        while (parseInt(p / 1000) > 0) {\n            const a = [];\n            for (let i = 0; i < 3; i++) {\n                a.push(parseInt((p % 10 ** (i + 1)) / 10 ** i));\n            }\n            arr.push(a.reverse().join(''));\n            p = parseInt(p / 1000);\n        }\n        arr.push(p);\n        return arr.reverse().join(',');\n    }\n\n    return {\n        addCommaToPrice,\n        mainImg,\n        setMainImg,\n        scaledImg,\n        handleMouseMove,\n        handleImgClick,\n        isChecked,\n        handleCheckedChange,\n        handleBtnClick,\n        handleSizeChange,\n        handleColorChange,\n        handleQtyChange,\n        handleAddToCart,\n        handleAddToWishList,\n        handleClosePopup,\n    };\n}\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {\n    faCartPlus,\n    faShoppingCart,\n    faHeart as fasHeart,\n} from '@fortawesome/free-solid-svg-icons';\nimport { faHeart } from '@fortawesome/free-regular-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport { MEDIA_QUERY, H4, P } from '../constants/style';\n\nimport useProduct from '../hooks/useProduct';\nimport { Img } from './Img';\n\nconst ProductCard = styled.section`\n    padding: 10px;\n    box-sizing: border-box;\n    & a {\n        text-decoration: none;\n    }\n    & img {\n        width: 100%;\n        height: 100%;\n    }\n    & h4 {\n        padding: 10px 0;\n    }\n`;\n\nconst ImageContainer = styled.div`\n    position: relative;\n    aspect-ratio: 1;\n    & > a {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 1;\n    }\n    &:hover > div:last-child {\n        background-color: ${props => props.theme.color.grey}5;\n        & button {\n            right: 0px;\n        }\n    }\n`;\n\nconst ImageMask = styled.div`\n    background-color: transparent;\n    transition: background-color 0.3s;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n`;\n\nconst BtnContainer = styled.div`\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 10px;\n    & > button {\n        margin-top: 5px;\n    }\n`;\n\nconst Btn = styled.button`\n    width: 40px;\n    height: 40px;\n    display: block;\n    background-color: ${props => props.theme.color.lightGrey}a;\n    border-radius: 50%;\n    z-index: 2;\n    position: relative;\n    right: -60px;\n    &:nth-child(1) {\n        transition: 0.3s;\n    }\n    &:nth-child(2) {\n        transition: 0.3s 0.1s;\n    }\n    &:hover {\n        background-color: ${props => props.theme.color.white}a;\n    }\n\n    & svg {\n        font-size: ${props => props.theme.fontSize.btn};\n        color: ${props => props.theme.color.grey};\n    }\n`;\n\nconst ProductPrice = styled(P)`\n    & span {\n        padding: 0 5px;\n        &:nth-child(1) {\n            color: ${props => props.theme.color.grey};\n            font-size: ${props => props.theme.fontSize.body};\n            text-decoration: line-through;\n        }\n        &:nth-child(2) {\n            color: ${props => props.theme.color.alert};\n        }\n    }\n`;\n\nconst ProductReminder = styled.div`\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    & span {\n        display: inline-block;\n        width: 50px;\n        color: ${props => props.theme.color.white};\n        font-weight: ${props => props.theme.fontWeight.xl};\n        font-size: ${props => props.theme.fontSize.body};\n        border-radius: 5px;\n        & + span {\n            margin-left: 5px;\n        }\n        ${MEDIA_QUERY.s} {\n            width: 40px;\n            font-size: ${props => props.theme.fontSize.bodySmall};\n        }\n    }\n`;\n\nconst ProductReminderSale = styled.span`\n    background-color: ${props => props.theme.color.alert};\n`;\nconst ProductReminderNew = styled.span`\n    background-color: ${props => props.theme.color.black};\n`;\n\nexport const ProductItem = ({ product }) => {\n    const { addCommaToPrice, handleAddToWishList } = useProduct();\n\n    const url = `/product/${product.id}`;\n\n    return (\n        <ProductCard>\n            <div>\n                <ImageContainer>\n                    <Link to={url} />\n                    <Img image={product.Images[0]} />\n                    <ProductReminder>\n                        {product.is_sale && (\n                            <ProductReminderSale>SALE</ProductReminderSale>\n                        )}\n                        <ProductReminderNew>NEW</ProductReminderNew>\n                    </ProductReminder>\n                    <ImageMask>\n                        <BtnContainer>\n                            <Link to={url}>\n                                <Btn>\n                                    <FontAwesomeIcon icon={faShoppingCart} />\n                                </Btn>\n                            </Link>\n                            <Btn onClick={handleAddToWishList}>\n                                <FontAwesomeIcon icon={faHeart} />\n                            </Btn>\n                        </BtnContainer>\n                    </ImageMask>\n                </ImageContainer>\n                <Link to={url}>\n                    <H4>{product.name}</H4>\n                </Link>\n            </div>\n            {product.is_sale ? (\n                <ProductPrice>\n                    <span>NT ${addCommaToPrice(product.price_standard)}</span>\n                    <span>NT ${addCommaToPrice(product.price_sale)}</span>\n                </ProductPrice>\n            ) : (\n                <P>NT ${addCommaToPrice(product.price_standard)}</P>\n            )}\n        </ProductCard>\n    );\n};\n","import styled from 'styled-components';\nimport { useState, useEffect } from 'react';\n\nimport { MEDIA_QUERY, H2, H3, P } from '../../constants/style';\n\nimport { getProductsAPI } from '../../webAPI/productAPI';\nimport { TestProductCards } from '../../components/TestProductCards';\nimport { ProductItem } from '../../components/ProductItem';\n\nconst TrendingWrapper = styled.div``;\nconst TrendingContainer = styled.div`\n\twidth: 90%;\n\tmargin: 0 auto;\n\tpadding: 40px 0;\n\ttext-align: center;\n\t${MEDIA_QUERY.s} {\n\t\twidth: 100%;\n\t}\n\t& h2,\n\tdiv {\n\t\ttext-align: center;\n\t}\n\t& input {\n\t\tdisplay: none;\n\t\t&:checked + div {\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n\t& > p {\n\t\tpadding: 20px;\n\t}\n`;\n\nconst Subtitle = styled(H3)`\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 10px 0;\n\t& span::after {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\twidth: 0%;\n\t\theight: 2px;\n\t\tbackground-color: ${props => props.theme.color.black};\n\t\ttransition: width 0.4s;\n\t}\n\t& label {\n\t\tpadding: 0 5px;\n\t\t&:hover {\n\t\t\tcursor: pointer;\n\t\t\t& span::after {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst ProductContainer = styled.div`\n\tdisplay: none;\n\tjustify-content: flex-start;\n\tflex-wrap: wrap;\n\t& > section {\n\t\twidth: calc(100% / 4);\n\t\t&:nth-child(n + 9) {\n\t\t\tdisplay: none;\n\t\t}\n\t\t${MEDIA_QUERY.main} {\n\t\t\twidth: calc(100% / 3);\n\t\t\t&:nth-child(n + 7) {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t\t${MEDIA_QUERY.m} {\n\t\t\twidth: 50%;\n\t\t\t&:nth-child(n + 5) {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t\t${MEDIA_QUERY.xs} {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n`;\n\nconst GenderBlock = ({ gender, trends }) => {\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\tid={gender}\n\t\t\t\ttype=\"radio\"\n\t\t\t\tname=\"subtitle\"\n\t\t\t\tdefaultChecked={gender === 'female'}\n\t\t\t/>\n\t\t\t{trends.length > 0 ? (\n\t\t\t\t<ProductContainer>\n\t\t\t\t\t{trends &&\n\t\t\t\t\t\ttrends.map(trend => (\n\t\t\t\t\t\t\t<ProductItem key={trend.id} product={trend} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t<TestProductCards />\n\t\t\t\t</ProductContainer>\n\t\t\t) : (\n\t\t\t\t<ProductContainer>\n\t\t\t\t\t<P>查無商品</P>\n\t\t\t\t</ProductContainer>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport const Trend = () => {\n\tconst [trends, setTrends] = useState({ male: '', female: '' });\n\tconst [error, setError] = useState();\n\n\tuseEffect(() => {\n\t\tconst search = '?is_on=1&order=sold_desc';\n\t\tgetProductsAPI('', search).then(result => {\n\t\t\tif (!result.ok) return setError(result.message);\n\t\t\tsetTrends({\n\t\t\t\tmale: result.data.filter(trend => trend.gender === 'M'),\n\t\t\t\tfemale: result.data.filter(trend => trend.gender === 'F'),\n\t\t\t});\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<TrendingWrapper>\n\t\t\t<TrendingContainer>\n\t\t\t\t<H2>熱賣商品</H2>\n\t\t\t\t<Subtitle>\n\t\t\t\t\t<label htmlFor=\"female\">\n\t\t\t\t\t\t<span>女裝</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t/\n\t\t\t\t\t<label htmlFor=\"male\">\n\t\t\t\t\t\t<span>男裝</span>\n\t\t\t\t\t</label>\n\t\t\t\t</Subtitle>\n\t\t\t\t{!trends.male &&\n\t\t\t\t\t!trends.female &&\n\t\t\t\t\t(error ? <P>{error}</P> : <P>商品載入中...</P>)}\n\t\t\t\t{trends.male && trends.female && !error && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<GenderBlock gender=\"female\" trends={trends.female} />\n\t\t\t\t\t\t<GenderBlock gender=\"male\" trends={trends.male} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</TrendingContainer>\n\t\t</TrendingWrapper>\n\t);\n};\n","import styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { getFeedImagesAPI } from '../webAPI/productAPI';\nimport { MEDIA_QUERY } from '../constants/style';\n\nconst FeedWrapper = styled.div``;\nconst FeedContainer = styled.div`\n    padding: 40px 0 0;\n    display: flex;\n    overflow: hidden;\n    & div {\n        width: calc(100% / 6);\n        ${MEDIA_QUERY.m} {\n            width: calc(100% / 4);\n        }\n        ${MEDIA_QUERY.s} {\n            width: calc(100% / 3);\n        }\n        ${MEDIA_QUERY.xs} {\n            width: calc(100% / 2);\n        }\n        flex-shrink: 0;\n        & img {\n            width: 100%;\n            height: 100%;\n        }\n    }\n`;\n\nexport const Feed = () => {\n    const [feeds, setFeeds] = useState();\n\n    useEffect(() => {\n        getFeedImagesAPI().then(data => {\n            setFeeds(\n                data.map(img => ({\n                    id: img.id,\n                    desc: img.description,\n                    url: img.urls.small,\n                }))\n            );\n        });\n    }, []);\n\n    return (\n        <FeedWrapper>\n            <FeedContainer>\n                {feeds &&\n                    feeds.map(feed => (\n                        <div key={feed.id}>\n                            <a target=\"_blank\" rel=\"noreferrer\" href={feed.url}>\n                                <img src={feed.url} alt={feed.desc} />\n                            </a>\n                        </div>\n                    ))}\n            </FeedContainer>\n        </FeedWrapper>\n    );\n};\n","import { Carousel } from './Carousel';\nimport { Arrival } from './Arrival';\nimport { Trend } from './Trend';\nimport { Feed } from '../../components/Feed';\n\nexport default function HomePage() {\n\treturn (\n\t\t<main>\n\t\t\t<Carousel />\n\t\t\t<Arrival />\n\t\t\t<Trend />\n\t\t\t{process.env.NODE_ENV === 'production' && <Feed />}\n\t\t</main>\n\t);\n}\n","export const crumbMap = [\n    {\n        collection: '商品一覽',\n        admin: '管理後台'\n    },\n    {\n        men: '男裝',\n        women: '女裝',\n        product: '商品管理',\n        order: '訂單管理',\n        user: '用戶管理'\n    },\n    {\n        tops: '上衣類',\n        shirts: '襯衫類',\n        knit: '針織衫 / 毛衣',\n        one_piece: '洋裝類',\n        outer: '外套類',\n        bottoms: '褲裝類',\n        skirts: '裙子類',\n        general: '配件類',\n        information: '新增及管理產品資訊',\n        quantity: '管理存貨數量與紀錄',\n        price: '管理商品價格與紀錄',\n        new: '新增產品'\n    }\n]\n\nexport const sizeMap = {\n    Size_top: {\n      sleeve_length: '袖長',\n      body_length: '衣長',\n      body_width: '胸寬'\n    },\n    Size_bottom: {\n      waist: '腰圍',\n      hip: '臀圍',\n      rise: '褲檔',\n      inseam: '褲內檔長'\n    },\n    Size_skirt: {\n      waist: '腰圍',\n      hip: '臀圍',\n      length: '裙長'\n    }\n}","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHome } from '@fortawesome/free-solid-svg-icons';\nimport { MEDIA_QUERY } from '../constants/style';\nimport { crumbMap } from '../constants/mapping';\n\nconst CrumbWrapper = styled.nav`\n    ${MEDIA_QUERY.xs} {\n        display: none;\n    }\n`;\n\nconst CrumbContainer = styled.div`\n    width: 90%;\n    margin: 20px auto 10px;\n    & ol {\n        display: flex;\n        flex-wrap: wrap;\n    }\n    & li {\n        z-index: 1;\n    }\n`;\n\nconst CrumbPath = styled.li`\n    & a {\n        font-size: ${props => props.theme.fontSize.bodyLarge};\n        font-weight: ${props => props.theme.fontWeight.l};\n        color: ${props => props.theme.color.black};\n        line-height: 1.5em;\n        &:last-child {\n            font-weight: ${props => props.theme.fontWeight.xl};\n        }\n    }\n    & + li {\n        margin-left: 5px;\n        &::before {\n            content: '>';\n            margin-right: 5px;\n        }\n    }\n`;\n\nexport const CrumbNav = ({ pathArr, name }) => {\n    return (\n        <CrumbWrapper>\n            <CrumbContainer>\n                <ol>\n                    <CrumbPath>\n                        <Link to=\"/\">\n                            <FontAwesomeIcon icon={faHome} />\n                        </Link>\n                    </CrumbPath>\n                    {pathArr.slice(1).map((path, index) => (\n                        <CrumbPath key={index}>\n                            <Link to={pathArr.slice(0, index + 2).join('/')}>\n                                <span>{crumbMap[index][path]}</span>\n                            </Link>\n                        </CrumbPath>\n                    ))}\n                    {name && (\n                        <CrumbPath>\n                            <Link to=\"#\">\n                                <span>{name}</span>\n                            </Link>\n                        </CrumbPath>\n                    )}\n                </ol>\n            </CrumbContainer>\n        </CrumbWrapper>\n    );\n};\n","import { useState, useEffect, useContext, useRef } from 'react';\nimport { useHistory } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { getUnfilteredProducts } from '../features/product/productSlice';\n\nimport { LocationContext } from '../pages/ListPage/ListPage';\n\nexport default function usePriceFilter() {\n    const { pathname, search } = useContext(LocationContext);\n\n    const unfilteredProducts = useSelector(\n        state => state.product.unfilteredProducts\n    );\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(getUnfilteredProducts(pathname.split('/').slice(2, 4)));\n    }, [pathname, dispatch]);\n\n    function minInitailizer() {\n        if (!unfilteredProducts) return 300;\n        const arr = unfilteredProducts.map(product =>\n            product.is_sale ? product.price_sale : product.price_standard\n        );\n        return Math.min(...arr);\n    }\n    function maxInitailizer() {\n        if (!unfilteredProducts) return 1200;\n        const arr = unfilteredProducts.map(product =>\n            product.is_sale ? product.price_sale : product.price_standard\n        );\n        return Math.max(...arr);\n    }\n\n    const minimum = minInitailizer() || 300;\n    const maximum = maxInitailizer() || 1200;\n\n    const [min, setMin] = useState(() => minInitailizer());\n    const [max, setMax] = useState(() => maxInitailizer());\n    const [isDragging, setIsDragging] = useState(false);\n\n    const X = useRef(null);\n    const direction = useRef(null);\n\n    const WR = useRef(null);\n    const WL = useRef(null);\n    const perLeft = useRef(100);\n    const perRight = useRef(100);\n\n    const bar = useRef();\n    const barSelected = useRef();\n    const knobLeft = useRef();\n    const knobRight = useRef();\n\n    let newSearch = new URLSearchParams(search);\n    const priceParam = newSearch.get('price') || `${minimum}-${maximum}`;\n    useEffect(() => {\n        const minTemp = parseInt(priceParam.split('-')[0]);\n        const maxTemp = parseInt(priceParam.split('-')[1]);\n        setMin(minTemp);\n        setMax(maxTemp);\n        perLeft.current =\n            100 - (100 * (maximum - maxTemp)) / (maximum - minimum);\n        perRight.current =\n            100 - (100 * (minTemp - minimum)) / (maximum - minimum);\n        WR.current = (perLeft.current * bar.current.offsetWidth) / 100;\n        WL.current = (perRight.current * bar.current.offsetWidth) / 100;\n        barSelected.current.style.right = `${100 - perLeft.current}%`;\n        barSelected.current.style.left = `${100 - perRight.current}%`;\n        knobLeft.current.style.right = `${perRight.current}%`;\n        knobRight.current.style.left = `${perLeft.current}%`;\n    }, [priceParam, maximum, minimum]);\n\n    const history = useHistory();\n\n    const handleMouseDown = e => {\n        if (\n            isNaN(WR.current) ||\n            isNaN(WL.current) ||\n            isNaN(perLeft.current) ||\n            isNaN(perRight.current)\n        ) {\n            return setIsDragging(false);\n        }\n        X.current = e.pageX;\n        switch (e.target) {\n            case knobRight.current: {\n                return (direction.current = 'R');\n            }\n            case knobLeft.current: {\n                return (direction.current = 'L');\n            }\n            default:\n                break;\n        }\n        if (WR.current === null) {\n            WR.current = bar.current.offsetWidth;\n        }\n        if (WL.current === null) {\n            WL.current = bar.current.offsetWidth;\n        }\n        setIsDragging(true);\n    };\n\n    const handleMouseMove = e => {\n        if (X.current && isDragging) {\n            e.preventDefault();\n            if (direction.current === 'R') {\n                let per =\n                    ((WR.current - X.current + e.pageX) /\n                        bar.current.offsetWidth) *\n                    100;\n                if (per > 100) per = 100;\n                if (per < 100 - perRight.current) per = 100 - perRight.current;\n                knobRight.current.style.left = `${per}%`;\n                barSelected.current.style.right = `${100 - per}%`;\n                perLeft.current = per;\n                setMax(\n                    Number(\n                        (\n                            maximum -\n                            ((maximum - minimum) * (100 - per)) / 100\n                        ).toFixed(0)\n                    )\n                );\n            }\n            if (direction.current === 'L') {\n                let per =\n                    ((WL.current + X.current - e.pageX) /\n                        bar.current.offsetWidth) *\n                    100;\n                if (per > 100) per = 100;\n                if (per < 100 - perLeft.current) per = 100 - perLeft.current;\n                knobLeft.current.style.right = `${per}%`;\n                barSelected.current.style.left = `${100 - per}%`;\n                perRight.current = per;\n                setMin(\n                    Number(\n                        (\n                            minimum +\n                            ((maximum - minimum) * (100 - per)) / 100\n                        ).toFixed(0)\n                    )\n                );\n            }\n        }\n    };\n\n    const handleMouseUp = e => {\n        if (!isDragging) return;\n        if (direction.current === 'R') {\n            if (!barSelected.current.offsetWidth) {\n                WR.current = knobRight.current.offsetLeft;\n            } else {\n                WR.current = WR.current - X.current + e.pageX;\n            }\n            if (WR.current > bar.current.offsetWidth) {\n                WR.current = bar.current.offsetWidth;\n            }\n        }\n        if (direction.current === 'L') {\n            if (!barSelected.current.offsetWidth) {\n                WL.current =\n                    bar.current.offsetWidth - knobRight.current.offsetLeft;\n            } else {\n                WL.current = WL.current + X.current - e.pageX;\n            }\n            if (WL.current > bar.current.offsetWidth) {\n                WL.current = bar.current.offsetWidth;\n            }\n        }\n        setIsDragging(false);\n\n        let newSearch = new URLSearchParams(search);\n        const priceParam = newSearch.get('price');\n\n        if (priceParam) {\n            newSearch.set('price', `${min}-${max}`);\n        } else {\n            newSearch.append('price', `${min}-${max}`);\n        }\n\n        if (newSearch.has('page')) {\n            newSearch.delete('page');\n        }\n\n        const priceURL = `${pathname}?${newSearch}`;\n\n        history.push(priceURL);\n    };\n\n    const handleMouseLeave = e => {\n        if (!isDragging) return;\n        if (direction.current === 'R') {\n            if (!barSelected.current.offsetWidth) {\n                WR.current = knobRight.current.offsetLeft;\n            } else {\n                WR.current = WR.current - X.current + e.pageX;\n            }\n            if (WR.current > bar.current.offsetWidth) {\n                WR.current = bar.current.offsetWidth;\n            }\n        }\n        if (direction.current === 'L') {\n            if (!barSelected.current.offsetWidth) {\n                WL.current =\n                    bar.current.offsetWidth - knobRight.current.offsetLeft;\n            } else {\n                WL.current = WL.current + X.current - e.pageX;\n            }\n            if (WL.current > bar.current.offsetWidth) {\n                WL.current = bar.current.offsetWidth;\n            }\n        }\n        setIsDragging(false);\n\n        let newSearch = new URLSearchParams(search);\n        const priceParam = newSearch.get('price');\n\n        if (priceParam) {\n            newSearch.set('price', `${min}-${max}`);\n        } else {\n            newSearch.append('price', `${min}-${max}`);\n        }\n\n        if (newSearch.has('page')) {\n            newSearch.delete('page');\n        }\n\n        const priceURL = `${pathname}?${newSearch}`;\n\n        history.push(priceURL);\n    };\n\n    return {\n        bar,\n        barSelected,\n        knobLeft,\n        knobRight,\n\n        handleMouseDown,\n        handleMouseMove,\n        handleMouseUp,\n        handleMouseLeave,\n\n        min,\n        max,\n        isDragging,\n    };\n}\n","import { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSquare, faCheckSquare } from '@fortawesome/free-regular-svg-icons'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons'\n\nimport { H4, P } from \"../../constants/style\"\nimport { MEDIA_QUERY, Btn } from \"../../constants/style\"\n\nimport useProduct from \"../../hooks/useProduct\";\nimport usePriceFilter from \"../../hooks/usePriceFilter\";\n\nimport { LocationContext } from \"./ListPage\";\n\n\nconst ControllerBtn = styled(Btn)`\n  display: none;\n  height: 40px;\n  padding-left: 20px;\n  border-radius: 5px;\n  background-color: #eee;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  & svg {\n    padding: 10px;\n    font-size: ${props => props.theme.fontSize.h3};\n  }\n  ${MEDIA_QUERY.main} {\n    display: block;\n    position: absolute;\n    right: -30px;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n  }\n`\n\nconst AsideBlock = styled.div`\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  & > h4 {\n    padding: 10px 15px;\n    font-weight: ${props => props.theme.fontWeight.xl};\n    background-color: #eee;\n  }\n  & a {\n    color: ${props => props.theme.color.black};\n  }\n`\n\nconst FilterContainer = styled(AsideBlock)`\n  ${MEDIA_QUERY.main} {\n    position: relative;\n    border: none;\n    box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  }\n  & section {\n    padding: 10px 15px 0;\n    &:last-child {\n      padding-bottom: 10px;\n    }\n    & ul {\n      padding: 5px 10px;\n    }\n  }\n`\n\nconst SizeFilter = styled.section`\n  & li {\n    display: flex;\n  }\n  & a {\n    z-index: 1;\n    width: 100%;\n    & > svg {\n      font-size: ${props => props.theme.fontSize.h4};\n      color: ${props => props.theme.color.grey};\n    }\n    & > span {\n      padding: 0 5px;\n      line-height: 2em;\n    }\n  }\n`\n\nconst ColorFilter = styled.section`\n  & ul {\n    display: flex;\n    & li {\n      z-index: 1;\n      & + li {\n        margin-left: 5px;\n      }\n    }\n  }\n`\n\nconst ColorSpan = styled.span`\n  display: block;\n  box-sizing: border-box;\n  border: 1px solid #aaa8;\n  border: ${props => (props.$border || (props.$color === 'black')) && 'thin solid #333'};\n  border: ${props => (props.$border && (props.$color === 'black')) && 'medium double #eee'};\n  width: 30px;\n  height: 30px;\n  background-color: ${props => props.theme.color[props.$color]};\n`\n\nconst PriceFilter = styled.section`\n`\n\nconst PriceTag = styled(P)`\n  font-weight: ${props => props.theme.fontWeight.m};\n  & span {\n    &:last-child {\n      &::before {\n        content: '-';\n        margin: 0 5px;\n      }\n    }\n  }\n`\n\nconst PriceBar = styled.div`\n  margin: 10px auto;\n  padding: 0 15px;\n  background-color: ${props => props.theme.color.lightGrey};\n  & > div {\n    z-index: 1;\n    width: 100%;\n    height: 5px;\n    position: relative;\n    & > div {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      background-color: ${props => props.theme.color.grey};\n    }\n  }\n`\n\nconst PriceKnob = styled.span`\n  display: block;\n  width: 15px;\n  height: 15px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid ${props => props.theme.color.grey};\n  background-color: ${props => props.theme.color.light_primary};\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto 0;\n`\n\nconst Cover = styled.label`\n  z-index: 2;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n`\n\nconst ClearBtn = styled(Btn)`\n  background-color: ${props => props.theme.color.black};\n  padding: 3px 10px;\n  margin: 10px 15px 0;\n  border-radius: 1em;\n  & span {\n    color: ${props => props.theme.color.white};\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n`\n\n\nconst SizeSelect = ({size}) => {\n\n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n  const param = newSearch.get('size');\n  let icon = faSquare;\n\n  if (param) {\n    if (!param.includes(size)) {\n      newSearch.set('size', `${param} ${size}`)\n    } else if (param === size) {\n      newSearch.delete('size')\n      icon = faCheckSquare;\n    } else {\n      const newParam = param.split(' ' + size).join('').split(size + ' ').join('')\n      newSearch.set('size', newParam)\n      icon = faCheckSquare;\n    }\n  } else {\n    newSearch.append('size', size)\n  }\n\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n\n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <FontAwesomeIcon icon={icon}/>\n      <span>{size}</span>\n    </Link>\n  )\n}\n\nconst ColorSelect = ({color}) => {\n\n  const colors = {\n    white: 'light_primary',\n    black: 'black',\n    grey: 'lightGrey',\n    yellow: 'yellow',\n    brown: 'brown',\n  }\n  \n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n  const param = newSearch.get('color');\n  let border = false;\n\n  if (param) {\n    if (!param.includes(color)) {\n      newSearch.set('color', `${param} ${color}`)\n    } else if (param === color) {\n      newSearch.delete('color')\n      border = true;\n    } else {\n      const newParam = param.split(' ' + color).join('').split(color + ' ').join('')\n      newSearch.set('color', newParam)\n      border = true;\n    }\n  } else {\n    newSearch.append('color', color)\n  }\n\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n\n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <ColorSpan $border={border} $color={colors[color]}/>\n    </Link>\n  )\n}\n\nconst PriceSelect = () => {\n\n  const rightStyle = {\n    left: \"100%\"\n  }\n  const leftStyle = {\n    right: \"100%\"\n  }\n  const barStyle = {\n    left: \"0%\",\n    right: \"0%\"\n  }\n\n  const { addCommaToPrice } = useProduct()\n  \n  const {\n    bar,\n    barSelected,\n    knobLeft,\n    knobRight,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseLeave,\n    min,\n    max,\n    isDragging\n  } = usePriceFilter();\n\n  return (\n    <div>\n      <PriceTag>\n        <span>${addCommaToPrice(min)}</span>\n        <span>${addCommaToPrice(max)}</span>\n      </PriceTag>\n      <PriceBar>\n        <div ref={bar}>\n          <div ref={barSelected} style={barStyle} />\n            <PriceKnob ref={knobLeft} $left style={leftStyle} onMouseDown={handleMouseDown} />\n            <PriceKnob ref={knobRight} $right style={rightStyle} onMouseDown={handleMouseDown} />\n        </div>\n      </PriceBar>\n      {isDragging && (\n        <Cover\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseLeave}\n        />\n      )}\n    </div>\n  )\n}\n\nexport const Filter = () => {\n  \n  const sizes = ['S', 'M', 'L']\n  const colors = ['brown', 'yellow', 'white', 'grey', 'black']\n\n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search)\n\n  const clearedSearch = newSearch.has('order') ? new URLSearchParams({order: newSearch.get('order')}) : null\n\n  const clearURL = clearedSearch ? `${pathname}?${clearedSearch}` : pathname\n  \n  return (\n    <>\n      <ControllerBtn>\n        <label htmlFor=\"filter\">\n          <FontAwesomeIcon icon={faFilter}/>\n        </label>\n      </ControllerBtn>\n      <FilterContainer>\n        <H4>商品篩選</H4>\n        {(newSearch.has('size') || newSearch.has('color') || newSearch.has('price')) && (\n          <ClearBtn>\n            <Link to={clearURL}>\n              <span>清除篩選</span>\n            </Link>\n          </ClearBtn>\n        )}\n        <SizeFilter>\n          <P>尺寸</P>\n          <ul>\n            {sizes.map(size => (\n              <li key={size}>\n                <SizeSelect {...{size}} />\n              </li>\n            ))}\n          </ul>\n        </SizeFilter>\n        <ColorFilter>\n          <P>顏色</P>\n          <ul>\n            {colors.map(color => (\n              <li key={color}>\n                <ColorSelect {...{color}} />\n              </li>\n            ))}\n          </ul>\n        </ColorFilter>\n        <PriceFilter>\n          <P>價格</P>\n          <PriceSelect />\n        </PriceFilter>\n      </FilterContainer>\n    </>\n  )\n}","import styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { H4, P, Span, MEDIA_QUERY } from '../constants/style';\n\nimport useProduct from '../hooks/useProduct';\nimport { getProductsAPI } from '../webAPI/productAPI';\nimport { Img } from './Img';\n\nconst AsideBlock = styled.div`\n    border: 1px solid ${props => props.theme.color.lightGrey}8;\n    & > h4 {\n        padding: 10px 15px;\n        font-weight: ${props => props.theme.fontWeight.xl};\n        background-color: ${props => props.theme.color.light_primary};\n    }\n    & a {\n        color: ${props => props.theme.color.black};\n    }\n`;\n\nconst TrendContainer = styled(AsideBlock)`\n    ${MEDIA_QUERY.main} {\n        display: none;\n    }\n    & > p {\n        text-align: center;\n        padding: 20px;\n    }\n`;\n\nconst TrendCard = styled.section`\n    padding: 10px 0;\n    display: flex;\n    & > div {\n        padding: 0 10px;\n    }\n`;\n\nconst TrendImage = styled.div`\n    z-index: 1;\n    width: 60%;\n    display: flex;\n    align-items: center;\n    position: relative;\n    & img {\n        width: 100%;\n    }\n`;\n\nconst TrendInfo = styled.div`\n    width: 40%;\n    & p {\n        padding: 5px 0;\n    }\n    & span {\n        display: block;\n        font-weight: ${props => props.theme.fontWeight.l};\n    }\n`;\n\nconst TrendPrice = styled.div`\n    & span {\n        &:nth-child(1) {\n            color: ${props => props.theme.color.grey};\n            text-decoration: line-through;\n        }\n        &:nth-child(2) {\n            color: ${props => props.theme.color.alert};\n        }\n    }\n`;\n\nconst TrendItem = ({ trend }) => {\n    const { addCommaToPrice } = useProduct();\n\n    return (\n        <TrendCard>\n            <TrendImage>\n                <Link to={`/product/${trend.id}`}>\n                    <Img image={trend.Images[0]} />\n                </Link>\n            </TrendImage>\n            <TrendInfo>\n                <Link to={`/product/${trend.id}`}>\n                    <P>{trend.name}</P>\n                </Link>\n                {trend.is_sale ? (\n                    <TrendPrice>\n                        <Span>NT ${addCommaToPrice(trend.price_standard)}</Span>\n                        <Span>NT ${addCommaToPrice(trend.price_sale)}</Span>\n                    </TrendPrice>\n                ) : (\n                    <Span>NT ${addCommaToPrice(trend.price_standard)}</Span>\n                )}\n            </TrendInfo>\n        </TrendCard>\n    );\n};\n\nexport const Trend = () => {\n    const [trends, setTrends] = useState();\n    const [error, setError] = useState();\n\n    useEffect(() => {\n        const search = '?is_on=1&order=sold_desc';\n        getProductsAPI('', search).then(result => {\n            if (!result.ok) return setError(result.message);\n            setTrends(result.data.slice(0, 4));\n        });\n    }, []);\n\n    return (\n        <TrendContainer>\n            <H4>熱賣商品</H4>\n            {!trends && (error ? <P>{error}</P> : <P>商品載入中...</P>)}\n            {trends &&\n                !error &&\n                (trends.length > 0 ? (\n                    trends.map(trend => (\n                        <TrendItem key={trend.id} trend={trend} />\n                    ))\n                ) : (\n                    <P>查無商品</P>\n                ))}\n        </TrendContainer>\n    );\n};\n","import { Link } from 'react-router-dom';\n\nimport styled from 'styled-components';\nimport { MEDIA_QUERY } from '../constants/style';\n\nimport { Filter } from '../pages/ListPage/Filter';\nimport { Img } from './Img';\nimport { Trend } from './Trend';\n\nconst Cover = styled.label`\n    z-index: 0;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    opacity: 0;\n    display: none;\n    // background-color: #aaaa;\n`;\n\nconst PictureContainer = styled.div`\n    position: relative;\n    aspect-ratio: 0.75;\n    & img {\n        width: 100%;\n        aspect-ratio: 0.75;\n    }\n    & a {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n    }\n    ${MEDIA_QUERY.main} {\n        display: none;\n    }\n`;\n\nconst AsideContainer = styled.aside`\n    width: 20%;\n    min-width: 250px;\n    & > div {\n        z-index: 1;\n        margin: 10px;\n        background-color: ${props => props.theme.color.white};\n    }\n    ${MEDIA_QUERY.main} {\n        position: fixed;\n        left: -240px;\n        z-index: 9;\n        transition: 0.3s;\n    }\n`;\n\nconst Controller = styled.input`\n    display: none;\n    &:checked {\n        & ~ aside {\n            left: -10px;\n        }\n        & + label {\n            display: block;\n        }\n    }\n`;\n\nexport const Aside = ({ filter }) => {\n    return (\n        <>\n            {filter && (\n                <>\n                    <Controller id=\"filter\" type=\"checkbox\" />\n                    <Cover htmlFor=\"filter\" />\n                </>\n            )}\n            <AsideContainer>\n                <PictureContainer>\n                    <Link to=\"/products\" />\n                    <Img\n                        image={{\n                            src: 'https://picsum.photos/200/300',\n                            alt: 'aside_img',\n                        }}\n                    />\n                </PictureContainer>\n                {filter && <Filter />}\n                <Trend />\n            </AsideContainer>\n        </>\n    );\n};\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\nimport { useEffect, useContext } from \"react\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTh, faThLarge, faChevronDown, faAlignJustify } from '@fortawesome/free-solid-svg-icons'\n\nimport { LocationContext } from \"./ListPage\";\n\nimport { Span } from \"../../constants/style\"\nimport { MEDIA_QUERY, Btn } from \"../../constants/style\"\nimport { useRef } from \"react\";\n\nconst SortContainer = styled.div`\n  margin: 0 10px;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ${props => props.theme.color.lightGrey}3;\n`\n\nconst GalleryBtnGroup = styled.div`\n  z-index: 1;\n  ${MEDIA_QUERY.s} {\n    display: none;\n  }\n`\n\nconst GalleryBtn = styled(Btn)`\n  & svg {\n    padding: 5px;\n    font-size: ${props => props.theme.fontSize.btn};\n  }\n  ${MEDIA_QUERY.m} {\n    ${props => props.$four && 'display: none;'}\n  }\n`\n\nconst GalleryRadio = styled.input`\n  display: none;\n  &:checked {\n    & ~ div {\n      & section {\n        width: ${props => props.$two && 'calc(100%/2)'};\n        width: ${props => props.$three && 'calc(100%/3)'};\n        width: ${props => props.$four && 'calc(100%/4)'};\n      }\n    }\n  }\n`\n\nconst MenuContainer = styled.div`\n  width: 150px;\n  position: relative;\n  & span {\n    display: block;\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n  & > input {\n    display: none;\n    &:checked {\n      & ~ ul {\n        display: block;\n      }\n      & + label {\n        display: block;\n      }\n    }\n  }\n`\nconst Menu = styled.div`\n  z-index: 1;\n  background-color: ${props => props.theme.color.white};\n  border: 1px solid ${props => props.theme.color.lightGrey}8;\n  padding: 5px 10px;\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n  & span {\n    color: ${props => props.theme.color.lightGrey};\n  }\n  & button {\n    & svg {\n      font-size: ${props => props.theme.fontSize.bodyLarge};\n    }\n  }\n  & label {\n    position: absolute;\n    display: block;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst SubMenu = styled.ul`\n  width: 100%;\n  position: absolute;\n  top: 33px;\n  background-color: #fff;\n  z-index: 5;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey};\n  display: none;\n  & li:hover {\n    background-color: ${props => props.theme.color.grey};\n    & span {\n    color: ${props => props.theme.color.light_primary};\n    }\n  }\n  & span {\n    padding: 5px 10px;\n    color: ${props => props.theme.color.grey};\n  }\n`\n\nconst Cover = styled.label`\n  z-index: 0;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  display: none;\n  // background-color: #aaaa;\n`\n\nconst SortSelect = ({ sortMap, order }) => {\n\n  const { pathname, search } = useContext(LocationContext);\n  const newSearch = new URLSearchParams(search);\n\n  newSearch.set('order', order)\n  if (newSearch.has('page')) {\n    newSearch.delete('page')\n  }\n\n  const url = `${pathname}?${newSearch}`\n\n  return (\n    <Link to={url}>\n      <Span>{sortMap[order]}</Span>\n    </Link>\n  )\n}\n\nconst SortMenu = () => {\n\n  let { search } = useContext(LocationContext);\n  search = new URLSearchParams(search);\n  const currentOrder = search.get('order');\n\n  const sortMenuDOM = useRef()\n\n  const sortMap = {\n    sold_desc: '熱門度優先',\n    price_desc: '價格 (高至低)',\n    price_asc: '價格 (低至高)',\n  };\n\n  const title = currentOrder ? sortMap[currentOrder] : '排序依'\n\n  useEffect(() => {\n    sortMenuDOM.current.checked = false\n  }, [search])\n\n  return (\n    <MenuContainer>\n      <Menu>\n        <label htmlFor=\"sort-menu\" />\n        <Span>{title}</Span>\n        <Btn><FontAwesomeIcon icon={faChevronDown} /></Btn>\n      </Menu>\n      <input id=\"sort-menu\" type=\"checkbox\" ref={sortMenuDOM} />\n      <Cover htmlFor=\"sort-menu\" />\n      <SubMenu>\n        {Object.keys(sortMap).map(order => (\n          <li key={order}>\n            <SortSelect {...{ sortMap, order }} />\n          </li>\n        ))}\n      </SubMenu>\n    </MenuContainer>\n  )\n}\n\nexport const Sort = () => {\n  return (\n    <>\n      <SortContainer>\n        <GalleryBtnGroup>\n          <GalleryBtn>\n            <label htmlFor=\"two-columns\">\n              <FontAwesomeIcon icon={faThLarge} />\n            </label>\n          </GalleryBtn>\n          <GalleryBtn>\n            <label htmlFor=\"three-columns\">\n              <FontAwesomeIcon icon={faTh} />\n            </label>\n          </GalleryBtn>\n          <GalleryBtn $four>\n            <label htmlFor=\"four-columns\">\n              <FontAwesomeIcon icon={faAlignJustify} transform={{ rotate: 90 }} />\n            </label>\n          </GalleryBtn>\n        </GalleryBtnGroup>\n        <SortMenu />\n      </SortContainer>\n      <GalleryRadio $two id=\"two-columns\" name=\"gallery\" type=\"radio\" />\n      <GalleryRadio $three id=\"three-columns\" name=\"gallery\" type=\"radio\" />\n      <GalleryRadio $four id=\"four-columns\" name=\"gallery\" type=\"radio\" />\n    </>\n  )\n}","import { Link } from \"react-router-dom\"\nimport { useContext } from \"react\"\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { MEDIA_QUERY } from \"../../constants/style\"\n\nimport { LocationContext } from \"./ListPage\"\n\n\nconst PageContainer = styled.div`\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & button + button {\n    margin-left: 5px;\n  }\n`\n\nconst PageBtn = styled.button`\n  width: 30px;\n  height: 30px;\n  transition: .2s;\n  box-shadow: 1px 0px 5px ${props => props.theme.color.lightGrey}5;\n  background-color: ${props => props.$selected ? props.theme.color.lightGrey : props.theme.color.white};\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    & a, svg {\n        color: ${props => props.theme.color.white};\n    }\n  }\n  position: relative;\n  & a {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    font-weight: ${props => props.theme.fontWeight.xl};\n    color: ${props => props.$selected ? props.theme.color.white : props.theme.color.black};\n  }\n`\n\nconst Result = styled.div`\n    ${MEDIA_QUERY.s} {\n        opacity: 0;\n    }\n`\n\nconst PageSelect = ({ page }) => {\n\n    const { pathname, search } = useContext(LocationContext);\n    const newSearch = new URLSearchParams(search);\n    const currentPage = parseInt(newSearch.get('page')) || 1;\n\n    newSearch.set('page', page)\n    const selected = (currentPage === page) ? true : false\n\n    const url = `${pathname}?${newSearch}`\n\n    return (\n        <PageBtn $selected={selected}>\n            <Link to={url}>{page}</Link>\n        </PageBtn>\n    )\n}\n\nconst Page = ({ page_count }) => {\n\n    const { pathname, search } = useContext(LocationContext);\n    const newSearch = new URLSearchParams(search);\n    const currentPage = parseInt(newSearch.get('page')) || 1;\n\n    let n = 1\n    const arr = []\n    while (n <= page_count) {\n        arr.push(n)\n        n++\n    }\n\n    if (currentPage !== arr[0]) {\n        newSearch.set('page', currentPage - 1)\n    }\n    if (currentPage !== arr[arr.length - 1]) {\n        newSearch.set('page', currentPage + 1)\n    }\n\n    const url = `${pathname}?${newSearch}`\n\n    return (\n        <PageContainer>\n            {arr.length > 0 && (currentPage !== arr[0]) && (\n                <PageBtn>\n                    <Link to={url}>\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 90 }} />\n                    </Link>\n                </PageBtn>\n            )}\n            {arr.map(page => (\n                <PageSelect\n                    key={page}\n                    page={page}\n                />\n            ))}\n            {arr.length > 0 && (currentPage !== arr[arr.length - 1]) && (\n                <PageBtn>\n                    <Link to={url}>\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: -90 }} />\n                    </Link>\n                </PageBtn>\n            )}\n        </PageContainer>\n    )\n}\n\nexport const Pagination = ({ products }) => {\n\n    const { count, per_page, page, page_count } = products;\n\n    const number_start = page ? (page - 1) * per_page + 1 : 0\n    const number_end = !page ? 0 : (page === page_count) ? (\n        number_start + count - (page - 1) * per_page - 1\n    ) : (\n        number_start + per_page - 1\n    )\n\n    return (\n        <>\n            <Result>\n                <p>{number_start} ~ {number_end}，共 {count} 筆資料</p>\n            </Result>\n            <Page {...{ page_count }} />\n        </>\n    )\n}","import styled from \"styled-components\"\nimport { useEffect, useContext } from \"react\";\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getProducts, setProducts } from \"../../features/product/productSlice\";\n\nimport { P, H4 } from \"../../constants/style\"\nimport { MEDIA_QUERY } from \"../../constants/style\"\n\nimport { ProductItem } from \"../../components/ProductItem\";\n\nimport { Pagination } from \"./Pagination\";\nimport { LocationContext } from \"./ListPage\";\n\nconst ProductContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  text-align: center;\n  & > section {\n    width: calc(100%/4);\n    ${MEDIA_QUERY.l} {\n      width: calc(100%/3);\n    }\n    ${MEDIA_QUERY.m} {\n      width: 50%;\n    }\n    ${MEDIA_QUERY.xs} {\n      width: 100%;\n    }\n  }\n  & > p {\n    margin: 0 auto;\n    padding: 20px;\n  }\n  & > h4 {\n    margin: 0 auto;\n    padding: 40px 0;\n  }\n`\n\nconst IndexContainer = styled.div`\n\n  height: 55px;\n  box-sizing: border-box;\n\n  margin: 0 10px;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ${props => props.theme.color.lightGrey}3;\n`\n\nexport const ProductList = () => {\n\n  const { pathname, search } = useContext(LocationContext);\n\n  const products = useSelector(state => state.product.products)\n  const error = useSelector(state => state.product.error)\n  const dispatch = useDispatch()\n\n  useEffect(() => {    \n    const newSearch = new URLSearchParams(search);\n    if(!newSearch.has('page')){\n      newSearch.set('page', 1)\n    }\n    const pathArr = pathname.split('/').slice(2, 4)\n    dispatch(getProducts(pathArr, `?${newSearch}`))\n    return () => {\n      dispatch(setProducts(null))\n    }\n  }, [pathname, search, dispatch])\n  \n  return (\n    <>\n      <ProductContainer>\n        {!products && (\n          error ? (\n            <P>{error}</P>\n          ) : (\n            <H4>商品載入中...</H4>\n          )\n        )}\n        {products?.rows && !error && (\n          products.rows.length > 0 ? (\n            products.rows.map(product => (\n              <ProductItem key={product.id} product={product} />\n            ))\n          ) : (\n            <H4>查無商品</H4>\n          )\n        )}\n      </ProductContainer>\n      <IndexContainer>\n        {products && (\n          <Pagination {...{products}} />\n        )}\n      </IndexContainer>\n    </>\n  )\n}","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\";\n\nimport { useSelector } from \"react-redux\";\nimport useProduct from \"../../hooks/useProduct\"\n\nimport { MEDIA_QUERY } from \"../../constants/style\";\nimport { H4, P, Span } from \"../../constants/style\"\n\n\nconst PopupItem = styled.div`\n    display: flex;\n    & > div {\n        padding: 20px;\n        width: 50%;\n        & img {\n            width: 100%;\n        }\n    }\n    ${MEDIA_QUERY.s} {\n        display: block;\n        & > div {\n            padding: 10px 0;\n            margin: 0 auto;\n            width: 80%;\n        }\n    }\n`\n\nconst PopupBtnGroup = styled.div`\n  text-align: center;\n  padding: 10px 0 20px;\n  & a {\n    margin-left: 5px;\n  }\n`\nconst PopupBtn = styled.button`\n  padding: 5px 15px;\n  border-radius: .25em;\n  border: 1px solid ${props => props.$checked ? props.theme.color.black : props.theme.color.lightGrey};\n  transition: .4s;\n  background-color: ${props => props.$checked ? props.theme.color.black : props.theme.color.white};\n  & span {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n    color: ${props => props.$checked ? props.theme.color.white : props.theme.color.black};\n  }\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    border-color: ${props => props.theme.color.black};\n    & span {\n      color: ${props => props.theme.color.white};\n    }\n  }\n`\n\n\nexport const CartPopup = () => {\n\n  const product = useSelector(state => state.product.product)\n  const spec = useSelector(state => state.product.spec)\n\n  const mainImg = product.product.Images.find(img => img.is_main)\n  const price = product.product.is_sale ? product.product.price_sale : product.product.price_standard\n  \n  const {\n    handleClosePopup\n  } = useProduct()\n\n  return (\n    <>\n      <PopupItem>\n          <div>\n            <img src={mainImg.src} alt={mainImg.alt}/>\n          </div>\n          <div>\n            <H4>{product.product.name}</H4>\n            <P>價格: {price}</P>\n            <P>尺寸: {spec.size}, 顏色: {spec.color}</P>\n            <P>數量: {spec.qty}</P>\n          </div>\n      </PopupItem>\n      <PopupBtnGroup>\n        <PopupBtn onClick={handleClosePopup()}>\n          <Span>繼續選購</Span>\n        </PopupBtn>\n        <Link to=\"/cart\" onClick={handleClosePopup()}>\n          <PopupBtn>\n            <Span>前往結帳</Span>\n          </PopupBtn>\n        </Link>\n      </PopupBtnGroup>\n    </>\n  )\n}","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport { P, Span } from '../constants/style';\n\nconst PopupContent = styled.div`\n    display: flex;\n    justify-content: space-between;\n    & a {\n        text-decoration: underline ${props => props.theme.color.black};\n    }\n    & span {\n        font-weight: ${props => props.theme.fontWeight.xl};\n    }\n`;\n\nexport const LoginPopup = () => {\n    const popupCode = useSelector(state => state.general.popupCode);\n\n    return (\n        <>\n            {popupCode === 'login' && (\n                <PopupContent>\n                    <P>請先登入！</P>\n                    <Link to=\"/\">\n                        <Span>點我登入</Span>\n                    </Link>\n                </PopupContent>\n            )}\n        </>\n    );\n};\n","import { useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { sizeMap } from \"../constants/mapping\";\nimport { setErrorMessage } from \"../features/general/generalSlice\";\nimport { addProductAPI, searchProductAPI, updateProductAPI, uploadImageAPI } from \"../webAPI/productAPI\"\n\n\nexport default function useAdminProduct ({step, setStep, productToAdd, setProductToAdd, top}) {\n\n    const history = useHistory();\n\n    const [name, setName] = useState('')\n    const [gender, setGender] = useState('')\n    const [category, setCategory] = useState('')\n    const [desc, setDesc] = useState('')\n    const [material, setMaterial] = useState('')\n    const [washing, setWashing] = useState('')\n    const [images, setImages] = useState(Array(4).fill({src: ''}))\n\n    const [sizes, setSizes] = useState([])\n    const [colors, setColors] = useState([])\n    \n    const [patterns, setPatterns] = useState([])\n    const [isOn, setIsOn] = useState(false)\n    const [isSale, setIsSale] = useState(false)\n    const [priceStandard, setPriceStandard] = useState(0)\n    const [priceSale, setPriceSale] = useState(0)\n\n    const product = useSelector(state => state.product.product)\n    const errorMessage = useSelector(state => state.general.errorMessage)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(!product) return\n        setName(product.product.name)\n        setGender(product.product.gender)\n        setCategory(product.product.Category.name)\n        setDesc(product.product.desc)\n        setMaterial(product.product.material)\n        setWashing(product.product.washing)\n        setImages(Array(4).fill({src: ''}).map((image, i) => product.product.Images[i] ? {...image, id: product.product.Images[i].id, src: product.product.Images[i].src, alt: `${product.product.name}_0${i+1}`} : {...image, alt: `${product.product.name}_0${i+1}`}))\n        setSizes(product.product[product.product.Category.group].map(size => size.waist ? {...size, waist: size.waist.split('~')} : size))\n        setColors(product.product.Colors)\n    }, [product])\n\n    const [isSubmitted, setIsSubmitted] = useState(false)\n\n    useEffect(() => {\n        if(!isSubmitted) return\n        addProductAPI(productToAdd)\n        .then(result => {\n            setIsSubmitted(false)\n            if (!result.ok) {\n                let lastProduct = {...productToAdd}\n                switch (isSubmitted) {\n                    case 'first': {\n                        lastProduct = ''\n                        break\n                    }\n                    case 'second': {\n                        delete lastProduct.sizes\n                        delete lastProduct.colors\n                        break\n                    }\n                    case 'third': {\n                        delete lastProduct.patterns\n                        delete lastProduct.is_on\n                        delete lastProduct.is_sale\n                        delete lastProduct.price_standard\n                        delete lastProduct.price_sale\n                        break\n                    }\n                    default: break\n                }\n                setProductToAdd(lastProduct)\n                alert(result.message)\n                return window.scrollTo(0, 0)\n            }\n            dispatch(setErrorMessage(''))\n            setProductToAdd('')\n        })\n        .then(() => {\n            setTimeout(() => {\n                alert('新增成功!')\n                history.push('/admin/product/information')\n            });\n        })\n    }, [isSubmitted, dispatch, history, productToAdd, setProductToAdd])\n\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'name': {\n                if(errorMessage) dispatch(setErrorMessage(''))\n                return setName(e.target.value)\n            }\n            case 'gender': {\n                if(e.target.id === 'male') return setGender('M')\n                if(e.target.id === 'female') return setGender('F')\n                break\n            }\n            case 'category': return setCategory(e.target.value)\n            case 'desc': return setDesc(e.target.value)\n            case 'material': return setMaterial(e.target.value)\n            case 'washing': return setWashing(e.target.value)\n            case 'image': {\n                return setImages(images.map((image, index) => index === parseInt(e.target.id.slice(-1)) ? {...image, src: e.target.value} : image))\n            }\n            case 'size': {\n                if(e.target.id.includes('size') && errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                if(e.target.id.includes('waist')){\n                    return setSizes(sizes.map((size, i) => i === parseInt(e.target.id.slice(-1)) ? {...size, waist: size.waist.map((a, i) => i === parseInt(e.target.id.split('_')[1]) ? e.target.value : a)} : size))\n                }\n                return setSizes(sizes.map((size, i) => i === parseInt(e.target.id.slice(-1)) ? {...size, [e.target.id.slice(0, -2)]: e.target.value.toUpperCase()} : size))\n            }\n            case 'color': {\n                if(e.target.id.includes('name') && errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors(colors.map((color, i) => i === parseInt(e.target.id.slice(-1)) ? {...color, [e.target.id.split('_')[0]]: e.target.value.toLowerCase()} : color))\n            }\n            case 'pattern': {\n                return setPatterns(patterns.map((pattern, i) => i === parseInt(e.target.id.slice(-1)) ? {...pattern, [e.target.id.split('_')[0]]: e.target.value} : pattern))\n            }\n            case 'is_on': return setIsOn(e.target.checked)\n            case 'is_sale': return setIsSale(e.target.checked)\n            case 'price_standard': return setPriceStandard(e.target.value)\n            case 'price_sale': return setPriceSale(e.target.value)\n            default: break\n        }\n    }\n\n    const handleSetStep = e => {\n        switch (step) {\n            case 1: {\n                window.scrollTo(0, 0)\n                if(!name || !gender || !category || !images[0].src) return; \n                return searchProductAPI([['name', name]]).then(result => {\n                    if(result.ok) return dispatch(setErrorMessage('商品名稱重複'))\n                    saveProduct()\n                    setStep(step+1)\n                })\n            }\n            case 2: {\n                if(e.target.name === 'next'){\n                    if(saveProduct()){\n                        setStep(step+1)\n                        window.scrollTo(0, 400)\n                    }else{\n                        window.scrollTo(0, 0)\n                    }\n                }\n                if(e.target.name === 'back') {\n                    setProductToAdd('')\n                    setStep(step-1)\n                    window.scrollTo(0, 0)\n                    setSizes([])\n                }\n                break\n            }\n            case 3: {\n                const lastProduct = {...productToAdd}\n                delete lastProduct.sizes\n                delete lastProduct.colors\n                setProductToAdd(lastProduct)\n                setStep(step-1)\n                return window.scrollTo(0, 0)\n            }\n            default: break\n        }\n    }\n\n    const handleFormSubmit = e => {\n        e.preventDefault()\n        const [type, stepName] = e.target.name.split('_')\n        switch (type) {\n            case 'edit': {\n                return checkForm() ? (\n                    updateProductAPI(product.product.id, {\n                        name, \n                        gender, \n                        desc, \n                        material, \n                        washing, \n                        images, \n                        sizes, \n                        colors, \n                    }).then(result => {\n                        if (!result.ok) {\n                            dispatch(setErrorMessage(result.message))\n                            return top.current.scrollIntoView();\n                        }\n                        dispatch(setErrorMessage(''))\n                        alert('更新成功!')\n                        history.go()\n                    })\n                ) : (\n                    top.current.scrollIntoView()\n                )\n            }\n            case 'add': {\n                if (stepName === 'third') saveProduct()\n                return setIsSubmitted(stepName)\n            }\n            default: break\n        }\n    }\n\n    function checkForm () {\n        if(!sizes.every(size => size.size) || !colors.every(color => color.name)) return false\n        if(new Set(sizes.map(size => size.size)).size !== sizes.length){\n            dispatch(setErrorMessage('尺碼不可重複'))\n            return false\n        }\n        if(new Set(colors.map(color => color.name)).size !== colors.length){\n            dispatch(setErrorMessage('名稱不可重複'))\n            return false\n        }\n        return true\n    }\n\n    function saveProduct () {\n        switch (step) {\n            case 1: {\n                return setProductToAdd({\n                    ...productToAdd,\n                    name, gender, category, desc, material, washing, \n                    images: images\n                        .filter(image => image.src)\n                        .map((image, index) => image.src && ({\n                            src: image.src,\n                            alt: `${name}_0${index+1}`\n                        }))\n                })\n            }\n            case 2: {\n                if (checkForm()) {\n                    setProductToAdd({\n                        ...productToAdd,\n                        sizes, colors\n                    })\n                    return true\n                } else {\n                    return false\n                }\n            }\n            case 3: {\n                setProductToAdd({\n                    ...productToAdd,\n                    patterns,\n                    is_on: isOn,\n                    is_sale: isSale,\n                    price_standard: priceStandard,\n                    price_sale: priceSale\n                })\n                return true\n            }\n            default: break\n        }\n    }\n\n    const handleAddPattern = group => e => {\n        switch (e.target.name) {\n            case 'size': {\n                if(errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                const obj = {size: ''}\n                Object.keys(sizeMap[group]).map(ele => (\n                    obj[ele] = (ele === 'waist' ? [0, 0] : 0)\n                ))\n                return setSizes([...sizes, obj])\n            }\n            case 'color': {\n                if(errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors([...colors, {name: '', code: '#000000'}])\n            }\n            default: break\n        }\n    }\n\n    const handleDeletePattern = index => e => {\n        switch (e.currentTarget.name) {\n            case 'size': {\n                if(sizes.length === 1) return\n                if(errorMessage === '尺碼不可重複') dispatch(setErrorMessage(''))\n                return setSizes(sizes.filter((size, i) => i !== index))\n            }\n            case 'color': {\n                if(colors.length === 1) return\n                if(errorMessage === '名稱不可重複') dispatch(setErrorMessage(''))\n                return setColors(colors.filter((size, i) => i !== index))\n            }\n            default: break\n        }\n    }\n\n    const handleUploadImage = e => {\n        console.log('test')\n        // const index = parseInt(e.target.id.slice(-1))\n        // uploadImageAPI(e.target.files[0])\n        //     .then(result => {\n        //         console.log(result.data.link)\n        //         setImages(images.map((image, i) => i === index ? {...image, src: result.data.link} : image))\n        //     })\n    }\n\n    return {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n        setImages,\n\n        sizes, \n        setSizes, \n        colors, \n        setColors, \n\n        patterns, \n        setPatterns, \n\n        isOn, \n        setIsOn, \n        isSale, \n        setIsSale, \n        priceStandard, \n        setPriceStandard, \n        priceSale, \n        setPriceSale, \n\n        handleInputChange, \n        handleSetStep, \n        handleFormSubmit, \n        checkForm, \n        saveProduct, \n        handleAddPattern, \n        handleDeletePattern, \n        handleUploadImage,\n\n        isSubmitted\n    }\n}","import { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { sizeMap } from '../../../constants/mapping';\nimport { P, fontTheme, TextBtn, Btn } from '../../../constants/style';\n\nimport useAdminProduct from '../../../hooks/useAdminProduct';\nimport { useCallback } from 'react';\nimport { uploadImageAPI } from '../../../webAPI/productAPI';\nimport { Loader } from '../../../components/Loader';\n\nconst StepContainer = styled.div`\n\tborder: 1px solid #aaa8;\n\tborder-radius: 0.5em;\n\tbackground-color: #eee;\n\t${props => !props.$active && 'opacity: 0.5;'}\n\ttransition: .5s;\n\tpadding: 10px;\n`;\n\nconst FirstStepContainer = styled(StepContainer)``;\nconst SecondStepContainer = styled(StepContainer)`\n\tmargin-bottom: 20px;\n\tmax-height: ${props =>\n\t\tprops.$step >= 2 || props.$step === 0 ? '1000px' : '80px'};\n\toverflow: hidden;\n\ttransition: 1s;\n`;\nconst ThirdStepContainer = styled(StepContainer)`\n\tmax-height: ${props =>\n\t\tprops.$step >= 3 || props.$step === 0 ? '1000px' : '80px'};\n\toverflow: hidden;\n\ttransition: 1s;\n`;\n\nconst MainContainer = styled.main`\n\twidth: 70%;\n\tflex-grow: 1;\n\tdisplay: flex;\n\t& > div {\n\t\twidth: 50%;\n\t\tpadding: 10px;\n\t}\n`;\n\nconst LeftContainer = styled.div``;\nconst RightContainer = styled.div``;\n\nconst FlowNode = styled.div`\n\t${fontTheme.span};\n\tmargin-right: 10px;\n\tbackground-color: ${props => props.theme.color.lightGrey};\n\tcolor: ${props => props.theme.color.white};\n\tmin-width: 60px;\n\tmin-height: 60px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 50%;\n\t& > p {\n\t\t${fontTheme.h4}\n\t}\n`;\n\nconst FlowText = styled.div`\n\t${fontTheme.h4}\n\tpadding-right: 10px;\n\tcolor: ${props => props.theme.color.lightGrey};\n\tmin-width: ${props => props.$fixed && '108px'};\n`;\n\nconst FlowContent = styled.li`\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 10px;\n\tpadding: 10px;\n\tposition: relative;\n\t& + li::before {\n\t\tcontent: '>';\n\t\tposition: absolute;\n\t\tleft: -10px;\n\t\t${fontTheme.h3}\n\t\tcolor: ${props => props.theme.color.lightGrey};\n\t}\n\t${FlowNode} {\n\t\tbackground-color: ${props => props.$active && props.theme.color.black};\n\t}\n\t${FlowText} {\n\t\tcolor: ${props => props.$active && props.theme.color.black};\n\t}\n`;\n\nconst InputBlock = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0px 10px 10px;\n\t${fontTheme.p}\n\tposition: relative;\n\t& label {\n\t\tline-height: 2em;\n\t}\n\t& input,\n\tselect,\n\ttextarea {\n\t\t${fontTheme.span}\n\t\tpadding: 3px 8px;\n\t\t&:invalid {\n\t\t\tborder: 2px solid red;\n\t\t\t& ~ span {\n\t\t\t\t&::before {\n\t\t\t\t\t${fontTheme.span}\n\t\t\t\t\tcolor: ${props => props.theme.color.alert};\n\t\t\t\t\tcontent: '這是必填欄位';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t& > input,\n\t> select,\n\t> textarea {\n\t\tmargin: 0 5px;\n\t}\n\t& span {\n\t\tposition: absolute;\n\t\ttop: 10px;\n\t\tright: 15px;\n\t\t${fontTheme.span}\n\t\tcolor: ${props => props.theme.color.alert};\n\t}\n`;\n\nconst BtnContainer = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding: 20px 10px 10px;\n\t& > button {\n\t\tmargin: 0px 5px;\n\t}\n`;\n\nconst UploadBtn = styled(TextBtn)`\n\t${fontTheme.h5}\n\tfont-weight: ${props => props.theme.fontWeight.m};\n\tpadding: 0px;\n\t& label {\n\t\tpadding: 5px 8px;\n\t\tcursor: pointer;\n\t}\n\t& + input {\n\t\tdisplay: none;\n\t}\n`;\n\nconst AddBtn = styled(TextBtn)`\n\t${fontTheme.h5}\n\tfont-weight: ${props => props.theme.fontWeight.m};\n\tpadding: 3px 8px;\n`;\n\nconst ImgInput = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 0 5px;\n\t& + div {\n\t\tmargin-top: 5px;\n\t}\n\t& input {\n\t\tflex-grow: 9.5;\n\t\tfont-size: ${props => props.theme.fontSize.bodySmall};\n\t}\n\t& button {\n\t\tflex-grow: 0.5;\n\t\tmargin-left: 5px;\n\t}\n`;\n\nconst CheckInput = styled.div`\n\t& input {\n\t\tmargin: 0 5px;\n\t\t& ~ input {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t}\n`;\n\nconst InputTitle = styled.div`\n\tmargin-left: 0;\n\tdisplay: flex;\n\talign-items: center;\n\t& > button {\n\t\tmargin-left: 10px;\n\t}\n`;\n\nconst SizeInput = styled.div`\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\t& input {\n\t\tmargin: 0 5px;\n\t\twidth: 40px;\n\t}\n\talign-items: baseline;\n\tmargin: 5px 5px 0;\n\t& > div {\n\t\t// flex-grow: 1;\n\t\tdisplay: flex;\n\t\t& > input {\n\t\t\t// flex-grow: 1;\n\t\t}\n\t}\n\t& > button {\n\t\tmargin: 5px 5px 0;\n\t\t& svg {\n\t\t\tfont-size: ${props => props.theme.fontSize.h4};\n\t\t}\n\t}\n`;\n\nconst ColorInput = styled.div`\n\tdisplay: flex;\n\t& input {\n\t\tmargin: 0 5px;\n\t}\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\t\tmargin: 5px 5px 0;\n\t\tflex-grow: 1;\n\t\t& > input {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\t& > button {\n\t\tmargin: 5px 5px 0;\n\t\t& svg {\n\t\t\tfont-size: ${props => props.theme.fontSize.h4};\n\t\t}\n\t}\n`;\n\nconst PatternInput = styled.div`\n\tmargin: 0 5px;\n\t& input {\n\t\tmargin: 0 5px;\n\t\twidth: 40px;\n\t}\n\t& + div {\n\t\tmargin-top: 5px;\n\t}\n`;\n\nconst PriceInput = styled.div`\n\tmargin: 0 5px;\n\t& input {\n\t\tmargin: 0 5px;\n\t\twidth: 60px;\n\t}\n`;\n\nexport const FirstStepInputs = ({\n\tstep,\n\tname,\n\tgender,\n\tcategory,\n\tdesc,\n\tmaterial,\n\twashing,\n\timages,\n\thandleInputChange,\n\tsetImages,\n}) => {\n\tconst errorMessage = useSelector(state => state.general.errorMessage);\n\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tconst handleUploadImage = e => {\n\t\tif (!e.target.files[0]) return;\n\t\tsetIsLoading(true);\n\t\tconst index = parseInt(e.target.id.slice(-1));\n\t\tuploadImageAPI(e.target.files[0]).then(result => {\n\t\t\tsetImages(\n\t\t\t\timages.map((image, i) =>\n\t\t\t\t\ti === index ? { ...image, src: result.data.link } : image\n\t\t\t\t)\n\t\t\t);\n\t\t\tsetIsLoading(false);\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<InputBlock>\n\t\t\t\t<label htmlFor=\"name\">品名</label>\n\t\t\t\t<input\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tid=\"name\"\n\t\t\t\t\tdisabled={step > 1}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<span>{errorMessage === '商品名稱重複' && errorMessage}</span>\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<label>性別</label>\n\t\t\t\t<CheckInput>\n\t\t\t\t\t<input\n\t\t\t\t\t\tchecked={gender === 'M'}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\tid=\"male\"\n\t\t\t\t\t\tdisabled={step > 1}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"male\">男裝</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tchecked={gender === 'F'}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\tid=\"female\"\n\t\t\t\t\t\tdisabled={step > 1}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"female\">女裝</label>\n\t\t\t\t\t<span></span>\n\t\t\t\t</CheckInput>\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<label htmlFor=\"category\">分類</label>\n\t\t\t\t<select\n\t\t\t\t\tvalue={category}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tname=\"category\"\n\t\t\t\t\tid=\"category\"\n\t\t\t\t\tdisabled={step !== 1}\n\t\t\t\t\trequired\n\t\t\t\t\tpattern=\".\"\n\t\t\t\t>\n\t\t\t\t\t<option value=\"\">-----</option>\n\t\t\t\t\t<option value=\"tops\">上衣類</option>\n\t\t\t\t\t<option value=\"shirts\">襯衫類</option>\n\t\t\t\t\t<option value=\"knit\">針織衫 / 毛衣</option>\n\t\t\t\t\t<option value=\"one_piece\">洋裝類</option>\n\t\t\t\t\t<option value=\"outer\">外套類</option>\n\t\t\t\t\t<option value=\"bottoms\">褲裝類</option>\n\t\t\t\t\t<option value=\"skirts\">裙子類</option>\n\t\t\t\t\t<option value=\"general\">配件類</option>\n\t\t\t\t</select>\n\t\t\t\t<span></span>\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<label htmlFor=\"desc\">簡介</label>\n\t\t\t\t<textarea\n\t\t\t\t\tvalue={desc}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tname=\"desc\"\n\t\t\t\t\tid=\"desc\"\n\t\t\t\t\tdisabled={step > 1}\n\t\t\t\t\trows=\"5\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t/>\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<label htmlFor=\"material\">材質</label>\n\t\t\t\t<textarea\n\t\t\t\t\tvalue={material}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tname=\"material\"\n\t\t\t\t\tid=\"material\"\n\t\t\t\t\tdisabled={step > 1}\n\t\t\t\t\trows=\"2\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t/>\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<label htmlFor=\"washing\">洗滌方式</label>\n\t\t\t\t<textarea\n\t\t\t\t\tvalue={washing}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tname=\"washing\"\n\t\t\t\t\tid=\"washing\"\n\t\t\t\t\tdisabled={step > 1}\n\t\t\t\t\trows=\"4\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t/>\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<label htmlFor=\"image\">照片 (第一張為封面)</label>\n\t\t\t\t{images.map((image, i) => (\n\t\t\t\t\t<ImgInput key={i}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tvalue={image.src}\n\t\t\t\t\t\t\tplaceholder={!i ? '(必填)' : '(選填)'}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\tid={`image_${i}`}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tdisabled={step > 1}\n\t\t\t\t\t\t\trequired={i === 0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UploadBtn $white $active={step === 1 || step === 0}>\n\t\t\t\t\t\t\t<label htmlFor={`upload_${i}`}>上傳照片</label>\n\t\t\t\t\t\t</UploadBtn>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tid={`upload_${i}`}\n\t\t\t\t\t\t\tname=\"upload\"\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tonChange={handleUploadImage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</ImgInput>\n\t\t\t\t))}\n\t\t\t</InputBlock>\n\t\t\t{isLoading && <Loader />}\n\t\t</>\n\t);\n};\n\nconst FirstStep = ({ step, setStep, productToAdd, setProductToAdd }) => {\n\tconst {\n\t\tname,\n\t\tgender,\n\t\tcategory,\n\t\tdesc,\n\t\tmaterial,\n\t\twashing,\n\t\timages,\n\t\tsetImages,\n\t\thandleInputChange,\n\t\thandleSetStep,\n\t} = useAdminProduct({ step, setStep, productToAdd, setProductToAdd });\n\n\treturn (\n\t\t<FirstStepContainer $active={step === 1}>\n\t\t\t<FlowContent $active>\n\t\t\t\t<FlowNode>\n\t\t\t\t\tStep\n\t\t\t\t\t<p>01</p>\n\t\t\t\t</FlowNode>\n\t\t\t\t<FlowText $fixed>產品基本資料</FlowText>\n\t\t\t</FlowContent>\n\t\t\t{/* <form onSubmit={e => e.preventDefault()}> */}\n\t\t\t<FirstStepInputs\n\t\t\t\t{...{\n\t\t\t\t\tstep,\n\t\t\t\t\tname,\n\t\t\t\t\tgender,\n\t\t\t\t\tcategory,\n\t\t\t\t\tdesc,\n\t\t\t\t\tmaterial,\n\t\t\t\t\twashing,\n\t\t\t\t\timages,\n\t\t\t\t\thandleInputChange,\n\t\t\t\t\tsetImages,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<BtnContainer>\n\t\t\t\t<TextBtn\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tname=\"next\"\n\t\t\t\t\tonClick={handleSetStep}\n\t\t\t\t\t$active={step === 1}\n\t\t\t\t\tdisabled={step !== 1}\n\t\t\t\t>\n\t\t\t\t\t下一步\n\t\t\t\t</TextBtn>\n\t\t\t</BtnContainer>\n\t\t\t{/* </form> */}\n\t\t</FirstStepContainer>\n\t);\n};\n\nexport const SecondStepInputs = ({\n\tstep,\n\tgroup,\n\tsizes,\n\tcolors,\n\thandleInputChange,\n\thandleAddPattern,\n\thandleDeletePattern,\n\tsizesLength,\n\tcolorsLength,\n}) => {\n\tconst errorMessage = useSelector(state => state.general.errorMessage);\n\n\treturn (\n\t\t<>\n\t\t\t<InputBlock>\n\t\t\t\t<InputTitle>\n\t\t\t\t\t<label>尺寸</label>\n\t\t\t\t\t{group !== 'Size_general' && (\n\t\t\t\t\t\t<AddBtn\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={handleAddPattern(group)}\n\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t$white\n\t\t\t\t\t\t\t$active={step === 2 || step === 0}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t新增尺寸\n\t\t\t\t\t\t</AddBtn>\n\t\t\t\t\t)}\n\t\t\t\t</InputTitle>\n\t\t\t\t{sizes.length > 0 ? (\n\t\t\t\t\tgroup && sizeMap[group] ? (\n\t\t\t\t\t\tsizes.map((size, i) => (\n\t\t\t\t\t\t\t<SizeInput key={i}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label htmlFor={`size_${i}`}>尺碼:</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tvalue={size.size}\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t\t\t\tid={`size_${i}`}\n\t\t\t\t\t\t\t\t\t\tsize=\"2\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\tstep !== 2 &&\n\t\t\t\t\t\t\t\t\t\t\t(sizesLength ? i < sizesLength : 1)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{errorMessage === '尺碼不可重複' &&\n\t\t\t\t\t\t\t\t\t\t\terrorMessage}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{Object.entries(sizeMap[group]).map(\n\t\t\t\t\t\t\t\t\t(spec, j) => (\n\t\t\t\t\t\t\t\t\t\t<div key={j}>\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor={`${spec[0]}_${i}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{spec[1]}:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t{spec[0] === 'waist' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={size[spec[0]][0]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleInputChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`${spec[0]}_0_${i}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep !== 2 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep !== 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={size[spec[0]][1]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleInputChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`${spec[0]}_1_${i}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep !== 2 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep !== 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={size[spec[0]]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`${spec[0]}_${i}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep !== 2 && step !== 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Btn\n\t\t\t\t\t\t\t\t\tonClick={handleDeletePattern(i)}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\tstep !== 2 &&\n\t\t\t\t\t\t\t\t\t\t(sizesLength ? i < sizesLength : 1)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTimes} />\n\t\t\t\t\t\t\t\t</Btn>\n\t\t\t\t\t\t\t</SizeInput>\n\t\t\t\t\t\t))\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<P>單一尺寸</P>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{Array(2)\n\t\t\t\t\t\t\t.fill('')\n\t\t\t\t\t\t\t.map((a, i) => (\n\t\t\t\t\t\t\t\t<SizeInput key={i}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label>尺碼:</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"2\"\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</SizeInput>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<InputTitle>\n\t\t\t\t\t<label>顏色</label>\n\t\t\t\t\t<AddBtn\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleAddPattern()}\n\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t$white\n\t\t\t\t\t\t$active={step === 2 || step === 0}\n\t\t\t\t\t>\n\t\t\t\t\t\t新增顏色\n\t\t\t\t\t</AddBtn>\n\t\t\t\t</InputTitle>\n\t\t\t\t{colors &&\n\t\t\t\t\tcolors.map((color, i) => (\n\t\t\t\t\t\t<ColorInput key={i}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label htmlFor={`name_${i}`}>名稱:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tvalue={color.name}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\tid={`name_${i}`}\n\t\t\t\t\t\t\t\t\tsize=\"10\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\tstep !== 2 &&\n\t\t\t\t\t\t\t\t\t\t(colorsLength ? i < colorsLength : 1)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{errorMessage === '名稱不可重複' &&\n\t\t\t\t\t\t\t\t\t\terrorMessage}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label htmlFor={`code_${i}`}>色碼:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tvalue={color.code}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\ttype=\"color\"\n\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\tid={`code_${i}`}\n\t\t\t\t\t\t\t\t\tdisabled={step !== 2 && step !== 0}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Btn\n\t\t\t\t\t\t\t\tonClick={handleDeletePattern(i)}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tstep !== 2 &&\n\t\t\t\t\t\t\t\t\t(colorsLength ? i < colorsLength : 1)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTimes} />\n\t\t\t\t\t\t\t</Btn>\n\t\t\t\t\t\t</ColorInput>\n\t\t\t\t\t))}\n\t\t\t</InputBlock>\n\t\t</>\n\t);\n};\n\nconst SecondStep = ({ step, setStep, productToAdd, setProductToAdd }) => {\n\tconst {\n\t\tsizes,\n\t\tsetSizes,\n\t\tcolors,\n\t\tsetColors,\n\t\terror,\n\t\thandleInputChange,\n\t\thandleSetStep,\n\t\thandleFormSubmit,\n\t\thandleAddPattern,\n\t\thandleDeletePattern,\n\t} = useAdminProduct({ step, setStep, productToAdd, setProductToAdd });\n\n\tconst getGroup = useCallback(() => {\n\t\tswitch (productToAdd.category) {\n\t\t\tcase 'tops':\n\t\t\tcase 'shirts':\n\t\t\tcase 'knit':\n\t\t\tcase 'one_piece':\n\t\t\tcase 'outer': {\n\t\t\t\treturn 'Size_top';\n\t\t\t}\n\t\t\tcase 'bottoms': {\n\t\t\t\treturn 'Size_bottom';\n\t\t\t}\n\t\t\tcase 'skirts': {\n\t\t\t\treturn 'Size_skirt';\n\t\t\t}\n\t\t\tcase 'general': {\n\t\t\t\treturn 'Size_general';\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}, [productToAdd]);\n\n\tuseEffect(() => {\n\t\tif (step !== 2) return;\n\t\tif (!productToAdd) return;\n\t\tif (getGroup() === 'Size_general') {\n\t\t\tsetSizes([{ size: 'one' }]);\n\t\t} else {\n\t\t\tlet arr = Array(2).fill({ size: '' });\n\t\t\tObject.keys(sizeMap[getGroup()]).map(ele =>\n\t\t\t\tarr.map(a => (a[ele] = ele === 'waist' ? [0, 0] : 0))\n\t\t\t);\n\t\t\tsetSizes(arr);\n\t\t}\n\t\tsetColors(Array(2).fill({ name: '', code: '#000000' }));\n\t}, [productToAdd, step, setSizes, setColors, getGroup]);\n\n\treturn (\n\t\t<SecondStepContainer $active={step === 2} $step={step}>\n\t\t\t<FlowContent $active>\n\t\t\t\t<FlowNode>\n\t\t\t\t\tStep\n\t\t\t\t\t<p>02</p>\n\t\t\t\t</FlowNode>\n\t\t\t\t<FlowText $fixed>設定尺寸及顏色</FlowText>\n\t\t\t</FlowContent>\n\t\t\t{getGroup() && (\n\t\t\t\t// <form onSubmit={e => e.preventDefault()}>\n\t\t\t\t<>\n\t\t\t\t\t<SecondStepInputs\n\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\tstep,\n\t\t\t\t\t\t\tsizes,\n\t\t\t\t\t\t\tcolors,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\thandleInputChange,\n\t\t\t\t\t\t\thandleAddPattern,\n\t\t\t\t\t\t\thandleDeletePattern,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroup={getGroup() || null}\n\t\t\t\t\t/>\n\t\t\t\t\t<BtnContainer>\n\t\t\t\t\t\t<TextBtn\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tname=\"back\"\n\t\t\t\t\t\t\tonClick={handleSetStep}\n\t\t\t\t\t\t\t$active={step === 2}\n\t\t\t\t\t\t\tdisabled={step !== 2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t上一步\n\t\t\t\t\t\t</TextBtn>\n\t\t\t\t\t\t<TextBtn\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tname=\"next\"\n\t\t\t\t\t\t\tonClick={handleSetStep}\n\t\t\t\t\t\t\t$active={step === 2}\n\t\t\t\t\t\t\tdisabled={step !== 2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t下一步\n\t\t\t\t\t\t</TextBtn>\n\t\t\t\t\t\t<TextBtn\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tname=\"add_first\"\n\t\t\t\t\t\t\tonClick={handleFormSubmit}\n\t\t\t\t\t\t\t$active={step === 2}\n\t\t\t\t\t\t\tdisabled={step !== 2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t略過並儲存\n\t\t\t\t\t\t</TextBtn>\n\t\t\t\t\t</BtnContainer>\n\t\t\t\t</>\n\t\t\t\t// </form>\n\t\t\t)}\n\t\t</SecondStepContainer>\n\t);\n};\n\nconst ThirdStepInputs = ({\n\tstep,\n\tpatterns,\n\tisOn,\n\tisSale,\n\tpriceStandard,\n\tpriceSale,\n\thandleInputChange,\n}) => {\n\treturn (\n\t\t<>\n\t\t\t<InputBlock>\n\t\t\t\t<label>存貨數量</label>\n\t\t\t\t{patterns &&\n\t\t\t\t\tpatterns.map((pattern, i) => (\n\t\t\t\t\t\t<PatternInput key={i}>\n\t\t\t\t\t\t\t尺寸: {pattern.size}, 顏色: {pattern.color},\n\t\t\t\t\t\t\t<label htmlFor={`total_${i}`}> 數量:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tvalue={pattern.total}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"pattern\"\n\t\t\t\t\t\t\t\tid={`total_${i}`}\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PatternInput>\n\t\t\t\t\t))}\n\t\t\t</InputBlock>\n\t\t\t<InputBlock>\n\t\t\t\t<label>商品價格</label>\n\t\t\t\t<CheckInput>\n\t\t\t\t\t<input\n\t\t\t\t\t\tchecked={isOn}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"is_on\"\n\t\t\t\t\t\tid=\"is_on\"\n\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"is_on\">上架中</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={isSale}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"is_sale\"\n\t\t\t\t\t\tid=\"is_sale\"\n\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"is_sale\">特價中</label>\n\t\t\t\t</CheckInput>\n\t\t\t\t<PriceInput>\n\t\t\t\t\t<label htmlFor=\"price_standard\">原價:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={priceStandard}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"price_standard\"\n\t\t\t\t\t\tid=\"price_standard\"\n\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"price_standard\">特價:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={priceSale}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"price_sale\"\n\t\t\t\t\t\tid=\"price_sale\"\n\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t/>\n\t\t\t\t</PriceInput>\n\t\t\t</InputBlock>\n\t\t</>\n\t);\n};\n\nconst ThirdStep = ({ step, setStep, productToAdd, setProductToAdd }) => {\n\tconst {\n\t\tpatterns,\n\t\tsetPatterns,\n\t\tisOn,\n\t\tsetIsOn,\n\t\tisSale,\n\t\tsetIsSale,\n\t\tpriceStandard,\n\t\tsetPriceStandard,\n\t\tpriceSale,\n\t\tsetPriceSale,\n\t\thandleInputChange,\n\t\thandleSetStep,\n\t\thandleFormSubmit,\n\t} = useAdminProduct({ step, setStep, productToAdd, setProductToAdd });\n\n\tuseEffect(() => {\n\t\tif (step !== 3) return;\n\t\tif (!productToAdd.sizes || !productToAdd.colors) return;\n\t\tlet arr = [];\n\t\tproductToAdd.sizes.map(size =>\n\t\t\tproductToAdd.colors.map(color =>\n\t\t\t\tarr.push({ size: size.size, color: color.name, total: 0 })\n\t\t\t)\n\t\t);\n\t\tsetPatterns(arr);\n\t\tsetIsOn(false);\n\t\tsetIsSale(false);\n\t\tsetPriceStandard(0);\n\t\tsetPriceSale(0);\n\t}, [\n\t\tstep,\n\t\tproductToAdd,\n\t\tsetPatterns,\n\t\tsetIsOn,\n\t\tsetIsSale,\n\t\tsetPriceStandard,\n\t\tsetPriceSale,\n\t]);\n\n\treturn (\n\t\t<ThirdStepContainer $active={step === 3} $step={step}>\n\t\t\t<FlowContent $active>\n\t\t\t\t<FlowNode>\n\t\t\t\t\tStep\n\t\t\t\t\t<p>03</p>\n\t\t\t\t</FlowNode>\n\t\t\t\t<FlowText $fixed>存貨數量及商品價格</FlowText>\n\t\t\t</FlowContent>\n\t\t\t{patterns.length > 0 && (\n\t\t\t\t<form onSubmit={e => e.preventDefault()}>\n\t\t\t\t\t<ThirdStepInputs\n\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\tstep,\n\t\t\t\t\t\t\tpatterns,\n\t\t\t\t\t\t\tisOn,\n\t\t\t\t\t\t\tisSale,\n\t\t\t\t\t\t\tpriceStandard,\n\t\t\t\t\t\t\tpriceSale,\n\t\t\t\t\t\t\thandleInputChange,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<BtnContainer>\n\t\t\t\t\t\t<TextBtn\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tname=\"back\"\n\t\t\t\t\t\t\tonClick={handleSetStep}\n\t\t\t\t\t\t\t$active={step === 3}\n\t\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t上一步\n\t\t\t\t\t\t</TextBtn>\n\t\t\t\t\t\t<TextBtn\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tname=\"add_second\"\n\t\t\t\t\t\t\tonClick={handleFormSubmit}\n\t\t\t\t\t\t\t$active={step === 3}\n\t\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t略過並儲存\n\t\t\t\t\t\t</TextBtn>\n\t\t\t\t\t\t<TextBtn\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tname=\"add_third\"\n\t\t\t\t\t\t\tonClick={handleFormSubmit}\n\t\t\t\t\t\t\t$active={step === 3}\n\t\t\t\t\t\t\tdisabled={step !== 3}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t送出\n\t\t\t\t\t\t</TextBtn>\n\t\t\t\t\t</BtnContainer>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</ThirdStepContainer>\n\t);\n};\n\nexport default function AddProduct() {\n\tconst history = useHistory();\n\n\tconst [step, setStep] = useState(1);\n\tconst [productToAdd, setProductToAdd] = useState('');\n\n\tuseEffect(() => {\n\t\tif (!productToAdd) return;\n\n\t\tconst unblock = history.block(() => {\n\t\t\treturn window.confirm('目前的資料尚未被儲存, 是否要離開?');\n\t\t});\n\n\t\treturn () => {\n\t\t\treturn unblock();\n\t\t};\n\t}, [history, productToAdd]);\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<LeftContainer>\n\t\t\t\t<FirstStep\n\t\t\t\t\t{...{ step, setStep, productToAdd, setProductToAdd }}\n\t\t\t\t/>\n\t\t\t</LeftContainer>\n\t\t\t<RightContainer>\n\t\t\t\t<SecondStep\n\t\t\t\t\t{...{ step, setStep, productToAdd, setProductToAdd }}\n\t\t\t\t/>\n\t\t\t\t<ThirdStep\n\t\t\t\t\t{...{ step, setStep, productToAdd, setProductToAdd }}\n\t\t\t\t/>\n\t\t\t</RightContainer>\n\t\t</MainContainer>\n\t);\n}\n","import { useRef } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\nimport styled from \"styled-components\"\n\nimport { sizeMap } from \"../../../constants/mapping\"\nimport { fontTheme, H4, P, TextBtn } from \"../../../constants/style\"\n\nimport useAdminProduct from \"../../../hooks/useAdminProduct\"\nimport useProduct from \"../../../hooks/useProduct\"\n\nimport { deleteProductAPI } from \"../../../webAPI/productAPI\"\n\nimport { FirstStepInputs, SecondStepInputs } from \"./AddProduct\"\n\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    & table {\n        width: 100%;\n        border: 1px solid ${props => props.theme.color.lightGrey};\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid ${props => props.theme.color.lightGrey};\n            border-bottom: 1px solid ${props => props.theme.color.lightGrey};\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst BtnContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    padding: 20px 10px 10px;\n    & > button {\n        margin: 0px 5px;\n    }\n`\n\nconst PopupContent = styled.div`\n    & h4 {\n        padding: 10px;\n        text-align: center;\n    }\n    & > div {\n        padding: 10px;\n        text-align: center;\n        & button {\n            margin: 5px;\n        }\n    }\n`\n\nexport const SizePopup = () => {\n\n    const product = useSelector(state => state.product.product)\n    const group = product ? product.product.Category.group : null;\n\n    return (\n        <TableContainer>\n            {product && group.slice(0, -1) === 'Size_general' ? (\n                <P>單一尺寸 One Size</P>\n            ) : (\n                <table>\n                    <thead>\n                        <tr>\n                            <th></th>\n                            {product ? (\n                                Object.keys(sizeMap[group.slice(0, -1)]).map((element, index) => {\n                                    const measure = element\n                                    .split('_')\n                                    .map(word => word[0].toUpperCase() + word.slice(1))\n                                    .join(' ')\n                                    return (\n                                        <th key={index}>\n                                            {measure}\n                                            <p>{sizeMap[group.slice(0, -1)][element]}</p>\n                                        </th>\n                                    )\n                            })) : null}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {product ? product.product[group].map(i => (\n                            <tr key={i.id}>\n                                <td>{i.size}</td>\n                                {Object.keys(sizeMap[group.slice(0, -1)]).map((j, index) => (\n                                    <td key={index}>\n                                        {(i[j] && i[j]!== '0~0') ? `${i[j]}cm` : '-'}\n                                    </td>\n                                ))}\n                            </tr>\n                        )) : null}\n                    </tbody>\n                </table>\n            )}\n        </TableContainer>\n    )\n}\n\nexport const ColorPopup = () => {\n\n    const product = useSelector(state => state.product.product)\n\n    return (\n        <TableContainer>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Color Name</th>\n                        <th>HEX Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {product ? product.product.Colors.map((color, i) => (\n                        <tr key={i}>\n                            <td>{color.name}</td>\n                            <td>{color.code}</td>\n                        </tr>\n                    )) : null}\n                </tbody>\n            </table>\n        </TableContainer>\n    )\n}\n\nexport const EditPopup = () => {\n\n    const product = useSelector(state => state.product.product)\n\n    const top = useRef()\n\n    const {\n        name, \n        gender, \n        category, \n        desc, \n        material, \n        washing, \n        images, \n        setImages, \n        sizes, \n        colors, \n        handleInputChange, \n        handleAddPattern, \n        handleDeletePattern, \n        handleFormSubmit\n    } = useAdminProduct({top})\n\n\n    return (\n        <TableContainer ref={top}>\n            {product && product.product.Category.name === category && (\n                <form onSubmit={e => e.preventDefault()}>\n                    <FirstStepInputs \n                        step={0} \n                        {... {name, gender, category, desc, material, washing, images, setImages, handleInputChange}}\n                    />\n                    <SecondStepInputs \n                        step={0}\n                        {...{sizes, colors, handleInputChange, handleAddPattern, handleDeletePattern}}\n                        group={product?.product.Category.group.slice(0, -1)}\n                        sizesLength={product.product[product.product.Category.group].length}\n                        colorsLength={product.product.Colors.length}\n                    />\n                    <BtnContainer>\n                        <TextBtn \n                            type=\"submit\" \n                            name=\"edit\"\n                            onClick={handleFormSubmit} \n                            $active\n                        >\n                            送出\n                        </TextBtn>\n                    </BtnContainer>\n                </form>\n            )}\n        </TableContainer>\n    )\n}\n\nexport const DeletePopup = () => {\n\n    const history = useHistory()\n\n    const product = useSelector(state => state.product.product)\n\n    const { handleClosePopup } = useProduct()\n\n    const handleDeleteProduct = () => {\n        deleteProductAPI(product.product.id)\n        .then(() => history.go())\n    }\n  \n    return (\n        <PopupContent>\n            <H4>是否要刪除此商品？</H4>\n            <div>\n                <TextBtn onClick={handleClosePopup} $active>返回</TextBtn>\n                <Link to=\"#\" onClick={handleDeleteProduct}>\n                    <TextBtn $active>刪除</TextBtn>\n                </Link>\n            </div>\n        </PopupContent>\n    )\n}","import styled from 'styled-components';\nimport { useSelector } from 'react-redux';\n\nimport { Btn, H3 } from '../constants/style';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport useProduct from '../hooks/useProduct';\n\nimport { CartPopup } from '../pages/ProductPage/CartPopup';\nimport { LoginPopup } from './LoginPopup';\nimport {\n    SizePopup,\n    ColorPopup,\n    EditPopup,\n    DeletePopup,\n} from '../pages/AdminPages/AdminProductPage/InfoPopup';\n\nconst PopupCover = styled.div`\n    opacity: ${props => (props.$isOpened ? '1' : '0')};\n    visibility: ${props => (props.$isOpened ? 'visible' : 'hidden')};\n    transition: 0.2s;\n\n    background-color: rgba(0, 0, 0, 0.5);\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 11;\n`;\n\nconst PopupWrapper = styled.div`\n    width: 90%;\n    height: 100%;\n    margin: auto;\n    position: relative;\n    & > label {\n        background-color: transparent;\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n    }\n`;\n\nconst PopupContainer = styled.div`\n    transform: ${props =>\n        props.$isOpened ? 'translateY(0%)' : 'translateY(-50%)'};\n    opacity: ${props => (props.$isOpened ? '1' : '0')};\n    transition: 0.2s;\n    width: 100%;\n    max-width: ${props => (props.$type === 'edit' ? '768px' : '512px')};\n    max-height: calc(100vh - 80px);\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 40px auto;\n    background-color: ${props => props.theme.color.white};\n    border: 1px solid ${props => props.theme.color.lightGrey};\n    & > div {\n        padding: 10px;\n    }\n`;\n\nconst PopupHeader = styled.div`\n    border-bottom: 1px solid ${props => props.theme.color.lightGrey};\n    position: relative;\n    & > button {\n        & svg {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            right: 10px;\n        }\n    }\n    ${props => props.$cart && 'display: flex;'}\n`;\n\nconst PopupTitle = styled(H3)`\n    & > svg {\n        color: ${props => props.theme.color.success};\n        margin-right: 5px;\n    }\n`;\n\nconst PopupContent = styled.div`\n    max-height: calc(100vh - 145px);\n    overflow: auto;\n`;\n\nexport const Popup = ({ type }) => {\n    const isOpened = useSelector(state => state.general.isOpened);\n\n    const { handleClosePopup } = useProduct();\n\n    return (\n        <PopupCover $isOpened={isOpened}>\n            <PopupWrapper>\n                <label onClick={handleClosePopup(type)} />\n                <PopupContainer $isOpened={isOpened} $type={type}>\n                    <PopupHeader $cart={type === 'cart'}>\n                        {type === 'cart' && (\n                            <PopupTitle>\n                                <FontAwesomeIcon icon={faCheck} />\n                                已成功加入至購物車\n                            </PopupTitle>\n                        )}\n                        <Btn onClick={handleClosePopup(type)}>\n                            <FontAwesomeIcon icon={faTimes} />\n                        </Btn>\n                    </PopupHeader>\n                    <PopupContent>\n                        {type === 'login' && <LoginPopup />}\n                        {type === 'cart' && <CartPopup />}\n                        {type === 'size' && <SizePopup />}\n                        {type === 'color' && <ColorPopup />}\n                        {type === 'edit' && <EditPopup />}\n                        {type === 'delete' && <DeletePopup />}\n                    </PopupContent>\n                </PopupContainer>\n            </PopupWrapper>\n        </PopupCover>\n    );\n};\n","import { useEffect, createContext } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { H2, PageWrapper, PageContainer } from \"../../constants/style\"\nimport { crumbMap } from \"../../constants/mapping\";\n\nimport { Feed } from \"../../components/Feed\";\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { Aside } from \"../../components/Aside\"\n\nimport { Sort } from \"./Sort\"\nimport { ProductList } from \"./ProductList\";\nimport { Popup } from \"../../components/Popup\";\n\n\n\nconst MainContainer = styled.main`\n  width: 80%;\n  flex-grow: 1;\n  & h2 {\n    padding: 0 10px;\n  }\n`\n\n\nexport const LocationContext = createContext();\n\nexport default function ListPage() {\n\n  const { pathname, search } = useLocation();\n  const pathArr = pathname.split('/')\n  const currentPath = pathArr[pathArr.length-1]\n  const currentTitle = crumbMap[pathArr.length-2] ? crumbMap[pathArr.length-2][currentPath] : 0\n\n  const history = useHistory()\n    \n  useEffect(() => {\n    if(!currentTitle){\n      const previousPath = pathArr.slice(0, pathArr.length-1).join('/')\n      history.push(previousPath)\n    }\n  }, [history, pathArr, currentTitle])\n\n\n  return (\n    <LocationContext.Provider value={{pathname, search}} >\n      <>\n        {currentTitle && (\n          <CrumbNav pathArr={pathArr}/>\n        )}\n        <PageWrapper>\n          <PageContainer>\n            <Aside filter />\n            <MainContainer>\n              <H2>{currentTitle}</H2>\n              <Sort />\n              <ProductList />\n            </MainContainer>\n          </PageContainer>\n        </PageWrapper>\n        {process.env.NODE_ENV === 'production' && (\n          <Feed />\n        )}\n        <Popup type=\"login\" />\n      </>\n    </LocationContext.Provider>\n  );\n}","import { useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport { Img } from \"../../components/Img\"\nimport { MEDIA_QUERY } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\"\n\nconst ImageContainer = styled.div`\n  & img {\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst ImageMain = styled.div`\n  aspect-ratio: 1;\n  border: 1px solid #aaa;\n  margin-bottom: 5px;\n  overflow: hidden;\n  position: relative;\n  @media (min-width: 512px) {\n    &:hover {\n      cursor: crosshair;\n      & > img:last-child {\n        opacity: 0;\n      }\n    }\n  }\n  & > img:first-child {\n    z-index: -1;\n    transform: scale(2);\n    transform-origin: top left;\n    position: absolute;\n    top: -50%;\n    left: -50%;\n  }\n  background-color: ${props => props.$isLoading && '#f00'};\n`\n\nconst ImageCarousel = styled.div`\n  padding: 5px;\n  display: flex;\n  & > div {\n    position: relative;\n    aspect-ratio: 1;\n    width: calc(100%/3);\n    border: 1px solid #aaa;\n    margin: 5px;\n    &:nth-child(n+5) {\n      display: none;\n    }\n  }\n  ${MEDIA_QUERY.l} {\n    & > div:nth-child(4) {\n      display: none;\n    }\n  }\n  ${MEDIA_QUERY.m} {\n    & > div:nth-child(4) {\n      display: block;\n    }\n  }\n  ${MEDIA_QUERY.s} {\n    & > div:nth-child(4) {\n      display: none;\n    }\n  }\n`\n\n\nexport const Image = ({images}) => {\n\n  const {\n    handleMouseMove,\n    handleImgClick,\n    mainImg,\n    setMainImg,\n    scaledImg\n  } = useProduct()\n\n  useEffect(() => {\n    const img = images.find(img => img.is_main === true)\n    setMainImg({src: img.src, alt: img.alt})\n  }, [images, setMainImg])\n\n  return (\n    <ImageContainer>\n      <ImageMain onMouseMove={handleMouseMove}>\n        <img src={mainImg.src} alt={mainImg.alt} ref={scaledImg} />\n        <Img image={mainImg}/>\n      </ImageMain>\n      <ImageCarousel onClick={handleImgClick}>\n        {images.slice(0, 4).map(image => (\n          <div key={image.id}>\n            <Img image={image} />\n          </div>\n        ))}\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1631410744690-3cc75aaea4df?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzJ8fG9uZSUyMHBpZWNlJTIwZHJlc3N8ZW58MHwyfDJ8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"02\"}} />\n        </div>\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1601460588655-109bd38204db?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nzd8fGRyZXNzJTIwb25lJTIwcGllY2V8ZW58MHwyfDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"03\"}} />\n        </div>\n        <div>\n          <Img image={{src: \"https://images.unsplash.com/photo-1623052760790-9605a8579730?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDV8fHNoaXJ0c3xlbnwwfDJ8Mnx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\", alt: \"04\"}} />\n        </div>\n      </ImageCarousel>\n    </ImageContainer>\n  )\n}","import styled from 'styled-components';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons';\n\nconst Qty = styled.div`\n    width: 60px;\n    height: 40px;\n    position: relative;\n`;\n\nconst QtyInput = styled.input`\n    width: 100%;\n    box-sizing: border-box;\n    padding-left: 5px;\n    height: 100%;\n    outline: 0;\n    border: 1px solid ${props => props.theme.color.lightGrey};\n`;\n\nconst QtyDiv = styled.div`\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 20px;\n`;\n\nconst QtyBtn = styled.button`\n    box-sizing: content-box;\n    height: 18.5px;\n    border: 1px solid ${props => props.theme.color.lightGrey};\n    transition: 0.25s;\n    background-color: ${props => props.theme.color.white};\n    & + button {\n        margin-top: -1px;\n    }\n    & svg {\n        display: block;\n        margin: auto;\n        color: ${props => props.theme.color.grey};\n        font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n    &:hover {\n        background-color: ${props => props.theme.color.light_primary};\n    }\n`;\n\nexport const QtySelector = ({ qty, handleQtyChange, handleBtnClick }) => {\n    return (\n        <Qty>\n            <QtyInput\n                type=\"number\"\n                value={qty}\n                min={1}\n                onChange={handleQtyChange}\n            />\n            <QtyDiv>\n                <QtyBtn onClick={() => handleBtnClick('inc')}>\n                    <FontAwesomeIcon\n                        icon={faChevronDown}\n                        transform={{ rotate: 180 }}\n                    />\n                </QtyBtn>\n                <QtyBtn onClick={() => handleBtnClick('dec')}>\n                    <FontAwesomeIcon\n                        icon={faChevronDown}\n                        transform={{ rotate: 0 }}\n                    />\n                </QtyBtn>\n            </QtyDiv>\n        </Qty>\n    );\n};\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown, faShoppingCart, faHeart } from '@fortawesome/free-solid-svg-icons'\n\nimport { H3, H4, P, Span, TextBtn } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\";\n\nimport { useSelector } from \"react-redux\";\nimport { QtySelector } from \"../../components/QtySelector\";\n\n\nconst ContentContainer = styled.div`\n  & > div {\n    padding-bottom: 20px;\n  }\n`\n\nconst TitleContainer = styled.div`\n  & p {\n    font-weight: ${props => props.theme.fontWeight.m};\n    line-height: 1.75em;\n    padding: 10px 0;\n  }\n  & h3 {\n    padding: 10px 0;\n    border-bottom: 1px solid #aaa;\n  }\n`\n\nconst SpecContainer = styled.div`\n  & > div {\n    padding: 5px 0;\n  }\n  & h4 {\n    padding: 5px 0;\n  }\n`\n\nconst ColorSelector = styled.div`\n  & ul {\n    display: flex;\n    & li {\n      z-index: 1;\n      & + li {\n        margin-left: 5px;\n      }\n    }\n  }\n`\n\nconst Msg = styled(Span)`\n  color: ${props => props.theme.color.alert};\n`\n\nconst SizeSelector = styled.div`\n  & > div {\n    position: relative;\n    width: 60px;\n    height: 33px;\n    & > div {\n      display: flex;\n      height: 100%;\n      box-sizing: border-box;\n      border: 1px solid #aaa;\n      & span {\n        width: 50%;\n        padding-left: 5px;\n        margin: auto 0;\n        font-size: ${props => props.theme.fontSize.body};\n      }\n    }\n    & svg {\n      display: block;\n      margin: auto;\n      color: ${props => props.theme.color.grey};\n      font-size: ${props => props.theme.fontSize.bodySmall};\n    }\n    & select {\n      position: absolute;\n      top: 0;\n      opacity: 0;\n      padding: 5px;\n      outline: 0;\n      border-color: ${props => props.theme.color.lightGrey};\n      width: 60px;\n    }\n  }\n`\n\nconst ColorLabel = styled.label`\n  & input {\n    display: none;\n    &:checked + span {\n      border: ${props => (parseInt(props.$color.slice(1), 16) <= parseInt('777777', 16)) ? 'medium double #eee' : 'thin solid #333'};\n    }\n  }\n  & span {\n    background-color: ${props => props.$color};\n    position: relative;\n    overflow: hidden;\n    ${props => props.$isNull && 'cursor: not-allowed;'}\n    &:before {\n      content: '';\n      width: 40px;\n      position: absolute;\n      transform: rotate(45deg);\n      transform-origin: top left;\n      top: 0;\n      left: 0;\n      background-color: #aaaa;\n      height: 2px;\n      display: ${props => props.$isNull ? 'block' : 'none'};\n    }\n    &:after {\n      content: '';\n      width: 40px;\n      position: absolute;\n      transform: rotate(-45deg);\n      transform-origin: top right;\n      top: 0;\n      right: 0;\n      background-color: #aaaa;\n      height: 2px;\n      display: ${props => props.$isNull ? 'block' : 'none'};\n    }\n  }\n`\n\nconst ColorSpan = styled.span`\n  display: block;\n  box-sizing: border-box;\n  border: 1px solid #aaa8;\n  width: 30px;\n  height: 30px;\n`\n\nconst PriceIsSale = styled.div`\n  & h4 {\n    display: inline-block;\n    // font-weight: ${props => props.theme.fontWeight.m};\n    &:nth-child(1) {\n      color: ${props => props.theme.color.grey};\n      text-decoration: line-through;\n    }\n    &:nth-child(2) {\n      color: ${props => props.theme.color.alert};\n      font-size: ${props => props.theme.fontSize.h3};\n    }\n    & + h4 {\n      padding-left: 10px;\n    }\n  }\n`\n\nconst QtyAndAdd = styled.div`\n  display: flex;\n`\n\nconst AddBtn = styled(TextBtn)`\n  margin-left: 10px;\n  padding: 10px 15px;\n\n  & svg {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    color: ${props => props.theme.color.white};\n    margin-right: 5px;\n  }\n`\n\nconst WishList = styled(P)`\n\n  & svg {\n    color: ${props => props.theme.color.grey};\n    font-size: ${props => props.theme.fontSize.body};\n    margin-right: 3px;\n  }\n  & a > span {\n    color: ${props => props.theme.color.grey};\n    font-weight: ${props => props.theme.fontWeight.l};\n  }\n  & > span {\n    margin-left: 10px;\n  }\n`\n\n\nconst ColorSelect = ({name, code, total, color, handleColorChange}) => {\n\n    const isNull = !total ? true : false\n\n    return (\n      <ColorLabel $color={code} $isNull={isNull}>\n        <input \n          type=\"radio\" \n          name=\"color\" \n          value={name} \n          onChange={handleColorChange(isNull)} \n          checked={(color === name) && !isNull}\n        />\n        <ColorSpan />\n      </ColorLabel>\n    )\n  }\n\n\nexport const Content = ({product, group}) => {\n\n  const spec = useSelector(state => state.product.spec)\n  \n  const isOpened = useSelector(state => state.general.isOpened)\n  const errorMessage = useSelector(state => state.general.errorMessage)\n\n  const {\n    addCommaToPrice,\n    handleBtnClick,\n    handleSizeChange,\n    handleQtyChange,\n    handleColorChange,\n    handleAddToCart,\n    handleAddToWishList\n  } = useProduct(spec, product, group, isOpened)\n\n\n  return (\n    <ContentContainer>\n      <TitleContainer>\n        <H3>{product.product.name}</H3>\n        <P>{product.product.desc}</P>\n      </TitleContainer>\n      <SpecContainer>\n        <SizeSelector>\n          <H4>尺寸</H4>\n          <div>\n            <div>\n              <span>{spec.size}</span>\n              <span>\n                <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 0 }}/>\n              </span>\n            </div>\n            {spec.size && (\n              <select value={spec.size} onChange={handleSizeChange}>\n                {product.product[`${group}s`].map(size => (\n                  <option key={size.id} value={size.size}>{size.size}</option>\n                ))}\n              </select>\n            )}\n          </div>\n        </SizeSelector>\n        <ColorSelector>\n          <H4>顏色</H4>\n          <ul>\n            {product.patterns\n            .filter(pattern => pattern[group].size === spec.size)\n            .map((pattern, index) => (\n              <li key={index}>\n                <ColorSelect\n                  name={pattern.Color.name}\n                  code={pattern.Color.code}\n                  total={pattern.total}\n                  color={spec.color}\n                  handleColorChange={handleColorChange}\n                />\n              </li>\n            ))}\n          </ul>\n          {spec.size && spec.color && (\n            product.patterns.find(pattern => (\n              (pattern[group].size === spec.size) && (pattern.Color.name === spec.color))\n            ).total <= 10 && (\n              <Msg>庫存數量少</Msg>\n            )\n          )}\n        </ColorSelector>\n        {(product.product.is_sale ? (\n          <PriceIsSale>\n            <H4>NT ${addCommaToPrice(product.product.price_standard)}</H4>\n            <H4>NT ${addCommaToPrice(product.product.price_sale)}</H4>\n          </PriceIsSale>\n        ) : (\n          <div>\n            <H4>NT ${addCommaToPrice(product.product.price_standard)}</H4>\n          </div>\n        ))}\n        {errorMessage && (<Msg>{errorMessage}</Msg>)}\n        <QtyAndAdd>\n          <QtySelector\n            qty={spec.qty}\n            handleQtyChange={handleQtyChange}\n            handleBtnClick={handleBtnClick}\n          />\n          <AddBtn onClick={handleAddToCart} $active>\n            <FontAwesomeIcon icon={faShoppingCart} />\n            加入購物車\n          </AddBtn>\n        </QtyAndAdd>\n        <WishList>\n          <Link to=\"#\" onClick={handleAddToWishList}>\n            <FontAwesomeIcon icon={faHeart} />\n            <Span>加入願望清單</Span>\n          </Link>\n        </WishList>\n      </SpecContainer>\n    </ContentContainer>\n  )\n}","import styled from \"styled-components\"\nimport { sizeMap } from \"../../constants/mapping\";\nimport { MEDIA_QUERY, H4, P, TextBtn } from \"../../constants/style\"\nimport useProduct from \"../../hooks/useProduct\";\n\n\nconst DetailContainer = styled.div`\n  padding: 10px;\n  ${MEDIA_QUERY.m} {\n    width: 90%;\n    margin: 0 auto;\n  }\n`\nconst DetailTag = styled.div`\n  text-align: center;\n  padding: 10px 0 20px;\n`\nconst TagBtn = styled(TextBtn)`\n  margin: 5px;\n  font-size: ${props => props.theme.fontSize.bodyLarge};\n  &:hover {\n    background-color: ${props => props.theme.color.black};\n    border-color: ${props => props.theme.color.black};\n    &::before {\n      opacity: 1;\n    }\n  }\n  position: relative;\n  &::before {\n    opacity: ${props => props.$checked ? 1 : 0};\n    transition: .4s;\n    content: '';\n    width: 0;\n    height: 0;\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    bottom: -8px;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-top: 8px solid ${props => props.theme.color.black};\n  }\n  position: relative;\n  & label {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    cursor: pointer;\n  }\n`\n\nconst DetailContent = styled.div`\n  border: 1px solid #aaa;\n  padding: 20px;\n  & > input {\n    display: none;\n    &:checked + div {\n      opacity: 1;\n      position: relative;\n      top: 0px;\n      transition: opacity .5s;\n    }\n  }\n  position: relative;\n  & > div {\n    z-index: -1;\n    opacity: 0;\n    position: absolute;\n    top: -200px;\n    margin: 10px;\n  }\n  ${MEDIA_QUERY.s} {\n    padding: 0;\n  }\n`\n\nconst InfoContainer = styled.div`\n  & h4 {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.xl};\n    padding: 5px 0 10px;\n  }\n  & p {\n    color: ${props => props.theme.color.grey};\n    padding-bottom: 10px;\n  }\n`\nconst SizeContainer = styled.div`\n  overflow: auto;\n  & table {\n    border-collapse: collapse;\n  }\n  & th, td {\n    border: 1px solid #aaa;\n    width: 150px;\n    text-align: center;\n    padding: 5px 0;\n    & span {\n      display: block;\n    }\n  }\n  & th, td, span {\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    font-weight: ${props => props.theme.fontWeight.l};\n    color: ${props => props.theme.color.black};\n    line-height: 1.5em;\n  }\n`\n\n\nexport const Detail = ({product, group}) => {\n\n    const { \n      isChecked,\n      handleCheckedChange\n    } = useProduct()\n  \n    return (\n        <DetailContainer>\n          <DetailTag>\n            <TagBtn $white={!isChecked} $active>\n              <label htmlFor=\"detail_info\" />\n              商品詳情\n            </TagBtn>\n            <TagBtn $white={isChecked} $active>\n              <label htmlFor=\"detail_size\" />\n              尺寸資訊\n            </TagBtn>\n          </DetailTag>\n          <DetailContent>\n            <input type=\"radio\" name=\"detail\" id=\"detail_info\" checked={isChecked} onChange={handleCheckedChange} />\n            {product && (\n              <InfoContainer>\n                <H4>材質</H4>\n                <P>{product.product.material}</P>\n                <H4>清洗方式</H4>\n                <P>{product.product.washing}</P>\n              </InfoContainer>\n            )}\n            <input type=\"radio\" name=\"detail\" id=\"detail_size\" checked={!isChecked} onChange={handleCheckedChange} />\n            <SizeContainer>\n              {group && (group === 'Size_general' ? (\n                <P>單一尺寸 One Size</P>\n              ) : (\n                <table>\n                  <thead>\n                    <tr>\n                      <th></th>\n                      {Object.keys(sizeMap[group]).map((element, index) => {\n                        const measure = element\n                          .split('_')\n                          .map(word => word[0].toUpperCase() + word.slice(1))\n                          .join(' ')\n                        return (\n                          <th key={index}>\n                            <span>{measure}</span>\n                            <span>{sizeMap[group][element]}</span>\n                          </th>\n                        )\n                      })}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {product.product[`${group}s`].map(i => (\n                      <tr key={i.id}>\n                        <td>{i.size}</td>\n                        {Object.keys(sizeMap[group]).map((j, index) => (\n                          <td key={index}>\n                            {i[j] ? `${i[j]}cm` : '-'}\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ))}\n            </SizeContainer>\n          </DetailContent>\n        </DetailContainer>\n    )\n}","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport styled from \"styled-components\"\n\nimport { MEDIA_QUERY, PageWrapper, PageContainer, H4, fontTheme } from \"../../constants/style\"\n\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { Aside } from \"../../components/Aside\";\nimport { Popup } from \"../../components/Popup\";\nimport { Feed } from \"../../components/Feed\";\n\nimport { getProduct, setProduct } from \"../../features/product/productSlice\";\n\nimport { Image } from \"./Image\";\nimport { Content } from \"./Content\";\nimport { Detail } from \"./Detail\";\n\nconst Msg = styled(H4)`\n  margin: 0 auto;\n  padding: 20px;\n`\n\nconst MainContainer = styled.main`\n  width: 80%;\n  flex-grow: 1;\n  position: relative;\n`\n\nconst ItemContainer = styled.div`\n  display: flex;\n  & > div {\n    width: 50%;\n    padding: 10px;\n  }\n  ${MEDIA_QUERY.m} {\n    display: block;\n    & > div {\n      width: 90%;\n      margin: 0 auto;\n    }\n  }\n`\n\nconst OffMessage = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: ${props => props.theme.color.white}a;\n  z-index: 1;\n  & > div {\n    position: absolute;\n    top: 20%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 20px 40px;\n    border-radius: .25em;\n    background-color: ${props => props.theme.color.lightGrey}c;\n    color: ${props => props.theme.color.black};\n    white-space: nowrap;\n    ${MEDIA_QUERY.s} {\n      ${fontTheme.p}\n      padding: 10px 20px;\n      top: 10%;\n    }\n    ${fontTheme.h4}\n  }\n`\n\n\nconst BreadCrumb = ({product}) => {\n  const [path, setPath] = useState(['', 'collection'])\n  useEffect(() => {\n    if(!product) return\n    const gender = product.gender === 'M' ? 'men' : 'women';\n    const category = product.Category.name;\n    setPath(['', 'collection', gender, category])\n    // return () => {\n    //   setPath(['', 'collection'])\n    // }\n  }, [product])\n  return (\n    <CrumbNav pathArr={path} name={product?.name} />   \n  )\n}\n\nexport default function ProductPage () {\n\n    const { id } = useParams()\n\n    const product = useSelector(state => state.product.product)\n    const error = useSelector(state => state.product.error)\n    const popupCode = useSelector(state => state.general.popupCode)\n    const dispatch = useDispatch()\n\n    const group = product?.product?.Category?.group.slice(0, -1)\n\n    useEffect(() => {\n      dispatch(getProduct(id))\n      return () => {\n        dispatch(setProduct(''))\n      }\n    }, [id, dispatch])\n\n    return (\n        <>\n          <BreadCrumb product={product?.product}/>\n          <PageWrapper>\n            <PageContainer>\n              <Aside />\n              {!product && (\n                error ? (\n                  <Msg>{error}</Msg>\n                ) : (\n                  <Msg>商品載入中...</Msg>\n                )\n              )}\n              {product && !error && (\n                <MainContainer>\n                  <ItemContainer>\n                    <Image images={product.product.Images} />\n                    <Content product={product} group={group} />\n                  </ItemContainer>\n                  <Detail product={product} group={group} />\n                  {!product.product.is_on && (\n                    <OffMessage>\n                      <div>此商品目前未上架!</div>\n                    </OffMessage>\n                  )}\n                </MainContainer>\n              )}\n            </PageContainer>\n          </PageWrapper>\n          {process.env.NODE_ENV === 'production' && (\n            <Feed />\n          )}\n          {popupCode !== 'cart' && (\n            <Popup type=\"login\" />\n          )}\n          {product && popupCode !== 'login' && (\n            <Popup type=\"cart\" />\n          )}\n        </>\n    )\n}","import styled from 'styled-components';\nimport { fontTheme, MEDIA_QUERY } from '../constants/style';\n\nconst FlowMobile = styled.li`\n    margin: 1px 0;\n    padding: 10px;\n    border-left: 3px solid\n        ${props =>\n            props.$active\n                ? props.theme.color.black\n                : props.theme.color.lightGrey};\n    color: ${props => props.$active && props.theme.color.black};\n`;\n\nconst FlowContainer = styled.div`\n    & ol {\n        &:nth-child(1) {\n            display: flex;\n            justify-content: center;\n            ${MEDIA_QUERY.m} {\n                display: none;\n            }\n        }\n        &:nth-child(2) {\n            display: none;\n            ${fontTheme.p}\n            color: ${props => props.theme.color.lightGrey};\n            padding: 10px 0;\n            ${MEDIA_QUERY.m} {\n                display: block;\n            }\n        }\n    }\n`;\n\nconst FlowNode = styled.div`\n    ${fontTheme.p};\n    margin: 10px;\n    background-color: ${props => props.theme.color.lightGrey};\n    color: ${props => props.theme.color.white};\n    min-width: 80px;\n    min-height: 80px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    & > p {\n        ${fontTheme.h3}\n    }\n`;\n\nconst FlowText = styled.div`\n    ${fontTheme.p}\n    padding-right: 10px;\n    color: ${props => props.theme.color.lightGrey};\n    min-width: ${props => props.$fixed && '108px'};\n    & > p {\n        ${fontTheme.h4}\n    }\n`;\n\nconst FlowContent = styled.li`\n    display: flex;\n    align-items: center;\n    padding: 10px 20px;\n    position: relative;\n    & + li::before {\n        content: '>';\n        position: absolute;\n        left: -10px;\n        ${fontTheme.h3}\n        color: ${props => props.theme.color.lightGrey};\n    }\n    ${FlowNode} {\n        background-color: ${props => props.$active && props.theme.color.black};\n    }\n    ${FlowText} {\n        color: ${props => props.$active && props.theme.color.black};\n    }\n`;\n\nexport const CheckoutFlow = ({ step }) => {\n    return (\n        <FlowContainer>\n            <ol>\n                <FlowContent $active={step === 1}>\n                    <FlowNode>\n                        Step\n                        <p>01</p>\n                    </FlowNode>\n                    <FlowText $fixed>\n                        Check Order\n                        <p>確認購買清單</p>\n                    </FlowText>\n                </FlowContent>\n                <FlowContent $active={step === 2}>\n                    <FlowNode>\n                        Step\n                        <p>02</p>\n                    </FlowNode>\n                    <FlowText $fixed>\n                        Write the Add\n                        <p>填寫付款及運送資料</p>\n                    </FlowText>\n                </FlowContent>\n                <FlowContent $active={step === 3}>\n                    <FlowNode>\n                        Step\n                        <p>03</p>\n                    </FlowNode>\n                    <FlowText>\n                        Completed\n                        <p>完成訂單</p>\n                    </FlowText>\n                </FlowContent>\n            </ol>\n            <ol>\n                <FlowMobile $active={step === 1}>\n                    STEP1. 確認購買訂單 Check Order\n                </FlowMobile>\n                <FlowMobile $active={step === 2}>\n                    STEP2. 填寫付款及運送資料 Write the Add\n                </FlowMobile>\n                <FlowMobile $active={step === 3}>\n                    STEP3. 完成訂單 Completed\n                </FlowMobile>\n            </ol>\n        </FlowContainer>\n    );\n};\n","import styled from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\n\nimport { Btn, fontTheme, MEDIA_QUERY } from \"../../constants/style\"\n\nimport { QtySelector } from \"../../components/QtySelector\"\nimport { Img } from \"../../components/Img\"\nimport useProduct from \"../../hooks/useProduct\"\nimport useCart from \"../../hooks/useCart\"\n\n\nconst NameNote = styled.div`\n    display: none;\n    ${MEDIA_QUERY.m} {\n        display: block;\n    }\n    padding: 10px 0;\n    & > p {\n        ${fontTheme.span}\n    }\n`\n\nconst Price = styled.p`\n    font-weight: ${props => props.theme.fontWeight.xl};\n    font-size: ${props => props.theme.fontSize.h4};\n    ${MEDIA_QUERY.s} {\n        font-size: ${props => props.theme.fontSize.bodyLarge};\n    }\n`\n\nconst SellingPrice = styled(Price)`\n    color: ${props => props.theme.color.alert};\n    & + div {\n        font-weight: ${props => props.theme.fontWeight.xl};\n        color: ${props => props.theme.color.lightGrey};\n        line-height: 1.25em;\n        margin-top: 10px;\n    }\n`\n\nconst ErrorMsg = styled.span`\n    ${fontTheme.span}\n    color: ${props => props.theme.color.alert};\n    padding: 5px 0;\n    position: absolute;\n    ${MEDIA_QUERY.s} {\n        bottom: 0;\n        right: -100px;\n    }\n`\n\nconst MobileItem = styled.div`\n    padding: 10px 0;\n`\nconst ItemTitle = styled.div`\n    display: flex;\n    & > div {\n        width: 50%;\n        padding: 5px;\n        ${fontTheme.p}\n    }\n    ${MEDIA_QUERY.xs} {\n        display: block;\n        & > div {\n            width: 95%;\n            margin: 0 auto;\n        }\n    }\n`\n\nconst TableContainer = styled.div`\n    & table {\n        width: 100%;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.p}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst ItemContent = styled(TableContainer)`\n    overflow: auto;\n    & table {\n        border: none;\n        border-bottom: 1px solid #aaa;\n        & th, td {\n            border: none;\n            ${fontTheme.span}\n            position: relative;\n            &:last-child {\n                width: 10%;\n            }\n        }\n        & svg {\n            font-size: ${props => props.theme.fontSize.h3};\n        }\n    }\n`\nconst ItemImage = styled.div`\n    position: relative;\n    & img {\n        width: 100%;\n        aspect-ratio: 1;\n    }\n`\nconst ItemName = styled.div`\n`\n\n\nexport const CartItem = ({item, index}) => {\n\n    const url = `/product/${item.id}`\n\n    const subtotal = (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    const {\n        addCommaToPrice,\n    } = useProduct()\n\n    const {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick\n    } = useCart(item)\n\n    return (\n        <tr>\n            <td>\n                <Link to={url}>\n                    <Img image={{src: item.src, alt: item.alt}} />\n                </Link>\n            </td>\n            <td>\n                {item.name}\n                <NameNote>\n                    <p>尺寸 : {item.size}</p>\n                    <p>顏色 : {item.color}</p>\n                </NameNote>\n            </td>\n            <td>\n                <p>尺寸 : {item.size}</p>\n                <p>顏色 : {item.color}</p>\n            </td>\n            <td>\n                {item.is_sale ? (\n                    <>\n                        <SellingPrice>\n                            ${addCommaToPrice(item.price_sale)}\n                        </SellingPrice>\n                        <div>\n                            原價\n                            <p>${addCommaToPrice(item.price_standard)}</p>\n                        </div>\n                    </>\n                ) : (\n                    <Price>\n                        ${addCommaToPrice(item.price_standard)}\n                    </Price>\n                )}\n            </td>\n            <td>\n                <QtySelector \n                    qty={item.qty}\n                    handleQtyChange={handleQtyChange}\n                    handleBtnClick={handleBtnClick}\n                />\n                {errorMessage && (\n                    <ErrorMsg>{errorMessage[index]}</ErrorMsg>\n                )}\n            </td>\n            <td>\n                <Price>\n                    ${addCommaToPrice(subtotal)}\n                </Price>\n            </td>\n            <td>\n                <Btn onClick={handleDeleteCart(index)}>\n                    <FontAwesomeIcon icon={faTrashAlt}/>\n                </Btn>\n            </td>\n        </tr>\n    )\n}\n\n\nexport const MobileCartItem = ({item, index}) => {\n\n    const url = `/product/${item.id}`\n\n    const subtotal = (item.is_sale ? item.price_sale : item.price_standard) * item.qty\n\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    const {\n        addCommaToPrice\n    } = useProduct()\n\n    const {\n        handleDeleteCart,\n        handleQtyChange,\n        handleBtnClick\n    } = useCart(item)\n\n    return (\n        <li>\n            <MobileItem>\n                <ItemTitle>\n                    <ItemImage>\n                        <Link to={url}>\n                            <Img image={{src: item.src, alt: item.alt}} />\n                        </Link>\n                    </ItemImage>\n                    <ItemName>\n                        {item.name}\n                        <NameNote>\n                            <p>尺寸 : {item.size}</p>\n                            <p>顏色 : {item.color}</p>\n                        </NameNote>\n                    </ItemName>\n                </ItemTitle>\n                <ItemContent>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>售價</th>\n                                <th>數量</th>\n                                <th>小計</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>\n                                    {item.is_sale ? (\n                                        <>\n                                            <SellingPrice>\n                                                ${addCommaToPrice(item.price_sale)}\n                                            </SellingPrice>\n                                            <div>\n                                                原價\n                                                <p>${addCommaToPrice(item.price_standard)}</p>\n                                            </div>\n                                        </>\n                                    ) : (\n                                        <Price>\n                                            ${addCommaToPrice(item.price_standard)}\n                                        </Price>\n                                    )}\n                                </td>\n                                <td>\n                                    <QtySelector \n                                        qty={item.qty}\n                                        handleQtyChange={handleQtyChange}\n                                        handleBtnClick={handleBtnClick}\n                                    />\n                                    {errorMessage && (\n                                        <ErrorMsg>{errorMessage[index]}</ErrorMsg>\n                                    )}\n                                </td>\n                                <td>\n                                    <Price>\n                                        ${addCommaToPrice(subtotal)}\n                                    </Price>\n                                </td>\n                                <td>\n                                    <Btn onClick={handleDeleteCart(index)}>\n                                        <FontAwesomeIcon icon={faTrashAlt}/>\n                                    </Btn>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </ItemContent>\n            </MobileItem>\n        </li>       \n    )\n}","import styled, { css } from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport { useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\nimport { fontTheme, H2, MEDIA_QUERY, P, TextBtn, H4 } from \"../../constants/style\"\n\nimport useProduct from \"../../hooks/useProduct\"\nimport useCart from \"../../hooks/useCart\"\nimport { setErrorMessage } from \"../../features/cart/cartSlice\"\nimport { CheckoutFlow } from \"../../components/CheckoutFlow\"\nimport { CartItem, MobileCartItem } from \"./CartItem\"\n\n\nconst PageWrapper = styled.div``\n\nconst PageContainer = styled.div`\n    width: 90%;\n    ${MEDIA_QUERY.m} {\n        width: 95%;\n    }\n    margin: 0 auto;\n    //   display: flex;\n    //   align-items: flex-start;\n`\n\nconst TableContainer = styled.div`\n    & table {\n        width: 100%;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.p}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst CartContainer = styled(TableContainer)`\n    padding: 10px 0;\n    & table {\n        & th, td {\n            ${MEDIA_QUERY.m} {\n                &:nth-child(3) {\n                    display: none;\n                }\n            }\n            &:nth-last-child(2) {\n                width: 15%;\n            }\n        }\n        & td:first-child {\n            width: 10%;\n            position: relative;\n            & img {\n                width: 100%;\n                min-width: 80px;\n            }\n        }\n    }\n    ${MEDIA_QUERY.s} {\n        display: none;\n    }\n`\n\nconst ADDSTYLE = css`\n    display: inline-block;\n    margin-left: 10px;\n    ${MEDIA_QUERY.s} {\n        display: block;\n        width: fit-content;\n        margin: 20px 0 0 auto;\n    }\n`\n\nconst TotalContainer = styled.div`\n    margin-bottom: 20px;\n    padding: 10px 0;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    align-items: baseline;\n    ${fontTheme.h4}\n    ${MEDIA_QUERY.s} {\n        display: block;\n        text-align: right;\n    }\n    & > a {\n        color: ${props => props.theme.color.black};\n        display: block;\n        margin: 10px 0;\n        & svg {\n            margin-right: 4px;\n        }\n    }\n    & > div {\n        color: ${props => props.theme.color.black};\n        & span {\n            ${fontTheme.h3}\n        }\n        & a {\n            ${ADDSTYLE}\n        }\n    }\n`\n\n\n\nconst ToCartBtn = styled(TextBtn)`\n    vertical-align: bottom;\n    padding: 5px 20px;\n    ${fontTheme.h4}\n    ${props => !props.$active && ADDSTYLE}\n`\n\nconst MobileCartContainer = styled.div`\n    display: none;\n    padding: 10px 0;\n    ${MEDIA_QUERY.s} {\n        display: block;\n    }\n    & > p {\n        ${fontTheme.span}\n        border-bottom: 1px solid #aaa;\n    }\n`\n\n\nexport default function CartPage () {\n\n    const dispatch = useDispatch()\n    const cart = useSelector(state => state.cart.cart)\n    const errorMessage = useSelector(state => state.cart.errorMessage)\n\n    useEffect(() => {\n        if(!cart || !cart.length) return\n        const arr = Array(cart.length).fill('').map((element, index) => {\n            if(cart[index].qty > cart[index].total){\n                element = '選擇的數量超過庫存數量!'\n            }\n            if(cart[index].qty === 0){\n                element = '選擇的數量不可為0!'\n            }\n            if(!cart[index].is_on){\n                element = '此商品已下架, 請從購物車移除!'\n            }\n            return element\n        })\n        dispatch(setErrorMessage(arr))\n    }, [dispatch, cart])\n\n    const {\n        addCommaToPrice\n    } = useProduct()\n\n    const {\n        getTotal,\n        hasError\n    } = useCart()\n\n    return (\n        <PageWrapper>\n            <PageContainer>\n                <H2>購物車</H2>\n                <CheckoutFlow step={1}/>\n                <CartContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th></th>\n                                <th>商品名稱</th>\n                                <th>尺寸 / 顏色</th>\n                                <th>售價</th>\n                                <th>數量</th>\n                                <th>小計</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        {cart && cart.length > 0 && (\n                            <tbody>\n                                {cart.map((item, index) => (\n                                    <CartItem \n                                        key={index}\n                                        item={item} \n                                        index={index}\n                                    />\n                                ))}\n                            </tbody>\n                        )}\n                    </table>\n                    {cart ? (\n                        cart.length === 0 && (<H4>購物車內暫無商品</H4>)\n                    ) : (\n                        <H4>商品載入中...</H4>\n                    )}\n                </CartContainer>\n                <MobileCartContainer>\n                    <P>全部商品 ({cart ? cart.length : '-'})</P>\n                    <ul>\n                        {cart ? (\n                            cart.length > 0 ? (\n                                cart.map((item, index) => (\n                                    <MobileCartItem \n                                        key={index}\n                                        item={item} \n                                        index={index}\n                                    />\n                                ))\n                            ) : (\n                                <H4>購物車內暫無商品</H4>\n                            )\n                        ) : (\n                            <H4>商品載入中...</H4>\n                        )}\n                    </ul>\n                </MobileCartContainer>\n                <TotalContainer>\n                    {cart && cart.length > 0 && (\n                        <div>\n                            總金額 (不含運費) : \n                            <span>\n                                ${cart.length > 0 ? (\n                                    addCommaToPrice(getTotal(cart))\n                                ) : (\n                                    '-'\n                                )}\n                            </span>\n                            {hasError(errorMessage) ? (\n                                <ToCartBtn $active={!hasError(errorMessage)}>\n                                    前往結帳\n                                </ToCartBtn>\n                            ) : (\n                                <Link to=\"#\">\n                                    <ToCartBtn $active={!hasError(errorMessage)}>\n                                        前往結帳\n                                    </ToCartBtn>\n                                </Link>\n                            )}\n                        </div>\n                    )}\n                    <Link to=\"/collection\">\n                        <FontAwesomeIcon icon={faChevronDown} transform={{ rotate: 90 }}/>\n                        繼續選購\n                    </Link>\n                </TotalContainer>\n            </PageContainer>\n        </PageWrapper>\n    )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt, faPen, faPlus } from '@fortawesome/free-solid-svg-icons'\nimport { crumbMap } from \"../../../constants/mapping\";\nimport { Btn, fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\n\nimport { setPopupCode, setIsOpened } from \"../../../features/general/generalSlice\";\nimport { getProducts, setProduct, setProducts } from \"../../../features/product/productSlice\";\n\nimport { getProductAPI } from \"../../../webAPI/productAPI\";\n\nimport { Popup } from \"../../../components/Popup\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst ToDetailBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst FilterContainer = styled.div`\n    padding: 10px;\n    display: flex;\n    justify-content: space-between;\n    // align-items: center;\n    ${fontTheme.p}\n    & > div {\n        display: flex;\n        & > div + div {\n            margin-left: 10px;\n        }\n        & > button {\n            margin-right: 10px;\n        }\n        & a {\n            color: ${props => props.theme.color.black};\n            & svg {\n                margin-right: 2px;\n                font-size: ${props => props.theme.fontSize.h4};\n            }\n        }\n    }\n`\n\nconst Item = ({product}) => {\n\n    const dispatch = useDispatch()\n    \n    const [info, setInfo] = useState()\n    \n    useEffect(() => {\n        getProductAPI(product.id)\n            .then(result => {\n                setInfo(result.data)\n            })\n        return () => {\n            setInfo()\n        }\n    }, [product.id])\n\n    const handleIsOpened = e => {\n        dispatch(setProduct(info))\n        dispatch(setIsOpened(true))\n        dispatch(setPopupCode(e.currentTarget.name))\n    }\n\n    return (\n        <>\n            {info && (\n                <tr>\n                    <td>{product.id}</td>\n                    <td>{product.gender === 'M' ? '男裝' : '女裝'}</td>\n                    <td>{crumbMap[2][info.product.Category.name]}</td>\n                    <td>{product.name}</td>\n                    <td>{info.product.desc || '-'}</td>\n                    <td>{info.product.material || '-'}</td>\n                    <td>{info.product.washing || '-'}</td>\n                    <td>\n                        <ToDetailBtn name=\"size\" onClick={handleIsOpened} $white $active>查看</ToDetailBtn>\n                    </td>\n                    <td>\n                        <ToDetailBtn name=\"color\" onClick={handleIsOpened} $white $active>查看</ToDetailBtn>\n                    </td>\n                    <td>\n                        <Btn name=\"edit\" onClick={handleIsOpened}>\n                            <FontAwesomeIcon icon={faPen}/>\n                        </Btn>\n                    </td>\n                    <td>\n                        <Btn name=\"delete\" onClick={handleIsOpened}>\n                            <FontAwesomeIcon icon={faTrashAlt}/>\n                        </Btn>\n                    </td>\n                </tr>\n            )}\n        </>\n    )\n}\n\nexport const Information = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n    const popupCode = useSelector(state => state.general.popupCode)\n\n    const [gender, setGender] = useState('')\n    const [category, setCategory] = useState('')\n\n    useEffect(() => {\n        dispatch(getProducts([gender, category], ''))\n        return () => {\n            dispatch(setProducts(null))\n        }\n    }, [dispatch, gender, category])\n\n    const handleSelectChange = e => {\n        if(e.target.name === 'gender') return setGender(e.target.value)\n        if(e.target.name === 'category') return setCategory(e.target.value)\n        if(e.target.name === 'clearFilter'){\n            setGender('')\n            setCategory('')\n        }\n    }\n\n    return (\n        <>\n            <MainContainer>\n                <H2>新增及管理產品資訊</H2>\n                <FilterContainer>\n                    <div>\n                        <ToDetailBtn name=\"clearFilter\" onClick={handleSelectChange} $white $active>清除篩選</ToDetailBtn>\n                        <div>\n                            <label htmlFor=\"gender\">性別: </label>\n                            <select name=\"gender\" value={gender} onChange={handleSelectChange} id=\"gender\">\n                                <option value=\"\">-----</option>\n                                <option value=\"men\">男裝</option>\n                                <option value=\"women\">女裝</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label htmlFor=\"category\">分類: </label>\n                            <select name=\"category\" value={category} onChange={handleSelectChange} id=\"category\">\n                                <option value=\"\">-----</option>\n                                <option value=\"tops\">上衣類</option>\n                                <option value=\"shirts\">襯衫類</option>\n                                <option value=\"knit\">針織衫 / 毛衣</option>\n                                <option value=\"one_piece\">洋裝類</option>\n                                <option value=\"outer\">外套類</option>\n                                <option value=\"bottoms\">褲裝類</option>\n                                <option value=\"skirts\">裙子類</option>\n                                <option value=\"general\">配件類</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div>\n                        <Link to=\"/admin/product/new\">\n                            <Btn>\n                                <FontAwesomeIcon icon={faPlus} />\n                            </Btn>\n                            <span>新增產品</span>\n                        </Link>\n                    </div>\n                </FilterContainer>\n                <TableContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>id</th>\n                                <th>性別</th>\n                                <th>分類</th>\n                                <th>品名</th>\n                                <th>簡介</th>\n                                <th>材質</th>\n                                <th>洗滌方式</th>\n                                <th>尺寸資訊</th>\n                                <th>顏色資訊</th>\n                                <th>編輯</th>\n                                <th>刪除</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {products && !error && products.length > 0 && (\n                                products.map(product => (\n                                    <Item key={product.id} product={product} />\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                    {products && !error && products.length === 0 && (\n                        <H4>查無商品</H4>\n                    )}\n                    {!products && (\n                        error ? (\n                            <P>{error}</P>\n                        ) : (\n                            <H4>商品載入中......</H4>\n                        )\n                    )}\n                </TableContainer>\n            </MainContainer>\n            <>\n                {popupCode !== 'color' && popupCode !== 'edit' && popupCode !== 'delete' && (\n                    <Popup type=\"size\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'edit' && popupCode !== 'delete' && (\n                    <Popup type=\"color\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'color' && popupCode !== 'delete' && (\n                    <Popup type=\"edit\" />\n                )}\n                {popupCode !== 'size' && popupCode !== 'color' && popupCode !== 'edit' && (\n                    <Popup type=\"delete\" />\n                )}\n            </>\n        </>\n        \n    )\n}","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\"\n\nimport { fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\nimport { getProducts, setProducts } from \"../../../features/product/productSlice\";\nimport { getProductAPI, updatePatternAPI } from \"../../../webAPI/productAPI\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n            &:nth-child(n+3):nth-child(-n+6){\n                width: 10%;\n            }\n\n            white-space: nowrap;\n\n            \n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                // white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\n\nconst FilterBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst Input = styled.input`\n    &:last-child {\n        width: 50px;\n        padding: 0 5px;\n    }\n    margin-right: 2px;\n    & + label {\n        margin-right: 5px;\n    }\n`\n\nconst Form = styled.td`\n    & ${Input}:last-child {\n        border: ${props => props.$isError && '2px solid red'};\n    }\n    & + td > span {\n        color: ${props => props.$isError && props.theme.color.alert};\n    }\n`\n\nconst Total = styled.td`\n    background-color: ${props => props.$safe && props.theme.color.success};\n    background-color: ${props => props.$caution && props.theme.color.yellow};\n    background-color: ${props => props.$danger && props.theme.color.alert};\n`\n\nconst SubItem = ({pattern, group}) => {\n\n    const history = useHistory();\n\n    const [type, setType] = useState('')\n    const [qty, setQty] = useState(0)\n\n    const [isEditing, setIsEditing] = useState(false)\n    const [error, setError] = useState('')\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'type': {\n                return setType(e.target.id)\n            }\n            case 'qty': {\n                if(error) setError('')\n                return setQty(e.target.value)\n            }\n            default: break\n        }\n    }\n\n    const handleIsEditing = e => {\n        if(e.target.name === 'edit') return setIsEditing(true)\n        if(e.target.name === 'save') {\n            if(!type || !parseInt(qty)) {\n                setType('')\n                setQty(0)\n                return setIsEditing(false)\n            }\n            updatePatternAPI(pattern.id, {\n                type, \n                quantity: parseInt(qty)\n            }).then(result => {\n                if(!result.ok) return setError(result.message)\n                alert('更改存貨數量成功!')\n                return history.go()\n            })\n        }\n    }\n\n    return (\n        <tr>\n            <td></td>\n            <td></td>\n            <td>{pattern[group].size}</td>\n            <td>{pattern.Color.name}</td>\n            <Total \n                $safe={pattern.total >= 30}\n                $caution={pattern.total >= 10 && pattern.total < 30}\n                $danger={pattern.total < 10 && typeof pattern.total === 'number'}\n            >\n                {typeof pattern.total === 'number' ? pattern.total : '-'}\n            </Total>\n            <Form $isError={error}>\n                <Input \n                    checked={type === 'INC'} \n                    onChange={handleInputChange} \n                    type=\"radio\" \n                    name=\"type\" \n                    id=\"INC\" \n                    disabled={!isEditing} \n                />\n                <label htmlFor=\"increase\">增加</label>\n                <Input \n                    checked={type === 'DEC'} \n                    onChange={handleInputChange} \n                    type=\"radio\" \n                    name=\"type\" \n                    id=\"DEC\" \n                    disabled={!isEditing} \n                />\n                <label htmlFor=\"decrease\">減少</label>\n                <Input \n                    value={qty} \n                    onChange={handleInputChange} \n                    type=\"number\" \n                    name=\"qty\" \n                    min=\"0\" \n                    disabled={!isEditing} \n                />個\n            </Form>\n            <td>{isEditing ? (<span>{error}</span>) : pattern.updatedAt}</td>\n            <td>\n                {isEditing ? (\n                    <FilterBtn onClick={handleIsEditing} type=\"submit\" name=\"save\" $white $active>\n                        儲存\n                    </FilterBtn>\n                ) : (\n                    <FilterBtn onClick={handleIsEditing} type=\"button\" name=\"edit\" $white $active>\n                        編輯\n                    </FilterBtn>\n                )}\n            </td>\n            <td>\n                <FilterBtn type=\"button\" $white $active>\n                    查看\n                </FilterBtn>\n            </td>\n        </tr>\n    )\n}\n\nconst Item = ({product}) => {\n\n    const [item, setItem] = useState()\n\n    useEffect(() => {\n        getProductAPI(product.id)\n            .then(result => {\n                setItem({group: result.data.product.Category.group.slice(0, -1), patterns: result.data.patterns})\n            })\n        return () => {\n            setItem()\n        }\n    }, [product.id])\n\n    return (\n        <>\n            <tr>\n                <td>{product.id}</td>\n                <td>{product.name}</td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            {item && item.patterns.map(pattern => {\n                return (\n                    <SubItem \n                        key={pattern.id} \n                        pattern={pattern} \n                        group={item.group} \n                    />\n                )\n            })}\n        </>\n    )\n}\n\nexport const Quantity = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n\n    useEffect(() => {\n        dispatch(getProducts('', ''))\n        return () => {\n            dispatch(setProducts(null))\n        }\n    }, [dispatch])\n\n    return (\n        <>\n            <MainContainer>\n                <H2>管理存貨數量與紀錄</H2>\n                <TableContainer>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>id</th>\n                                <th>產品名稱</th>\n                                <th>尺寸</th>\n                                <th>顏色</th>\n                                <th>數量</th>\n                                <th></th>\n                                <th>更新時間</th>\n                                <th></th>\n                                <th>進出紀錄</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {products && !error && products.length > 0 && (\n                                products.map(product => (\n                                    <Item key={product.id} product={product} />\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                    {products && !error && products.length === 0 && (\n                        <H4>查無商品</H4>\n                    )}\n                    {!products && (\n                        error ? (\n                            <P>{error}</P>\n                        ) : (\n                            <H4>商品載入中......</H4>\n                        )\n                    )}\n                </TableContainer>\n            </MainContainer>\n        </>\n        \n    )\n}","import styled from \"styled-components\"\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport { fontTheme, H2, H4, P, TextBtn } from \"../../../constants/style\"\nimport { getProducts, setProducts } from \"../../../features/product/productSlice\";\nimport { updateProductAPI } from \"../../../webAPI/productAPI\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h2 {\n        padding: 0 10px;\n    }\n`\n\nconst TableContainer = styled.div`\n    padding: 10px;\n    overflow: auto;\n    & table {\n        width: 100%;\n        min-width: 1000px;\n        border: 1px solid #aaa;\n        & th, td {\n            ${fontTheme.span}\n            color: ${props => props.theme.color.black};\n            border-top: 1px solid #aaa;\n            border-bottom: 1px solid #aaa;\n            &:nth-child(n+3):nth-child(-n+6){\n                width: 8%;\n            }\n        }\n        & tr {\n            vertical-align: top;\n            & th {\n                white-space: nowrap;\n                text-align: left;\n                padding: 5px 10px;\n                background-color: ${props => props.theme.color.lightGrey};\n                color: ${props => props.theme.color.white};\n                font-weight: ${props => props.theme.fontWeight.xl};\n            }\n            & td {\n                padding: 10px;\n            }\n        }\n    }\n`\n\nconst FilterContainer = styled.div`\n    padding: 10px;\n    display: flex;\n    ${fontTheme.p}\n    & > div + div {\n        margin-left: 10px;\n    }\n    & > button {\n        margin-right: 20px;\n    }\n`\n\nconst SortBtn = styled.button`\n    ${fontTheme.span}\n    color: ${props => props.theme.color.white};\n    font-weight: ${props => props.theme.fontWeight.xl};\n\n    position: relative;\n    &::before {\n        content: '';\n        display: block;\n        width: 0;\n        height: 0;\n        position: absolute;\n        right: -15px;\n        top: -1px;\n        border-left: 5px solid transparent;\n        border-right: 5px solid transparent;\n        border-bottom: 10px solid ${props => props.theme.color.grey};\n    }\n    &::after {\n        content: '';\n        display: block;\n        width: 0;\n        height: 0;\n        position: absolute;\n        right: -15px;\n        bottom: -1px;\n        border-left: 5px solid transparent;\n        border-right: 5px solid transparent;\n        border-top: 10px solid ${props => props.theme.color.grey};\n    }\n`\n\nconst FilterBtn = styled(TextBtn)`\n    padding: 0 10px;\n`\n\nconst BooleanSvg = styled(FontAwesomeIcon)`\n    font-size: ${props => props.theme.fontSize.bodyLarge};\n    color: ${props => props.$active ? props.theme.color.success : props.theme.color.alert};\n`\n\nconst PriceInput = styled.input`\n    width: 50px;\n`\n\nconst Item = ({product}) => {\n\n    const [isOn, setIsOn] = useState(null)\n    const [isSale, setIsSale] = useState(null)\n    const [priceStandard, setPriceStandard] = useState(NaN)\n    const [priceSale, setPriceSale] = useState(NaN)\n\n    const [isEditing, setIsEditing] = useState(false)\n\n    useEffect(() => {\n        setIsOn(product.is_on)\n        setIsSale(product.is_sale)\n        setPriceStandard(product.price_standard || '')\n        setPriceSale(product.price_sale || '')\n        return () => {\n            setIsOn(null)\n            setIsSale(null)\n            setPriceStandard(NaN)\n            setPriceSale(NaN)\n        }\n    }, [product])\n\n    const handleInputChange = e => {\n        switch (e.target.name) {\n            case 'is_on': {\n                return setIsOn(e.target.checked)\n            }\n            case 'is_sale': {\n                return setIsSale(e.target.checked)\n            }\n            case 'price_standard': {\n                return setPriceStandard(e.target.value)\n            }\n            case 'price_sale': {\n                return setPriceSale(e.target.value)\n            }\n            default: break\n        }\n    }\n\n    const handleIsEditing = e => {\n        if(e.target.name === 'edit') return setIsEditing(true)\n        if(e.target.name === 'save') {\n            return updateProductAPI(product.id, {\n                is_on: isOn, \n                is_sale: isSale, \n                price_standard: parseInt(priceStandard), \n                price_sale: parseInt(priceSale)\n            }).then(result => {\n                if(!result.ok) return console.log(result.message)\n                setIsEditing(false)\n            })\n        }\n    }\n\n    return (\n        <tr>\n            <td>{product.id}</td>\n            <td>{product.name}</td>\n            <td>\n                {isEditing ? (\n                    <input \n                        onChange={handleInputChange} \n                        checked={isOn} \n                        type=\"checkbox\" \n                        name=\"is_on\" \n                    />\n                ) : (\n                    <BooleanSvg icon={isOn ? faCheck : faTimes} $active={isOn} />\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <input \n                        onChange={handleInputChange} \n                        checked={isSale} \n                        type=\"checkbox\" \n                        name=\"is_sale\" \n                    />\n                ) : (\n                    <BooleanSvg icon={isSale ? faCheck : faTimes} $active={isSale} />\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <PriceInput \n                        onChange={handleInputChange} \n                        value={priceStandard} \n                        type=\"number\" \n                        name=\"price_standard\" \n                        min=\"0\"\n                    />\n                ) : (\n                    priceStandard || '-'\n                )}\n            </td>\n            <td>\n                {isEditing ? (\n                    <PriceInput \n                        onChange={handleInputChange} \n                        value={priceSale} \n                        type=\"number\" \n                        name=\"price_sale\" \n                        min=\"0\"\n                    />\n                ) : (\n                    priceSale || '-'\n                )}\n            </td>\n            <td>{product.sold}</td>\n            <td>{product.updatedAt}</td>\n            <td>\n                {isEditing ? (\n                    <FilterBtn name=\"save\" onClick={handleIsEditing} $white $active>\n                        儲存\n                    </FilterBtn>\n                ) : (\n                    <FilterBtn name=\"edit\" onClick={handleIsEditing} $white $active>\n                        編輯\n                    </FilterBtn>\n                )}\n            </td>\n            <td>\n                <FilterBtn $white $active>\n                    查看\n                </FilterBtn>\n            </td>\n        </tr>\n    )\n}\n\nexport const Price = () => {\n\n    const dispatch = useDispatch()\n\n    const products = useSelector(state => state.product.products)\n    const error = useSelector(state => state.product.error)\n\n    const [isOn, setIsOn] = useState('')\n    const [isSale, setIsSale] = useState('')\n    const [order, setOrder] = useState('')\n\n    useEffect(() => {\n        const search = new URLSearchParams();\n        if(isOn !== '') search.set('is_on', isOn)\n        if(isSale !== '') search.set('is_sale', isSale)\n        if(order !== '') search.set('order', order)\n        dispatch(getProducts('', `?${search}`))\n        return () => {\n            dispatch(setProducts(null))\n        }\n    }, [dispatch, isOn, isSale, order])\n\n    const handleSelectChange = e => {\n        if(e.target.name === \"is_on\") return setIsOn(e.target.value)\n        if(e.target.name === \"is_sale\") return setIsSale(e.target.value)\n        if(e.target.name === \"clearFilter\"){\n            setIsOn('')\n            setIsSale('')\n        }\n    }\n\n    const handleSort = e => {\n        if (e.target.name === 'sold') {\n            if(order === 'sold_desc') return setOrder('sold_asc')\n            if(order === 'sold_asc') return setOrder('sold_desc')\n            setOrder('sold_desc')            \n        } else {\n            if(order === 'price_desc') return setOrder('price_asc')\n            if(order === 'price_asc') return setOrder('price_desc')\n            setOrder('price_asc')\n        }\n    }\n\n    return (\n        <MainContainer>\n            <H2>管理商品價格與紀錄</H2>\n            <FilterContainer>\n                <FilterBtn name=\"clearFilter\" onClick={handleSelectChange} $white $active>清除篩選</FilterBtn>\n                <div>\n                    <select name=\"is_on\" value={isOn} onChange={handleSelectChange}>\n                        <option value=\"\">-----</option>\n                        <option value=\"1\">已上架</option>\n                        <option value=\"0\">未上架</option>\n                    </select>\n                </div>\n                <div>\n                    <select name=\"is_sale\" value={isSale} onChange={handleSelectChange}>\n                        <option value=\"\">-----</option>\n                        <option value=\"1\">特價商品</option>\n                        <option value=\"0\">原價商品</option>\n                    </select>\n                </div>\n            </FilterContainer>\n            <TableContainer>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>id</th>\n                            <th>產品名稱</th>\n                            <th>上架中</th>\n                            <th>特價中</th>\n                            <th>\n                                <SortBtn name=\"price_standard\" onClick={handleSort}>原價</SortBtn>\n                            </th>\n                            <th>\n                                <SortBtn name=\"price_sale\" onClick={handleSort}>特價</SortBtn>\n                            </th>\n                            <th>\n                                <SortBtn name=\"sold\" onClick={handleSort}>已售出</SortBtn>\n                            </th>\n                            <th>更新時間</th>\n                            <th></th>\n                            <th>存貨紀錄</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {products && !error && products.length > 0 && (\n                            products.map(product => (\n                                <Item key={product.id} product={product} />\n                            ))\n                        )}\n                    </tbody>\n                </table>\n                {products && !error && products.length === 0 && (\n                    <H4>查無商品</H4>\n                )}\n                {!products && (\n                    error ? (\n                        <P>{error}</P>\n                    ) : (\n                        <H4>商品載入中...</H4>\n                    )\n                )}\n            </TableContainer>\n        </MainContainer>        \n    )\n}","import styled from \"styled-components\";\nimport { Switch, Route, Link, useRouteMatch, useLocation } from \"react-router-dom\"\n\nimport { H3 } from \"../../../constants/style\";\n\nimport { Information } from \"./Information\";\nimport { Quantity } from \"./Quantity\";\nimport { Price } from \"./Price\";\nimport AddProduct from \"./AddProduct\";\n\n\nconst MainContainer = styled.main`\n    width: 70%;\n    flex-grow: 1;\n    & h3 {\n        padding: 10px;\n    }\n    & a {\n        color: ${props => props.theme.color.black};\n    }\n`\n\nexport default function AdminProductPage () {\n\n    const { path, url } = useRouteMatch();\n    const { pathname } = useLocation();\n\n    return (\n        <>\n            {path === pathname && (\n                <MainContainer>\n                    <H3>\n                        <Link to={`${url}/information`}>新增及管理產品資訊</Link>\n                    </H3>\n                    <H3>\n                        <Link to={`${url}/quantity`}>管理存貨數量與紀錄</Link>\n                    </H3>\n                    <H3>\n                        <Link to={`${url}/price`}>管理商品價格與紀錄</Link>\n                    </H3>\n                </MainContainer>\n            )}\n            <Switch>\n                <Route path={`${path}/information`}>\n                    <Information />\n                </Route>\n                <Route path={`${path}/quantity`}>\n                    <Quantity />\n                </Route>\n                <Route path={`${path}/price`}>\n                    <Price />\n                </Route>\n                <Route path={`${path}/new`}>\n                    <AddProduct />\n                </Route>\n                <Route path={`${path}/edit/:id`}>\n                    <AddProduct />\n                </Route>\n            </Switch>\n        </>\n    )\n}","import styled from \"styled-components\";\nimport { Switch, Route, useRouteMatch, useLocation } from \"react-router-dom\"\n\nimport { CrumbNav } from \"../../components/CrumbNav\";\nimport { H4, LinkedTag, MEDIA_QUERY, P, PageContainer, PageWrapper } from \"../../constants/style\";\n\nimport AdminProductPage from \"./AdminProductPage\";\n\n\nconst AsideContainer = styled.aside`\n    width: 20%;\n    min-width: 250px;\n\n    & > div {\n        z-index: 1;\n        margin: 10px;\n        background-color: ${props => props.theme.color.white};\n    }\n\n    ${MEDIA_QUERY.main} {\n        position: fixed;\n        left: -240px;\n        z-index: 200;\n        transition: .3s;\n    }\n\n`\n\nconst AsideBlock = styled.div`\n    border: 1px solid ${props => props.theme.color.lightGrey}8;\n    & > h4 {\n        padding: 10px 15px;\n        font-weight: ${props => props.theme.fontWeight.xl};\n        background-color: #eee;\n    }\n    & > div {\n        padding: 5px 15px;\n    }\n`\n\nconst AsideContent = styled(P)`\n    line-height: 2em;\n    padding: ${props => props.$active ? '5px 0 7px' : '5px 0'};\n    font-weight: ${props => props.$active && props.theme.fontWeight.xl};\n    display: inline-block;\n    & > a {\n        color: ${props => props.theme.color.black};\n    }\n`\n\n\n\nexport default function AdminPage () {\n\n    let { path, url } = useRouteMatch();\n\n    const { pathname } = useLocation();\n    const subPath = pathname.split('/').slice(2, 4)\n    const pathArr = ['', 'admin']\n    if(subPath) subPath.map(path => pathArr.push(path))\n\n\n    return (\n        <>\n            <CrumbNav pathArr={pathArr} />\n            <PageWrapper>\n                <PageContainer>\n                    <AsideContainer>\n                        <AsideBlock>\n                            <H4>商品管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[1] === 'information'}>\n                                    {subPath[1] === 'information' ? (\n                                        <>新增及管理產品資訊</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/product/information`}>新增及管理產品資訊</LinkedTag>\n                                    )}\n                                </AsideContent>\n                                <AsideContent $active={subPath[1] === 'quantity'}>\n                                    {subPath[1] === 'quantity' ? (\n                                        <>管理存貨數量與紀錄</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/product/quantity`}>管理存貨數量與紀錄</LinkedTag>\n                                    )}\n                                </AsideContent>\n                                <AsideContent $active={subPath[1] === 'price'}>\n                                    {subPath[1] === 'price' ? (\n                                        <>管理商品價格與紀錄</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/product/price`}>管理商品價格與紀錄</LinkedTag>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                        <AsideBlock>\n                            <H4>訂單管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[0] === 'order'}>\n                                    {subPath[0] === 'order' ? (\n                                        <>管理所有訂單</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/order`}>管理所有訂單</LinkedTag>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                        <AsideBlock>\n                            <H4>用戶管理</H4>\n                            <div>\n                                <AsideContent $active={subPath[0] === 'user'}>\n                                    {subPath[0] === 'user' ? (\n                                        <>管理所有用戶</>\n                                    ) : (\n                                        <LinkedTag to={`${url}/user`}>管理所有用戶</LinkedTag>\n                                    )}\n                                </AsideContent>\n                            </div>\n                        </AsideBlock>\n                    </AsideContainer>\n\n                    <Switch>\n                        <Route path={`${path}/product`}>\n                            <AdminProductPage />\n                        </Route>\n                        {/* <Route path={`${path}/order`}>\n                            <AdminProductPage />\n                        </Route>\n                        <Route path={`${path}/user`}>\n                            <AdminProductPage />\n                        </Route> */}\n                    </Switch>\n\n                </PageContainer>\n            </PageWrapper>\n        </>\n    )\n}","import './App.css';\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\"\nimport ScrollRestoration from 'react-scroll-restoration'\n\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport HomePage from './pages/HomePage'\nimport ListPage from './pages/ListPage'\nimport ProductPage from './pages/ProductPage'\nimport CartPage from './pages/CartPage'\nimport AdminPage from './pages/AdminPages/AdminPage';\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\n\nlibrary.add(fab)\n\n\nfunction App() {\n\n  return (\n    <Router>\n      <ScrollRestoration />\n      <Header/>\n      <Switch>\n        <Route exact path=\"/\">\n          <HomePage />\n        </Route>\n        <Route path=\"/collection\">\n          <ListPage />\n        </Route>\n        <Route path=\"/product/:id\">\n          <ProductPage />\n        </Route>\n        <Route path=\"/cart\">\n          <CartPage />\n        </Route>\n        <Route path=\"/admin\">\n          <AdminPage />\n        </Route>\n      </Switch>\n      <Footer/>\n    </Router>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport productReducer from '../features/product/productSlice'\nimport generalReducer from '../features/general/generalSlice'\nimport cartReducer from '../features/cart/cartSlice'\n\nexport const store = configureStore({\n  reducer: {\n    product: productReducer,\n    general: generalReducer,\n    cart: cartReducer,\n  },\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { ThemeProvider } from 'styled-components';\nimport { theme } from './constants/theme';\n\nimport { store } from './app/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <App />\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}